import{o as Ft,c as Wt,b as Ot,_ as Ve,r as gi,w as Sr,f as kr,i as xe,s as Ui,v as Hi,a as Gi,h as Ae,F as dn,g as pn,n as Pr,H as os,t as sr,e as se,p as us}from"./chunks/framework.55e3e5dc.js";import{b as Ir}from"./chunks/index.40bb65c1.js";import{c as le,g as gn,a as hs}from"./chunks/commonjsHelpers.042e6b4d.js";import{_ as ls}from"./chunks/EventRow.2f7814f2.js";import"./chunks/index.45fa6ee6.js";import"./chunks/EventCard.af633058.js";import"./chunks/pages.data.ef860f22.js";const cs={class:"flex flex-wrap py-32"},fs=Ot("div",{class:"flex-1 text-center"},[Ot("div",{class:"text-3xl font-bold mb-4"},"Denis Starov"),Ot("a",{class:"text-3xl underline font-bold text-light-300",href:"mailto:davay@tsoop.com"},"davay@tsoop.com")],-1),ds=[fs];function ps(it,ut){return Ft(),Wt("div",cs,ds)}const gs={},_s=Ve(gs,[["render",ps]]),vs="/img/holologo.svg",ms="/img/ct-logo.svg";const _n=it=>(Ui("data-v-f7d92078"),it=it(),Hi(),it),ys=_n(()=>Ot("a",{class:"panel",href:"https://chromatone.center",target:"_blank"},[Ot("img",{class:"m-4",src:vs})],-1)),xs={key:0,class:"panel"},bs=_n(()=>Ot("iframe",{class:"rounded-xl mx-auto",width:"320",height:"200",src:"https://www.youtube.com/embed/3_815sW-ZKY",title:"YouTube video player",frameborder:"0",allowfullscreen:""},null,-1)),ws=Gi('<div class="py-4" data-v-f7d92078><img src="'+ms+'" data-v-f7d92078></div><div class="p-4 text-start" data-v-f7d92078><div class="text-lg mb-6" data-v-f7d92078>We explore music visually with Chromatone â€“ the universal color notation system. It&#39;s a simple visual music language, that involves 12 spectral colors met with 12 chromatic notes. Try it today!</div><a class="underline text-2xl font-bold" href="https://chromatone.center" target="_blank" data-v-f7d92078>chromatone.center </a></div>',2),Cs=[bs,ws],Ss={__name:"ChromaTone",setup(it){const ut=gi(null),L=gi(!1),U=Ir(ut);return Sr(U,X=>{L.value=!0}),(X,E)=>(Ft(),Wt("div",{class:"row min-h-100vh",ref_key:"target",ref:ut},[ys,kr(U)||L.value?(Ft(),Wt("div",xs,Cs)):xe("",!0)],512))}},ks=Ve(Ss,[["__scopeId","data-v-f7d92078"]]),Ps={style:{"vertical-align":"middle"},viewBox:"-2 -2 24 24",width:"1.2em",height:"1.2em"},Is=Gi('<g fill="currentColor"><path d="M10 18a8 8 0 1 0 0-16a8 8 0 0 0 0 16zm0 2C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10s-4.477 10-10 10z"></path><path d="M5 12.111h1.82v1H5z"></path><path d="M5 11.421h1.82v1H5z"></path><path d="M5 10.731h1.82v1H5z"></path><path d="M5 10.041h1.82v1H5z"></path><path d="M5 9.351h1.82v1H5zm2.041 2.76h1.82v1h-1.82z"></path><path d="M7.041 11.421h1.82v1h-1.82z"></path><path d="M7.041 10.731h1.82v1h-1.82zm2.041 1.38h1.82v1h-1.82z"></path><path d="M9.082 11.421h1.82v1h-1.82z"></path><path d="M9.082 10.731h1.82v1h-1.82z"></path><path d="M9.082 10.041h1.82v1h-1.82z"></path><path d="M9.082 9.351h1.82v1h-1.82z"></path><path d="M9.082 8.66h1.82v1h-1.82z"></path><path d="M9.082 7.97h1.82v1h-1.82zm2.041 4.141h1.821v1h-1.821z"></path><path d="M11.123 11.421h1.821v1h-1.821z"></path><path d="M11.123 10.731h1.821v1h-1.821z"></path><path d="M11.123 10.041h1.821v1h-1.821z"></path><path d="M11.123 9.351h1.821v1h-1.821zm2.041 2.76h1.82v1h-1.82z"></path><path d="M13.164 11.421h1.82v1h-1.82z"></path><path d="M13.164 10.731h1.82v1h-1.82z"></path><path d="M13.164 10.041h1.82v1h-1.82z"></path><path d="M13.164 9.35h1.82v1h-1.82z"></path><path d="M13.164 8.66h1.82v1h-1.82z"></path><path d="M13.164 7.97h1.82v1h-1.82z"></path><path d="M13.164 7.28h1.82v1h-1.82z"></path></g>',1),As=[Is];function Es(it,ut){return Ft(),Wt("svg",Ps,As)}const Ts={name:"jam-deezer-circle",render:Es},Ls={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Os=Ot("path",{fill:"currentColor",d:"M16.2 4c-3.3 0-6.9 1.2-7.7 5.3c-.1.4.2.7.5.7l3.3.3c.3 0 .6-.3.6-.6c.3-1.4 1.5-2.1 2.8-2.1c.7 0 1.5.3 1.9.9c.5.7.4 1.7.4 2.5v.5c-2 .2-4.6.4-6.5 1.2c-2.2.9-3.7 2.8-3.7 5.7c0 3.6 2.3 5.4 5.2 5.4c2.5 0 3.8-.6 5.7-2.5c.6.9.9 1.4 2 2.3c.3.1.6.1.8-.1c.7-.6 2-1.7 2.7-2.3c.3-.2.2-.6 0-.9c-.6-.9-1.3-1.6-1.3-3.2v-5.4c0-2.3.2-4.4-1.5-6C20.1 4.4 17.9 4 16.2 4zm.9 10.3h.9v.8c0 1.3.1 2.5-.6 3.7c-.5 1-1.4 1.6-2.4 1.6c-1.3 0-2.1-1-2.1-2.5c0-2.7 2-3.4 4.2-3.6zm9.6 8.1c-.9 0-1.9.2-2.7.8c-.2.2-.2.4.1.4c.9-.1 2.8-.4 3.2.1s-.4 2.3-.7 3.1c-.1.2.1.3.3.2c1.5-1.2 1.9-3.8 1.6-4.2c-.2-.3-.9-.4-1.8-.4zm-23 .4c-.2 0-.3.3-.1.4c3.3 3 7.6 4.7 12.4 4.7c3.4 0 7.4-1.1 10.2-3.1c.5-.3.1-.9-.4-.7c-3.1 1.3-6.4 1.9-9.5 1.9c-4.5 0-8.8-1.2-12.4-3.3c-.1.2-.2.1-.2.1z"},null,-1),Ms=[Os];function zs(it,ut){return Ft(),Wt("svg",Ls,Ms)}const Ns={name:"la-amazon",render:zs},Rs={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Bs=Ot("path",{fill:"currentColor","fill-rule":"evenodd",d:"M16 4C9.371 4 4 9.371 4 16c0 5.3 3.438 9.8 8.207 11.387c.602.11.82-.258.82-.578c0-.286-.011-1.04-.015-2.04c-3.34.723-4.043-1.609-4.043-1.609c-.547-1.387-1.332-1.758-1.332-1.758c-1.09-.742.082-.726.082-.726c1.203.086 1.836 1.234 1.836 1.234c1.07 1.836 2.808 1.305 3.492 1c.11-.777.422-1.305.762-1.605c-2.664-.301-5.465-1.332-5.465-5.93c0-1.313.469-2.383 1.234-3.223c-.121-.3-.535-1.523.117-3.175c0 0 1.008-.32 3.301 1.23A11.487 11.487 0 0 1 16 9.805c1.02.004 2.047.136 3.004.402c2.293-1.55 3.297-1.23 3.297-1.23c.656 1.652.246 2.875.12 3.175c.77.84 1.231 1.91 1.231 3.223c0 4.61-2.804 5.621-5.476 5.922c.43.367.812 1.101.812 2.219c0 1.605-.011 2.898-.011 3.293c0 .32.214.695.824.578C24.566 25.797 28 21.3 28 16c0-6.629-5.371-12-12-12z"},null,-1),Vs=[Bs];function Fs(it,ut){return Ft(),Wt("svg",Rs,Vs)}const Ds={name:"la-github",render:Fs},qs={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Us=Ot("path",{fill:"currentColor",d:"M9.082 5A4.098 4.098 0 0 0 5 9.082v13.836A4.098 4.098 0 0 0 9.082 27h13.836A4.098 4.098 0 0 0 27 22.918V9.082A4.098 4.098 0 0 0 22.918 5zm0 2h13.836A2.07 2.07 0 0 1 25 9.082v13.836A2.07 2.07 0 0 1 22.918 25H9.082A2.069 2.069 0 0 1 7 22.918V9.082A2.07 2.07 0 0 1 9.082 7zm6.637 5.23c-.735-.007-1.36 0-1.711.172c-.235.114-.414.371-.305.383c.137.02.445.086.61.309c.21.285.203.93.203.93s.117 1.773-.286 1.996c-.277.152-.656-.157-1.476-1.567c-.418-.726-.734-1.527-.734-1.527s-.06-.149-.168-.227c-.133-.097-.317-.129-.317-.129l-1.957.012s-.293.012-.398.137c-.098.117-.008.347-.008.347s1.531 3.582 3.265 5.387C14.027 20.11 15.832 20 15.832 20h.82s.246-.027.371-.16c.118-.125.114-.36.114-.36s-.016-1.097.492-1.261c.504-.157 1.144 1.062 1.828 1.531c.52.355.914.277.914.277L22.2 20s.953-.059.5-.813c-.035-.058-.262-.554-1.355-1.57c-1.149-1.062-.996-.89.386-2.73c.84-1.121 1.176-1.805 1.07-2.102c-.1-.277-.718-.203-.718-.203l-2.059.012s-.152-.02-.265.047a.576.576 0 0 0-.18.222s-.328.867-.762 1.606c-.914 1.554-1.285 1.64-1.433 1.543c-.348-.227-.262-.907-.262-1.387c0-1.512.23-2.137-.445-2.3c-.223-.055-.387-.09-.957-.095z"},null,-1),Hs=[Us];function Gs(it,ut){return Ft(),Wt("svg",qs,Hs)}const js={name:"la-vk",render:Gs},Ws={style:{"vertical-align":"middle"},viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ks=Ot("path",{fill:"currentColor",d:"M17 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3Zm1 17a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1Zm-3.62-8.2A3 3 0 0 0 15 9a3 3 0 0 0-6 0a3 3 0 0 0 .62 1.8a4 4 0 1 0 4.76 0ZM12 8a1 1 0 1 1-1 1a1 1 0 0 1 1-1Zm0 8a2 2 0 1 1 2-2a2 2 0 0 1-2 2Z"},null,-1),Zs=[Ks];function Xs(it,ut){return Ft(),Wt("svg",Ws,Zs)}const Ys={name:"uil-boombox",render:Xs},Qs={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},$s=Ot("path",{fill:"currentColor",d:"M19.663 4H16.17C12.738 4 10 6.72 10 12c0 3.168 1.237 5.504 3.749 6.656l-4.688 8.832c-.153.289 0 .512.245.512h2.175c.184 0 .307-.064.368-.223L16.25 19h1.25l-.008 8.777c0 .096.092.223.214.223h2.049c.184 0 .245-.096.245-.255V4.32c0-.224-.123-.32-.337-.32zM17.5 17H16c-1.5 0-3.5-1.16-3.5-5c0-4.001 1.631-6 3.5-6h1.5v11z"},null,-1),Js=[$s];function ta(it,ut){return Ft(),Wt("svg",Qs,Js)}const ea={name:"la-yandex",render:ta},ia={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ra=Ot("path",{fill:"currentColor",d:"M20.844 2c-1.64 0-3.297.852-4.407 2.156v.032c-.789.98-1.644 2.527-1.375 4.312c-.128-.05-.136-.035-.28-.094c-.692-.281-1.548-.594-2.563-.594c-3.98 0-7 3.606-7 8.344c0 3.067 1.031 5.942 2.406 8.094c.688 1.078 1.469 1.965 2.281 2.625c.813.66 1.664 1.125 2.625 1.125c.961 0 1.68-.324 2.219-.563c.54-.238.957-.437 1.75-.437c.715 0 1.078.195 1.625.438c.547.242 1.293.562 2.281.562c1.07 0 1.98-.523 2.719-1.188c.738-.664 1.36-1.519 1.875-2.343c.516-.824.922-1.633 1.219-2.282c.148-.324.258-.593.343-.812c.086-.219.13-.281.188-.531l.188-.813l-.75-.343a5.33 5.33 0 0 1-1.5-1.063c-.625-.637-1.157-1.508-1.157-2.844A4.08 4.08 0 0 1 24.563 13c.265-.309.542-.563.75-.719c.105-.078.187-.117.25-.156c.062-.04.05-.027.156-.094l.843-.531l-.562-.844c-1.633-2.511-4.246-2.844-5.281-2.844c-.48 0-.82.168-1.25.25c.242-.226.554-.367.75-.624c.004-.004-.004-.028 0-.032c.011-.011.023-.02.031-.031h.031a6.16 6.16 0 0 0 1.563-4.438L21.78 2zm-1.188 2.313c-.172.66-.453 1.289-.906 1.78l-.063.063c-.382.516-.972.899-1.562 1.125c.164-.652.45-1.312.844-1.812c.008-.012.023-.02.031-.032c.438-.5 1.043-.875 1.656-1.125zm-7.437 5.5c.558 0 1.172.21 1.812.468c.64.258 1.239.594 2.094.594c.852 0 1.496-.336 2.25-.594c.754-.258 1.559-.469 2.344-.469c.523 0 1.816.333 2.906 1.344c-.191.172-.36.297-.563.531a6.21 6.21 0 0 0-1.53 4.094c0 1.906.831 3.34 1.718 4.25c.55.563.89.696 1.313.938c-.055.125-.086.222-.157.375a18.82 18.82 0 0 1-1.093 2.062c-.454.727-1.004 1.434-1.532 1.907c-.527.472-1 .687-1.375.687c-.566 0-.898-.156-1.468-.406S17.581 25 16.5 25c-1.137 0-1.977.336-2.563.594c-.585.258-.89.406-1.406.406c-.246 0-.777-.2-1.375-.688c-.597-.488-1.254-1.23-1.844-2.156c-1.183-1.851-2.093-4.394-2.093-7c0-3.941 2.199-6.343 5-6.343z"},null,-1),na=[ra];function sa(it,ut){return Ft(),Wt("svg",ia,na)}const aa={name:"la-apple",render:sa},oa={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ua=Ot("path",{fill:"currentColor",d:"M16 4C9.371 4 4 9.371 4 16s5.371 12 12 12s12-5.371 12-12S22.629 4 16 4zm0 2a9.96 9.96 0 0 1 10 10a9.96 9.96 0 0 1-10 10A9.96 9.96 0 0 1 6 16A9.96 9.96 0 0 1 16 6zm-1.594 4.75c-1.945 0-3.64.18-5.25.688c-.426.085-.781.406-.781 1c0 .593.438 1.117 1.031 1.03c.254 0 .426-.093.594-.093c1.355-.34 2.883-.5 4.406-.5c2.961 0 6 .66 8.031 1.844c.254.086.34.187.594.187c.594 0 1.008-.437 1.094-1.031c0-.508-.254-.832-.594-1c-2.539-1.438-5.91-2.125-9.125-2.125zm-.281 3.719c-1.777 0-3.043.254-4.313.594c-.421.167-.656.43-.656.937c0 .422.336.844.844.844c.172 0 .246-.008.5-.094c.93-.254 2.207-.406 3.563-.406c2.792 0 5.222.68 7 1.781c.167.086.34.156.593.156c.508 0 .844-.43.844-.937c0-.34-.16-.676-.5-.844c-2.2-1.355-4.996-2.031-7.875-2.031zm.281 3.656c-1.437 0-2.8.16-4.156.5c-.34.086-.594.328-.594.75c0 .34.266.688.688.688c.086 0 .332-.094.5-.094a15.582 15.582 0 0 1 3.469-.407c2.113 0 4.046.508 5.656 1.438c.172.086.363.156.531.156c.34 0 .664-.254.75-.593c0-.426-.184-.583-.438-.75c-1.863-1.102-4.039-1.688-6.406-1.688z"},null,-1),ha=[ua];function la(it,ut){return Ft(),Wt("svg",oa,ha)}const ca={name:"la-spotify",render:la},fa={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},da=Ot("path",{fill:"currentColor",d:"M27.988 10.41c-.105 2.344-1.738 5.547-4.894 9.617c-3.266 4.246-6.024 6.371-8.282 6.371c-1.402 0-2.585-1.293-3.55-3.878c-.649-2.375-1.293-4.747-1.938-7.118c-.719-2.59-1.488-3.882-2.312-3.882c-.18 0-.809.378-1.883 1.132L4 11.195a353.385 353.385 0 0 0 3.504-3.129C9.082 6.7 10.27 5.98 11.059 5.906c1.867-.18 3.02 1.098 3.449 3.836c.465 2.957.789 4.793.969 5.512c.539 2.453 1.132 3.676 1.78 3.676c.5 0 1.255-.793 2.263-2.383c1.003-1.594 1.543-2.8 1.617-3.633c.14-1.371-.399-2.059-1.617-2.059c-.575 0-1.168.13-1.778.391c1.18-3.867 3.434-5.75 6.762-5.64c2.465.07 3.625 1.671 3.484 4.804z"},null,-1),pa=[da];function ga(it,ut){return Ft(),Wt("svg",fa,pa)}const _a={name:"la-vimeo",render:ga},va={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ma=Ot("path",{fill:"currentColor",d:"M16 6c-3.766 0-7.094.39-9.125.688c-1.68.246-3.035 1.511-3.344 3.187C3.27 11.301 3 13.387 3 16s.27 4.7.531 6.125c.309 1.676 1.664 2.945 3.344 3.188c2.04.296 5.379.687 9.125.687c3.746 0 7.086-.39 9.125-.688c1.68-.242 3.035-1.511 3.344-3.187c.261-1.43.531-3.52.531-6.125s-.266-4.695-.531-6.125c-.309-1.676-1.664-2.941-3.344-3.188C23.094 6.391 19.765 6 16 6zm0 2c3.633 0 6.879.371 8.844.656A1.966 1.966 0 0 1 26.5 10.25c.242 1.32.5 3.277.5 5.75c0 2.469-.258 4.43-.5 5.75a1.957 1.957 0 0 1-1.656 1.594C22.87 23.629 19.609 24 16 24c-3.61 0-6.875-.371-8.844-.656A1.962 1.962 0 0 1 5.5 21.75C5.258 20.43 5 18.477 5 16c0-2.48.258-4.43.5-5.75a1.962 1.962 0 0 1 1.656-1.594C9.117 8.371 12.367 8 16 8zm-3 2.281V21.72l1.5-.844l7-4L23 16l-1.5-.875l-7-4zm2 3.438L18.969 16L15 18.281z"},null,-1),ya=[ma];function xa(it,ut){return Ft(),Wt("svg",va,ya)}const ba={name:"la-youtube",render:xa},wa={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ca=Ot("path",{fill:"currentColor",d:"M16 3C8.832 3 3 8.832 3 16s5.832 13 13 13s13-5.832 13-13S23.168 3 16 3zm0 2c6.065 0 11 4.935 11 11s-4.935 11-11 11S5 22.065 5 16S9.935 5 16 5zm-2.617 7l-4 8h9.234l4-8h-9.234zm1.234 2h4.766l-2 4h-4.766l2-4z"},null,-1),Sa=[Ca];function ka(it,ut){return Ft(),Wt("svg",wa,Sa)}const Pa={name:"la-bandcamp",render:ka},Ia={style:{"vertical-align":"middle"},viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Aa=Ot("path",{fill:"currentColor",d:"M11.469 5C7.918 5 5 7.914 5 11.469v9.062C5 24.082 7.914 27 11.469 27h9.062C24.082 27 27 24.086 27 20.531V11.47C27 7.918 24.086 5 20.531 5zm0 2h9.062A4.463 4.463 0 0 1 25 11.469v9.062A4.463 4.463 0 0 1 20.531 25H11.47A4.463 4.463 0 0 1 7 20.531V11.47A4.463 4.463 0 0 1 11.469 7zm10.437 2.188a.902.902 0 0 0-.906.906c0 .504.402.906.906.906a.902.902 0 0 0 .907-.906a.902.902 0 0 0-.907-.906zM16 10c-3.3 0-6 2.7-6 6s2.7 6 6 6s6-2.7 6-6s-2.7-6-6-6zm0 2c2.223 0 4 1.777 4 4s-1.777 4-4 4s-4-1.777-4-4s1.777-4 4-4z"},null,-1),Ea=[Aa];function Ta(it,ut){return Ft(),Wt("svg",Ia,Ea)}const La={name:"la-instagram",render:Ta};const Oa=["href"],Ma={__name:"link-button",props:{url:{type:String,default:"https://www.tsoop.ru"},service:{type:String,default:"instagram"}},setup(it){return(ut,L)=>{const U=La,X=Pa,E=ba,nt=_a,F=ca,Y=aa,K=ea,G=Ys,J=js,st=Ds,R=Ns,_t=Ts;return Ft(),Wt("a",{class:"link-button",href:it.url,target:"_blank"},[it.service=="instagram"?(Ft(),Ae(U,{key:0})):xe("",!0),it.service=="bandcamp"?(Ft(),Ae(X,{key:1})):xe("",!0),it.service=="youtube"?(Ft(),Ae(E,{key:2})):xe("",!0),it.service=="vimeo"?(Ft(),Ae(nt,{key:3})):xe("",!0),it.service=="spotify"?(Ft(),Ae(F,{key:4})):xe("",!0),it.service=="apple"?(Ft(),Ae(Y,{key:5})):xe("",!0),it.service=="yandex"?(Ft(),Ae(K,{key:6})):xe("",!0),it.service=="boomplay"?(Ft(),Ae(G,{key:7})):xe("",!0),it.service=="vk"?(Ft(),Ae(J,{key:8})):xe("",!0),it.service=="github"?(Ft(),Ae(st,{key:9})):xe("",!0),it.service=="amazon"?(Ft(),Ae(R,{key:10})):xe("",!0),it.service=="deezer"?(Ft(),Ae(_t,{key:11})):xe("",!0)],8,Oa)}}},za=Ve(Ma,[["__scopeId","data-v-78b10676"]]),vn={__name:"links",props:{links:{type:Object,default:{}},color:{type:String,default:""}},setup(it){return(ut,L)=>{const U=za;return Ft(),Wt("div",{class:"flex flex-wrap justify-center",style:Pr({backgroundColor:it.color})},[(Ft(!0),Wt(dn,null,pn(it.links,(X,E)=>(Ft(),Ae(U,{url:X,service:E},null,8,["url","service"]))),256))],4)}}};const Na=["id"],Ra={class:"panel"},Ba=["src"],Va={key:0,class:"panel"},Fa={class:"bandcamp w-full flex flex-col"},Da=["href"],qa={class:"text-lg text-light-100 p-4"},Ua=["src"],Ha=["href"],Ga={__name:"album-row",props:{album:{type:Object,default:{}}},setup(it){const ut=gi(null),L=gi(!1),U=Ir(ut);return Sr(U,X=>{L.value=!0}),(X,E)=>{var F;const nt=vn;return Ft(),Wt("div",{class:"row min-h-100vh",id:it.album.title.split(" ").join("-"),style:Pr({background:it.album.background,backgroundSize:"cover"}),ref_key:"target",ref:ut},[Ot("div",Ra,[Ot("img",{class:os(["rounded-xl",{[it.album.coverClass]:!0}]),src:it.album.cover},null,10,Ba)]),kr(U)||L.value?(Ft(),Wt("div",Va,[Ot("div",Fa,[Ot("a",{class:"text-4xl text-bold px-4",href:`#${it.album.title.split(" ").join("-")}`},sr(it.album.title),9,Da),Ot("div",qa,sr(it.album.description),1),Ot("iframe",{class:"rounded-lg shadow-2xl",style:{border:"0",width:"100%",height:"373px"},src:it.album.bandcamp,loading:"lazy",seamless:""},' <a :href="album.links.bandcamp">{{album.title}} by tsoop</a>',8,Ua)]),(F=it.album)!=null&&F.link?(Ft(),Wt("a",{key:0,class:"text-light-100 mt-8 mr-auto ml-4",href:it.album.link,target:"_blank"},sr(it.album.link),9,Ha)):xe("",!0),se(nt,{class:"text-3xl py-8",links:it.album.links},null,8,["links"])])):xe("",!0)],12,Na)}}},ja=Ve(Ga,[["__scopeId","data-v-77fce1fb"]]);const Wa=["src"],Ka={__name:"video-row",props:{list:{type:Array,default:[]}},setup(it){const ut=gi(null),L=gi(!1),U=Ir(ut);return Sr(U,X=>{L.value=!0}),(X,E)=>(Ft(),Wt("div",{class:"row gap-12 px-4 justify-between",ref_key:"target",ref:ut},[kr(U)||L.value?(Ft(!0),Wt(dn,{key:0},pn(it.list,nt=>(Ft(),Wt("div",{class:"flex-1 flex items-center justify-center",key:nt},[Ot("iframe",{class:"shadow-2xl rounded-lg",loading:"lazy",width:"320",height:"200",src:`https://www.youtube.com/embed/${nt}`,title:"YouTube video player",frameborder:"0",allowfullscreen:""},null,8,Wa)]))),128)):xe("",!0)],512))}},Za=Ve(Ka,[["__scopeId","data-v-b623bd06"]]);const Xa=Gi('<div class="panel" data-v-3be8de57><div class="p-4 text-3xl" data-v-3be8de57>tsoop is an independent project to explore collaborative music and multimedia self-expression</div></div><div class="panel" data-v-3be8de57><div class="p-4" data-v-3be8de57><b data-v-3be8de57>tsoop</b> is a collaborative multimedia project that focuses on promoting music and multimedia self-expression by creating a space where people can join together, share their unique approaches to music-making, and learn from one another. Our project encourages communication, coordination, and collaboration in creating harmonious music improvisations, from small groups to large masses, with the goal of producing beautiful music together. By offering guidance and technical support, we enable people to easily participate in music jams and create a joyful music experience that transcends cultural and linguistic barriers.</div></div><div class="panel" data-v-3be8de57><div class="p-4" data-v-3be8de57>Our project aims to make music accessible and enjoyable for everyone, regardless of their musical background. We believe that not a huge set of different instruments is needed to cover all the main sound ranges that people can produce. Instead, we have small portable acoustic and electronic setups that can engage almost anyone in a nice music jam. When people add their instruments, it becomes a real jam party. With our attentive guidance and tech support, we help people explore the world of tsoop and experience the magic of music together.</div></div>',3),Ya=[Xa],Qa={__name:"about-us",props:{color:{type:String,default:"#88485d"}},setup(it){return(ut,L)=>(Ft(),Wt("div",{class:"flex flex-wrap text-light-800 bg-dark-500 py-16 gap-2",style:Pr({backgroundColor:it.color})},Ya,4))}},$a=Ve(Qa,[["__scopeId","data-v-3be8de57"]]),mn=it=>(Ui("data-v-4db3efa2"),it=it(),Hi(),it),Ja={class:"row"},to=mn(()=>Ot("div",{class:"panel"},[Ot("div",{class:"text-4xl"},"collaborative arts improvisation project"),Ot("div",{class:"text-xl my-4"},"We design and practice friendly music and art cocreation")],-1)),eo=mn(()=>Ot("div",{class:"panel"},"We believe that everyone is an artist. It means any ideas are worth being expressed. So we search for new ways to bring us together to play, create and experience art. ",-1)),io=[to,eo];function ro(it,ut){return Ft(),Wt("div",Ja,io)}const no={},so=Ve(no,[["render",ro],["__scopeId","data-v-4db3efa2"]]);var yn={exports:{}},ar={exports:{}};/*!
 * Zdog v1.1.3
 * Round, flat, designer-friendly pseudo-3D engine
 * Licensed MIT
 * https://zzz.dog
 * Copyright 2020 Metafizzy
 */var Wr;function Fe(){return Wr||(Wr=1,function(it){(function(ut,L){it.exports?it.exports=L():ut.Zdog=L()})(le,function(){var L={};L.TAU=Math.PI*2,L.extend=function(X,E){for(var nt in E)X[nt]=E[nt];return X},L.lerp=function(X,E,nt){return(E-X)*nt+X},L.modulo=function(X,E){return(X%E+E)%E};var U={2:function(X){return X*X},3:function(X){return X*X*X},4:function(X){return X*X*X*X},5:function(X){return X*X*X*X*X}};return L.easeInOut=function(X,E){if(E==1)return X;X=Math.max(0,Math.min(1,X));var nt=X<.5,F=nt?X:1-X;F/=.5;var Y=U[E]||U[2],K=Y(F);return K/=2,nt?K:1-K},L})}(ar)),ar.exports}var or={exports:{}},Kr;function xn(){return Kr||(Kr=1,function(it){(function(ut,L){it.exports?it.exports=L():ut.Zdog.CanvasRenderer=L()})(le,function(){var L={isCanvas:!0};return L.begin=function(U){U.beginPath()},L.move=function(U,X,E){U.moveTo(E.x,E.y)},L.line=function(U,X,E){U.lineTo(E.x,E.y)},L.bezier=function(U,X,E,nt,F){U.bezierCurveTo(E.x,E.y,nt.x,nt.y,F.x,F.y)},L.closePath=function(U){U.closePath()},L.setPath=function(){},L.renderPath=function(U,X,E,nt){this.begin(U,X),E.forEach(function(F){F.render(U,X,L)}),nt&&this.closePath(U,X)},L.stroke=function(U,X,E,nt,F){E&&(U.strokeStyle=nt,U.lineWidth=F,U.stroke())},L.fill=function(U,X,E,nt){E&&(U.fillStyle=nt,U.fill())},L.end=function(){},L})}(or)),or.exports}var ur={exports:{}},Zr;function bn(){return Zr||(Zr=1,function(it){(function(ut,L){it.exports?it.exports=L():ut.Zdog.SvgRenderer=L()})(le,function(){var L={isSvg:!0},U=L.round=function(E){return Math.round(E*1e3)/1e3};function X(E){return U(E.x)+","+U(E.y)+" "}return L.begin=function(){},L.move=function(E,nt,F){return"M"+X(F)},L.line=function(E,nt,F){return"L"+X(F)},L.bezier=function(E,nt,F,Y,K){return"C"+X(F)+X(Y)+X(K)},L.closePath=function(){return"Z"},L.setPath=function(E,nt,F){nt.setAttribute("d",F)},L.renderPath=function(E,nt,F,Y){var K="";F.forEach(function(G){K+=G.render(E,nt,L)}),Y&&(K+=this.closePath(E,nt)),this.setPath(E,nt,K)},L.stroke=function(E,nt,F,Y,K){F&&(nt.setAttribute("stroke",Y),nt.setAttribute("stroke-width",K))},L.fill=function(E,nt,F,Y){var K=F?Y:"none";nt.setAttribute("fill",K)},L.end=function(E,nt){E.appendChild(nt)},L})}(ur)),ur.exports}var hr={exports:{}},Xr;function _i(){return Xr||(Xr=1,function(it){(function(ut,L){if(it.exports)it.exports=L(Fe());else{var U=ut.Zdog;U.Vector=L(U)}})(le,function(L){function U(F){this.set(F)}var X=L.TAU;U.prototype.set=function(F){return this.x=F&&F.x||0,this.y=F&&F.y||0,this.z=F&&F.z||0,this},U.prototype.write=function(F){return F?(this.x=F.x!=null?F.x:this.x,this.y=F.y!=null?F.y:this.y,this.z=F.z!=null?F.z:this.z,this):this},U.prototype.rotate=function(F){if(F)return this.rotateZ(F.z),this.rotateY(F.y),this.rotateX(F.x),this},U.prototype.rotateZ=function(F){E(this,F,"x","y")},U.prototype.rotateX=function(F){E(this,F,"y","z")},U.prototype.rotateY=function(F){E(this,F,"x","z")};function E(F,Y,K,G){if(!(!Y||Y%X===0)){var J=Math.cos(Y),st=Math.sin(Y),R=F[K],_t=F[G];F[K]=R*J-_t*st,F[G]=_t*J+R*st}}U.prototype.isSame=function(F){return F?this.x===F.x&&this.y===F.y&&this.z===F.z:!1},U.prototype.add=function(F){return F?(this.x+=F.x||0,this.y+=F.y||0,this.z+=F.z||0,this):this},U.prototype.subtract=function(F){return F?(this.x-=F.x||0,this.y-=F.y||0,this.z-=F.z||0,this):this},U.prototype.multiply=function(F){return F==null?this:(typeof F=="number"?(this.x*=F,this.y*=F,this.z*=F):(this.x*=F.x!=null?F.x:1,this.y*=F.y!=null?F.y:1,this.z*=F.z!=null?F.z:1),this)},U.prototype.transform=function(F,Y,K){return this.multiply(K),this.rotate(Y),this.add(F),this},U.prototype.lerp=function(F,Y){return this.x=L.lerp(this.x,F.x||0,Y),this.y=L.lerp(this.y,F.y||0,Y),this.z=L.lerp(this.z,F.z||0,Y),this},U.prototype.magnitude=function(){var F=this.x*this.x+this.y*this.y+this.z*this.z;return nt(F)};function nt(F){return Math.abs(F-1)<1e-8?1:Math.sqrt(F)}return U.prototype.magnitude2d=function(){var F=this.x*this.x+this.y*this.y;return nt(F)},U.prototype.copy=function(){return new U(this)},U})}(hr)),hr.exports}var lr={exports:{}},Yr;function si(){return Yr||(Yr=1,function(it){(function(ut,L){if(it.exports)it.exports=L(Fe(),_i(),xn(),bn());else{var U=ut.Zdog;U.Anchor=L(U,U.Vector,U.CanvasRenderer,U.SvgRenderer)}})(le,function(L,U,X,E){var nt=L.TAU,F={x:1,y:1,z:1};function Y(G){this.create(G||{})}Y.prototype.create=function(G){this.children=[],L.extend(this,this.constructor.defaults),this.setOptions(G),this.translate=new U(G.translate),this.rotate=new U(G.rotate),this.scale=new U(F).multiply(this.scale),this.origin=new U,this.renderOrigin=new U,this.addTo&&this.addTo.addChild(this)},Y.defaults={},Y.optionKeys=Object.keys(Y.defaults).concat(["rotate","translate","scale","addTo"]),Y.prototype.setOptions=function(G){var J=this.constructor.optionKeys;for(var st in G)J.indexOf(st)!=-1&&(this[st]=G[st])},Y.prototype.addChild=function(G){this.children.indexOf(G)==-1&&(G.remove(),G.addTo=this,this.children.push(G))},Y.prototype.removeChild=function(G){var J=this.children.indexOf(G);J!=-1&&this.children.splice(J,1)},Y.prototype.remove=function(){this.addTo&&this.addTo.removeChild(this)},Y.prototype.update=function(){this.reset(),this.children.forEach(function(G){G.update()}),this.transform(this.translate,this.rotate,this.scale)},Y.prototype.reset=function(){this.renderOrigin.set(this.origin)},Y.prototype.transform=function(G,J,st){this.renderOrigin.transform(G,J,st),this.children.forEach(function(R){R.transform(G,J,st)})},Y.prototype.updateGraph=function(){this.update(),this.updateFlatGraph(),this.flatGraph.forEach(function(G){G.updateSortValue()}),this.flatGraph.sort(Y.shapeSorter)},Y.shapeSorter=function(G,J){return G.sortValue-J.sortValue},Object.defineProperty(Y.prototype,"flatGraph",{get:function(){return this._flatGraph||this.updateFlatGraph(),this._flatGraph},set:function(G){this._flatGraph=G}}),Y.prototype.updateFlatGraph=function(){this.flatGraph=this.getFlatGraph()},Y.prototype.getFlatGraph=function(){var G=[this];return this.addChildFlatGraph(G)},Y.prototype.addChildFlatGraph=function(G){return this.children.forEach(function(J){var st=J.getFlatGraph();Array.prototype.push.apply(G,st)}),G},Y.prototype.updateSortValue=function(){this.sortValue=this.renderOrigin.z},Y.prototype.render=function(){},Y.prototype.renderGraphCanvas=function(G){if(!G)throw new Error("ctx is "+G+". Canvas context required for render. Check .renderGraphCanvas( ctx ).");this.flatGraph.forEach(function(J){J.render(G,X)})},Y.prototype.renderGraphSvg=function(G){if(!G)throw new Error("svg is "+G+". SVG required for render. Check .renderGraphSvg( svg ).");this.flatGraph.forEach(function(J){J.render(G,E)})},Y.prototype.copy=function(G){var J={},st=this.constructor.optionKeys;st.forEach(function(_t){J[_t]=this[_t]},this),L.extend(J,G);var R=this.constructor;return new R(J)},Y.prototype.copyGraph=function(G){var J=this.copy(G);return this.children.forEach(function(st){st.copyGraph({addTo:J})}),J},Y.prototype.normalizeRotate=function(){this.rotate.x=L.modulo(this.rotate.x,nt),this.rotate.y=L.modulo(this.rotate.y,nt),this.rotate.z=L.modulo(this.rotate.z,nt)};function K(G){return function(J){function st(R){this.create(R||{})}return st.prototype=Object.create(G.prototype),st.prototype.constructor=st,st.defaults=L.extend({},G.defaults),L.extend(st.defaults,J),st.optionKeys=G.optionKeys.slice(0),Object.keys(st.defaults).forEach(function(R){!st.optionKeys.indexOf(R)!=1&&st.optionKeys.push(R)}),st.subclass=K(st),st}}return Y.subclass=K(Y),Y})}(lr)),lr.exports}var cr={exports:{}},Qr;function wn(){return Qr||(Qr=1,function(it){(function(ut,L){it.exports?it.exports=L():ut.Zdog.Dragger=L()})(le,function(){var L=typeof window<"u",U="mousedown",X="mousemove",E="mouseup";L&&(window.PointerEvent?(U="pointerdown",X="pointermove",E="pointerup"):"ontouchstart"in window&&(U="touchstart",X="touchmove",E="touchend"));function nt(){}function F(Y){this.create(Y||{})}return F.prototype.create=function(Y){this.onDragStart=Y.onDragStart||nt,this.onDragMove=Y.onDragMove||nt,this.onDragEnd=Y.onDragEnd||nt,this.bindDrag(Y.startElement)},F.prototype.bindDrag=function(Y){Y=this.getQueryElement(Y),Y&&(Y.style.touchAction="none",Y.addEventListener(U,this))},F.prototype.getQueryElement=function(Y){return typeof Y=="string"&&(Y=document.querySelector(Y)),Y},F.prototype.handleEvent=function(Y){var K=this["on"+Y.type];K&&K.call(this,Y)},F.prototype.onmousedown=F.prototype.onpointerdown=function(Y){this.dragStart(Y,Y)},F.prototype.ontouchstart=function(Y){this.dragStart(Y,Y.changedTouches[0])},F.prototype.dragStart=function(Y,K){Y.preventDefault(),this.dragStartX=K.pageX,this.dragStartY=K.pageY,L&&(window.addEventListener(X,this),window.addEventListener(E,this)),this.onDragStart(K)},F.prototype.ontouchmove=function(Y){this.dragMove(Y,Y.changedTouches[0])},F.prototype.onmousemove=F.prototype.onpointermove=function(Y){this.dragMove(Y,Y)},F.prototype.dragMove=function(Y,K){Y.preventDefault();var G=K.pageX-this.dragStartX,J=K.pageY-this.dragStartY;this.onDragMove(K,G,J)},F.prototype.onmouseup=F.prototype.onpointerup=F.prototype.ontouchend=F.prototype.dragEnd=function(){window.removeEventListener(X,this),window.removeEventListener(E,this),this.onDragEnd()},F})}(cr)),cr.exports}var fr={exports:{}},$r;function ao(){return $r||($r=1,function(it){(function(ut,L){if(it.exports)it.exports=L(Fe(),si(),wn());else{var U=ut.Zdog;U.Illustration=L(U,U.Anchor,U.Dragger)}})(le,function(L,U,X){function E(){}var nt=L.TAU,F=U.subclass({element:void 0,centered:!0,zoom:1,dragRotate:!1,resize:!1,onPrerender:E,onDragStart:E,onDragMove:E,onDragEnd:E,onResize:E});L.extend(F.prototype,X.prototype),F.prototype.create=function(K){U.prototype.create.call(this,K),X.prototype.create.call(this,K),this.setElement(this.element),this.setDragRotate(this.dragRotate),this.setResize(this.resize)},F.prototype.setElement=function(K){if(K=this.getQueryElement(K),!K)throw new Error("Zdog.Illustration element required. Set to "+K);var G=K.nodeName.toLowerCase();G=="canvas"?this.setCanvas(K):G=="svg"&&this.setSvg(K)},F.prototype.setSize=function(K,G){K=Math.round(K),G=Math.round(G),this.isCanvas?this.setSizeCanvas(K,G):this.isSvg&&this.setSizeSvg(K,G)},F.prototype.setResize=function(K){this.resize=K,this.resizeListener||(this.resizeListener=this.onWindowResize.bind(this)),K?(window.addEventListener("resize",this.resizeListener),this.onWindowResize()):window.removeEventListener("resize",this.resizeListener)},F.prototype.onWindowResize=function(){this.setMeasuredSize(),this.onResize(this.width,this.height)},F.prototype.setMeasuredSize=function(){var K,G,J=this.resize=="fullscreen";if(J)K=window.innerWidth,G=window.innerHeight;else{var st=this.element.getBoundingClientRect();K=st.width,G=st.height}this.setSize(K,G)},F.prototype.renderGraph=function(K){this.isCanvas?this.renderGraphCanvas(K):this.isSvg&&this.renderGraphSvg(K)},F.prototype.updateRenderGraph=function(K){this.updateGraph(),this.renderGraph(K)},F.prototype.setCanvas=function(K){this.element=K,this.isCanvas=!0,this.ctx=this.element.getContext("2d"),this.setSizeCanvas(K.width,K.height)},F.prototype.setSizeCanvas=function(K,G){this.width=K,this.height=G;var J=this.pixelRatio=window.devicePixelRatio||1;this.element.width=this.canvasWidth=K*J,this.element.height=this.canvasHeight=G*J;var st=J>1&&!this.resize;st&&(this.element.style.width=K+"px",this.element.style.height=G+"px")},F.prototype.renderGraphCanvas=function(K){K=K||this,this.prerenderCanvas(),U.prototype.renderGraphCanvas.call(K,this.ctx),this.postrenderCanvas()},F.prototype.prerenderCanvas=function(){var K=this.ctx;if(K.lineCap="round",K.lineJoin="round",K.clearRect(0,0,this.canvasWidth,this.canvasHeight),K.save(),this.centered){var G=this.width/2*this.pixelRatio,J=this.height/2*this.pixelRatio;K.translate(G,J)}var st=this.pixelRatio*this.zoom;K.scale(st,st),this.onPrerender(K)},F.prototype.postrenderCanvas=function(){this.ctx.restore()},F.prototype.setSvg=function(K){this.element=K,this.isSvg=!0,this.pixelRatio=1;var G=K.getAttribute("width"),J=K.getAttribute("height");this.setSizeSvg(G,J)},F.prototype.setSizeSvg=function(K,G){this.width=K,this.height=G;var J=K/this.zoom,st=G/this.zoom,R=this.centered?-J/2:0,_t=this.centered?-st/2:0;this.element.setAttribute("viewBox",R+" "+_t+" "+J+" "+st),this.resize?(this.element.removeAttribute("width"),this.element.removeAttribute("height")):(this.element.setAttribute("width",K),this.element.setAttribute("height",G))},F.prototype.renderGraphSvg=function(K){K=K||this,Y(this.element),this.onPrerender(this.element),U.prototype.renderGraphSvg.call(K,this.element)};function Y(K){for(;K.firstChild;)K.removeChild(K.firstChild)}return F.prototype.setDragRotate=function(K){if(K)K===!0&&(K=this);else return;this.dragRotate=K,this.bindDrag(this.element)},F.prototype.dragStart=function(){this.dragStartRX=this.dragRotate.rotate.x,this.dragStartRY=this.dragRotate.rotate.y,X.prototype.dragStart.apply(this,arguments)},F.prototype.dragMove=function(K,G){var J=G.pageX-this.dragStartX,st=G.pageY-this.dragStartY,R=Math.min(this.width,this.height),_t=J/R*nt,ot=st/R*nt;this.dragRotate.rotate.x=this.dragStartRX-ot,this.dragRotate.rotate.y=this.dragStartRY-_t,X.prototype.dragMove.apply(this,arguments)},F})}(fr)),fr.exports}var dr={exports:{}},Jr;function ji(){return Jr||(Jr=1,function(it){(function(ut,L){if(it.exports)it.exports=L(_i());else{var U=ut.Zdog;U.PathCommand=L(U.Vector)}})(le,function(L){function U(F,Y,K){this.method=F,this.points=Y.map(X),this.renderPoints=Y.map(E),this.previousPoint=K,this.endRenderPoint=this.renderPoints[this.renderPoints.length-1],F=="arc"&&(this.controlPoints=[new L,new L])}function X(F){return F instanceof L?F:new L(F)}function E(F){return new L(F)}U.prototype.reset=function(){var F=this.points;this.renderPoints.forEach(function(Y,K){var G=F[K];Y.set(G)})},U.prototype.transform=function(F,Y,K){this.renderPoints.forEach(function(G){G.transform(F,Y,K)})},U.prototype.render=function(F,Y,K){return this[this.method](F,Y,K)},U.prototype.move=function(F,Y,K){return K.move(F,Y,this.renderPoints[0])},U.prototype.line=function(F,Y,K){return K.line(F,Y,this.renderPoints[0])},U.prototype.bezier=function(F,Y,K){var G=this.renderPoints[0],J=this.renderPoints[1],st=this.renderPoints[2];return K.bezier(F,Y,G,J,st)};var nt=9/16;return U.prototype.arc=function(F,Y,K){var G=this.previousPoint,J=this.renderPoints[0],st=this.renderPoints[1],R=this.controlPoints[0],_t=this.controlPoints[1];return R.set(G).lerp(J,nt),_t.set(st).lerp(J,nt),K.bezier(F,Y,R,_t,st)},U})}(dr)),dr.exports}var pr={exports:{}},tn;function ai(){return tn||(tn=1,function(it){(function(ut,L){if(it.exports)it.exports=L(Fe(),_i(),ji(),si());else{var U=ut.Zdog;U.Shape=L(U,U.Vector,U.PathCommand,U.Anchor)}})(le,function(L,U,X,E){var nt=E.subclass({stroke:1,fill:!1,color:"#333",closed:!0,visible:!0,path:[{}],front:{z:1},backface:!0});nt.prototype.create=function(G){E.prototype.create.call(this,G),this.updatePath(),this.front=new U(G.front||this.front),this.renderFront=new U(this.front),this.renderNormal=new U};var F=["move","line","bezier","arc"];nt.prototype.updatePath=function(){this.setPath(),this.updatePathCommands()},nt.prototype.setPath=function(){},nt.prototype.updatePathCommands=function(){var G;this.pathCommands=this.path.map(function(J,st){var R=Object.keys(J),_t=R[0],ot=J[_t],Ct=R.length==1&&F.indexOf(_t)!=-1;Ct||(_t="line",ot=J);var mt=_t=="line"||_t=="move",wt=Array.isArray(ot);mt&&!wt&&(ot=[ot]),_t=st===0?"move":_t;var kt=new X(_t,ot,G);return G=kt.endRenderPoint,kt})},nt.prototype.reset=function(){this.renderOrigin.set(this.origin),this.renderFront.set(this.front),this.pathCommands.forEach(function(G){G.reset()})},nt.prototype.transform=function(G,J,st){this.renderOrigin.transform(G,J,st),this.renderFront.transform(G,J,st),this.renderNormal.set(this.renderOrigin).subtract(this.renderFront),this.pathCommands.forEach(function(R){R.transform(G,J,st)}),this.children.forEach(function(R){R.transform(G,J,st)})},nt.prototype.updateSortValue=function(){var G=this.pathCommands.length,J=this.pathCommands[0].endRenderPoint,st=this.pathCommands[G-1].endRenderPoint,R=G>2&&J.isSame(st);R&&(G-=1);for(var _t=0,ot=0;ot<G;ot++)_t+=this.pathCommands[ot].endRenderPoint.z;this.sortValue=_t/G},nt.prototype.render=function(G,J){var st=this.pathCommands.length;if(!(!this.visible||!st)&&(this.isFacingBack=this.renderNormal.z>0,!(!this.backface&&this.isFacingBack))){if(!J)throw new Error("Zdog renderer required. Set to "+J);var R=st==1;J.isCanvas&&R?this.renderCanvasDot(G,J):this.renderPath(G,J)}};var Y=L.TAU;nt.prototype.renderCanvasDot=function(G){var J=this.getLineWidth();if(J){G.fillStyle=this.getRenderColor();var st=this.pathCommands[0].endRenderPoint;G.beginPath();var R=J/2;G.arc(st.x,st.y,R,0,Y),G.fill()}},nt.prototype.getLineWidth=function(){return this.stroke?this.stroke==!0?1:this.stroke:0},nt.prototype.getRenderColor=function(){var G=typeof this.backface=="string"&&this.isFacingBack,J=G?this.backface:this.color;return J},nt.prototype.renderPath=function(G,J){var st=this.getRenderElement(G,J),R=this.pathCommands.length==2&&this.pathCommands[1].method=="line",_t=!R&&this.closed,ot=this.getRenderColor();J.renderPath(G,st,this.pathCommands,_t),J.stroke(G,st,this.stroke,ot,this.getLineWidth()),J.fill(G,st,this.fill,ot),J.end(G,st)};var K="http://www.w3.org/2000/svg";return nt.prototype.getRenderElement=function(G,J){if(J.isSvg)return this.svgElement||(this.svgElement=document.createElementNS(K,"path"),this.svgElement.setAttribute("stroke-linecap","round"),this.svgElement.setAttribute("stroke-linejoin","round")),this.svgElement},nt})}(pr)),pr.exports}var gr={exports:{}},en;function Cn(){return en||(en=1,function(it){(function(ut,L){if(it.exports)it.exports=L(si());else{var U=ut.Zdog;U.Group=L(U.Anchor)}})(le,function(L){var U=L.subclass({updateSort:!1,visible:!0});return U.prototype.updateSortValue=function(){var X=0;this.flatGraph.forEach(function(E){E.updateSortValue(),X+=E.sortValue}),this.sortValue=X/this.flatGraph.length,this.updateSort&&this.flatGraph.sort(L.shapeSorter)},U.prototype.render=function(X,E){this.visible&&this.flatGraph.forEach(function(nt){nt.render(X,E)})},U.prototype.updateFlatGraph=function(){var X=[];this.flatGraph=this.addChildFlatGraph(X)},U.prototype.getFlatGraph=function(){return[this]},U})}(gr)),gr.exports}var _r={exports:{}},rn;function Sn(){return rn||(rn=1,function(it){(function(ut,L){if(it.exports)it.exports=L(ai());else{var U=ut.Zdog;U.Rect=L(U.Shape)}})(le,function(L){var U=L.subclass({width:1,height:1});return U.prototype.setPath=function(){var X=this.width/2,E=this.height/2;this.path=[{x:-X,y:-E},{x:X,y:-E},{x:X,y:E},{x:-X,y:E}]},U})}(_r)),_r.exports}var vr={exports:{}},nn;function oo(){return nn||(nn=1,function(it){(function(ut,L){if(it.exports)it.exports=L(ai());else{var U=ut.Zdog;U.RoundedRect=L(U.Shape)}})(le,function(L){var U=L.subclass({width:1,height:1,cornerRadius:.25,closed:!1});return U.prototype.setPath=function(){var X=this.width/2,E=this.height/2,nt=Math.min(X,E),F=Math.min(this.cornerRadius,nt),Y=X-F,K=E-F,G=[{x:Y,y:-E},{arc:[{x:X,y:-E},{x:X,y:-K}]}];K&&G.push({x:X,y:K}),G.push({arc:[{x:X,y:E},{x:Y,y:E}]}),Y&&G.push({x:-Y,y:E}),G.push({arc:[{x:-X,y:E},{x:-X,y:K}]}),K&&G.push({x:-X,y:-K}),G.push({arc:[{x:-X,y:-E},{x:-Y,y:-E}]}),Y&&G.push({x:Y,y:-E}),this.path=G},U})}(vr)),vr.exports}var mr={exports:{}},sn;function Wi(){return sn||(sn=1,function(it){(function(ut,L){if(it.exports)it.exports=L(ai());else{var U=ut.Zdog;U.Ellipse=L(U.Shape)}})(le,function(L){var U=L.subclass({diameter:1,width:void 0,height:void 0,quarters:4,closed:!1});return U.prototype.setPath=function(){var X=this.width!=null?this.width:this.diameter,E=this.height!=null?this.height:this.diameter,nt=X/2,F=E/2;this.path=[{x:0,y:-F},{arc:[{x:nt,y:-F},{x:nt,y:0}]}],this.quarters>1&&this.path.push({arc:[{x:nt,y:F},{x:0,y:F}]}),this.quarters>2&&this.path.push({arc:[{x:-nt,y:F},{x:-nt,y:0}]}),this.quarters>3&&this.path.push({arc:[{x:-nt,y:-F},{x:0,y:-F}]})},U})}(mr)),mr.exports}var yr={exports:{}},an;function uo(){return an||(an=1,function(it){(function(ut,L){if(it.exports)it.exports=L(Fe(),ai());else{var U=ut.Zdog;U.Polygon=L(U,U.Shape)}})(le,function(L,U){var X=U.subclass({sides:3,radius:.5}),E=L.TAU;return X.prototype.setPath=function(){this.path=[];for(var nt=0;nt<this.sides;nt++){var F=nt/this.sides*E-E/4,Y=Math.cos(F)*this.radius,K=Math.sin(F)*this.radius;this.path.push({x:Y,y:K})}},X})}(yr)),yr.exports}var xr={exports:{}},on;function ho(){return on||(on=1,function(it){(function(ut,L){if(it.exports)it.exports=L(Fe(),_i(),si(),Wi());else{var U=ut.Zdog;U.Hemisphere=L(U,U.Vector,U.Anchor,U.Ellipse)}})(le,function(L,U,X,E){var nt=E.subclass({fill:!0}),F=L.TAU;nt.prototype.create=function(){E.prototype.create.apply(this,arguments),this.apex=new X({addTo:this,translate:{z:this.diameter/2}}),this.renderCentroid=new U},nt.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,3/8),this.sortValue=this.renderCentroid.z},nt.prototype.render=function(K,G){this.renderDome(K,G),E.prototype.render.apply(this,arguments)},nt.prototype.renderDome=function(K,G){if(this.visible){var J=this.getDomeRenderElement(K,G),st=Math.atan2(this.renderNormal.y,this.renderNormal.x),R=this.diameter/2*this.renderNormal.magnitude(),_t=this.renderOrigin.x,ot=this.renderOrigin.y;if(G.isCanvas){var Ct=st+F/4,mt=st-F/4;K.beginPath(),K.arc(_t,ot,R,Ct,mt)}else G.isSvg&&(st=(st-F/4)/F*360,this.domeSvgElement.setAttribute("d","M "+-R+",0 A "+R+","+R+" 0 0 1 "+R+",0"),this.domeSvgElement.setAttribute("transform","translate("+_t+","+ot+" ) rotate("+st+")"));G.stroke(K,J,this.stroke,this.color,this.getLineWidth()),G.fill(K,J,this.fill,this.color),G.end(K,J)}};var Y="http://www.w3.org/2000/svg";return nt.prototype.getDomeRenderElement=function(K,G){if(G.isSvg)return this.domeSvgElement||(this.domeSvgElement=document.createElementNS(Y,"path"),this.domeSvgElement.setAttribute("stroke-linecap","round"),this.domeSvgElement.setAttribute("stroke-linejoin","round")),this.domeSvgElement},nt})}(xr)),xr.exports}var br={exports:{}},un;function lo(){return un||(un=1,function(it){(function(ut,L){if(it.exports)it.exports=L(Fe(),ji(),ai(),Cn(),Wi());else{var U=ut.Zdog;U.Cylinder=L(U,U.PathCommand,U.Shape,U.Group,U.Ellipse)}})(le,function(L,U,X,E,nt){function F(){}var Y=E.subclass({color:"#333",updateSort:!0});Y.prototype.create=function(){E.prototype.create.apply(this,arguments),this.pathCommands=[new U("move",[{}]),new U("line",[{}])]},Y.prototype.render=function(_t,ot){this.renderCylinderSurface(_t,ot),E.prototype.render.apply(this,arguments)},Y.prototype.renderCylinderSurface=function(_t,ot){if(this.visible){var Ct=this.getRenderElement(_t,ot),mt=this.frontBase,wt=this.rearBase,kt=mt.renderNormal.magnitude(),jt=mt.diameter*kt+mt.getLineWidth();this.pathCommands[0].renderPoints[0].set(mt.renderOrigin),this.pathCommands[1].renderPoints[0].set(wt.renderOrigin),ot.isCanvas&&(_t.lineCap="butt"),ot.renderPath(_t,Ct,this.pathCommands),ot.stroke(_t,Ct,!0,this.color,jt),ot.end(_t,Ct),ot.isCanvas&&(_t.lineCap="round")}};var K="http://www.w3.org/2000/svg";Y.prototype.getRenderElement=function(_t,ot){if(ot.isSvg)return this.svgElement||(this.svgElement=document.createElementNS(K,"path")),this.svgElement},Y.prototype.copyGraph=F;var G=nt.subclass();G.prototype.copyGraph=F;var J=X.subclass({diameter:1,length:1,frontFace:void 0,fill:!0}),st=L.TAU;J.prototype.create=function(){X.prototype.create.apply(this,arguments),this.group=new Y({addTo:this,color:this.color,visible:this.visible});var _t=this.length/2,ot=this.backface||!0;this.frontBase=this.group.frontBase=new nt({addTo:this.group,diameter:this.diameter,translate:{z:_t},rotate:{y:st/2},color:this.color,stroke:this.stroke,fill:this.fill,backface:this.frontFace||ot,visible:this.visible}),this.rearBase=this.group.rearBase=this.frontBase.copy({translate:{z:-_t},rotate:{y:0},backface:ot})},J.prototype.render=function(){};var R=["stroke","fill","color","visible"];return R.forEach(function(_t){var ot="_"+_t;Object.defineProperty(J.prototype,_t,{get:function(){return this[ot]},set:function(Ct){this[ot]=Ct,this.frontBase&&(this.frontBase[_t]=Ct,this.rearBase[_t]=Ct,this.group[_t]=Ct)}})}),J})}(br)),br.exports}var wr={exports:{}},hn;function co(){return hn||(hn=1,function(it){(function(ut,L){if(it.exports)it.exports=L(Fe(),_i(),ji(),si(),Wi());else{var U=ut.Zdog;U.Cone=L(U,U.Vector,U.PathCommand,U.Anchor,U.Ellipse)}})(le,function(L,U,X,E,nt){var F=nt.subclass({length:1,fill:!0}),Y=L.TAU;F.prototype.create=function(){nt.prototype.create.apply(this,arguments),this.apex=new E({addTo:this,translate:{z:this.length}}),this.renderApex=new U,this.renderCentroid=new U,this.tangentA=new U,this.tangentB=new U,this.surfacePathCommands=[new X("move",[{}]),new X("line",[{}]),new X("line",[{}])]},F.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,1/3),this.sortValue=this.renderCentroid.z},F.prototype.render=function(G,J){this.renderConeSurface(G,J),nt.prototype.render.apply(this,arguments)},F.prototype.renderConeSurface=function(G,J){if(this.visible){this.renderApex.set(this.apex.renderOrigin).subtract(this.renderOrigin);var st=this.renderNormal.magnitude(),R=this.renderApex.magnitude2d(),_t=this.renderNormal.magnitude2d(),ot=Math.acos(_t/st),Ct=Math.sin(ot),mt=this.diameter/2*st,wt=mt*Ct<R;if(wt){var kt=Math.atan2(this.renderNormal.y,this.renderNormal.x)+Y/2,jt=R/Ct,Et=Math.acos(mt/jt),P=this.tangentA,Kt=this.tangentB;P.x=Math.cos(Et)*mt*Ct,P.y=Math.sin(Et)*mt,Kt.set(this.tangentA),Kt.y*=-1,P.rotateZ(kt),Kt.rotateZ(kt),P.add(this.renderOrigin),Kt.add(this.renderOrigin),this.setSurfaceRenderPoint(0,P),this.setSurfaceRenderPoint(1,this.apex.renderOrigin),this.setSurfaceRenderPoint(2,Kt);var Pe=this.getSurfaceRenderElement(G,J);J.renderPath(G,Pe,this.surfacePathCommands),J.stroke(G,Pe,this.stroke,this.color,this.getLineWidth()),J.fill(G,Pe,this.fill,this.color),J.end(G,Pe)}}};var K="http://www.w3.org/2000/svg";return F.prototype.getSurfaceRenderElement=function(G,J){if(J.isSvg)return this.surfaceSvgElement||(this.surfaceSvgElement=document.createElementNS(K,"path"),this.surfaceSvgElement.setAttribute("stroke-linecap","round"),this.surfaceSvgElement.setAttribute("stroke-linejoin","round")),this.surfaceSvgElement},F.prototype.setSurfaceRenderPoint=function(G,J){var st=this.surfacePathCommands[G].renderPoints[0];st.set(J)},F})}(wr)),wr.exports}var Cr={exports:{}},ln;function fo(){return ln||(ln=1,function(it){(function(ut,L){if(it.exports)it.exports=L(Fe(),si(),ai(),Sn());else{var U=ut.Zdog;U.Box=L(U,U.Anchor,U.Shape,U.Rect)}})(le,function(L,U,X,E){var nt=E.subclass();nt.prototype.copyGraph=function(){};var F=L.TAU,Y=["frontFace","rearFace","leftFace","rightFace","topFace","bottomFace"],K=L.extend({},X.defaults);delete K.path,Y.forEach(function(st){K[st]=!0}),L.extend(K,{width:1,height:1,depth:1,fill:!0});var G=U.subclass(K);G.prototype.create=function(st){U.prototype.create.call(this,st),this.updatePath(),this.fill=this.fill},G.prototype.updatePath=function(){Y.forEach(function(st){this[st]=this[st]},this)},Y.forEach(function(st){var R="_"+st;Object.defineProperty(G.prototype,st,{get:function(){return this[R]},set:function(_t){this[R]=_t,this.setFace(st,_t)}})}),G.prototype.setFace=function(st,R){var _t=st+"Rect",ot=this[_t];if(!R){this.removeChild(ot);return}var Ct=this.getFaceOptions(st);Ct.color=typeof R=="string"?R:this.color,ot?ot.setOptions(Ct):ot=this[_t]=new nt(Ct),ot.updatePath(),this.addChild(ot)},G.prototype.getFaceOptions=function(st){return{frontFace:{width:this.width,height:this.height,translate:{z:this.depth/2}},rearFace:{width:this.width,height:this.height,translate:{z:-this.depth/2},rotate:{y:F/2}},leftFace:{width:this.depth,height:this.height,translate:{x:-this.width/2},rotate:{y:-F/4}},rightFace:{width:this.depth,height:this.height,translate:{x:this.width/2},rotate:{y:F/4}},topFace:{width:this.width,height:this.depth,translate:{y:-this.height/2},rotate:{x:-F/4}},bottomFace:{width:this.width,height:this.depth,translate:{y:this.height/2},rotate:{x:F/4}}}[st]};var J=["color","stroke","fill","backface","front","visible"];return J.forEach(function(st){var R="_"+st;Object.defineProperty(G.prototype,st,{get:function(){return this[R]},set:function(_t){this[R]=_t,Y.forEach(function(ot){var Ct=this[ot+"Rect"],mt=typeof this[ot]=="string",wt=st=="color"&&mt;Ct&&!wt&&(Ct[st]=_t)},this)}})}),G})}(Cr)),Cr.exports}(function(it){(function(ut,L){it.exports&&(it.exports=L(Fe(),xn(),bn(),_i(),si(),wn(),ao(),ji(),ai(),Cn(),Sn(),oo(),Wi(),uo(),ho(),lo(),co(),fo()))})(le,function(L,U,X,E,nt,F,Y,K,G,J,st,R,_t,ot,Ct,mt,wt,kt){return L.CanvasRenderer=U,L.SvgRenderer=X,L.Vector=E,L.Anchor=nt,L.Dragger=F,L.Illustration=Y,L.PathCommand=K,L.Shape=G,L.Group=J,L.Rect=st,L.RoundedRect=R,L.Ellipse=_t,L.Polygon=ot,L.Hemisphere=Ct,L.Cylinder=mt,L.Cone=wt,L.Box=kt,L})})(yn);var po=yn.exports;const Ne=gn(po);function go(it){throw new Error('Could not dynamically require "'+it+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kn={exports:{}};const _o={},vo=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),cn=hs(vo);var qi={exports:{}},fn;function mo(){return fn||(fn=1,function(it,ut){(function(L,U){U(ut)})(le,function(L){var U=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],X=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],E="â€Œâ€Â·Ì€-Í¯Î‡Òƒ-Ò‡Ö‘-Ö½Ö¿××‚×„×…×‡Ø-ØšÙ‹-Ù©Ù°Û–-ÛœÛŸ-Û¤Û§Û¨Ûª-Û­Û°-Û¹Ü‘Ü°-ÝŠÞ¦-Þ°ß€-ß‰ß«-ß³ß½à –-à ™à ›-à £à ¥-à §à ©-à ­à¡™-à¡›à¢˜-à¢Ÿà£Š-à£¡à££-à¤ƒà¤º-à¤¼à¤¾-à¥à¥‘-à¥—à¥¢à¥£à¥¦-à¥¯à¦-à¦ƒà¦¼à¦¾-à§„à§‡à§ˆà§‹-à§à§—à§¢à§£à§¦-à§¯à§¾à¨-à¨ƒà¨¼à¨¾-à©‚à©‡à©ˆà©‹-à©à©‘à©¦-à©±à©µàª-àªƒàª¼àª¾-à«…à«‡-à«‰à«‹-à«à«¢à«£à«¦-à«¯à«º-à«¿à¬-à¬ƒà¬¼à¬¾-à­„à­‡à­ˆà­‹-à­à­•-à­—à­¢à­£à­¦-à­¯à®‚à®¾-à¯‚à¯†-à¯ˆà¯Š-à¯à¯—à¯¦-à¯¯à°€-à°„à°¼à°¾-à±„à±†-à±ˆà±Š-à±à±•à±–à±¢à±£à±¦-à±¯à²-à²ƒà²¼à²¾-à³„à³†-à³ˆà³Š-à³à³•à³–à³¢à³£à³¦-à³¯à³³à´€-à´ƒà´»à´¼à´¾-àµ„àµ†-àµˆàµŠ-àµàµ—àµ¢àµ£àµ¦-àµ¯à¶-à¶ƒà·Šà·-à·”à·–à·˜-à·Ÿà·¦-à·¯à·²à·³à¸±à¸´-à¸ºà¹‡-à¹Žà¹-à¹™àº±àº´-àº¼à»ˆ-à»Žà»-à»™à¼˜à¼™à¼ -à¼©à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾„à¾†à¾‡à¾-à¾—à¾™-à¾¼à¿†á€«-á€¾á€-á‰á–-á™áž-á á¢-á¤á§-á­á±-á´á‚‚-á‚á‚-á‚á-áŸá©-á±áœ’-áœ•áœ²-áœ´á’á“á²á³áž´-áŸ“áŸáŸ -áŸ©á ‹-á á -á ™á¢©á¤ -á¤«á¤°-á¤»á¥†-á¥á§-á§šá¨—-á¨›á©•-á©žá© -á©¼á©¿-áª‰áª-áª™áª°-áª½áª¿-á«Žá¬€-á¬„á¬´-á­„á­-á­™á­«-á­³á®€-á®‚á®¡-á®­á®°-á®¹á¯¦-á¯³á°¤-á°·á±€-á±‰á±-á±™á³-á³’á³”-á³¨á³­á³´á³·-á³¹á·€-á·¿â€¿â€â”âƒ-âƒœâƒ¡âƒ¥-âƒ°â³¯-â³±âµ¿â· -â·¿ã€ª-ã€¯ã‚™ã‚šê˜ -ê˜©ê™¯ê™´-ê™½êšžêšŸê›°ê›±ê ‚ê †ê ‹ê £-ê §ê ¬ê¢€ê¢ê¢´-ê£…ê£-ê£™ê£ -ê£±ê£¿-ê¤‰ê¤¦-ê¤­ê¥‡-ê¥“ê¦€-ê¦ƒê¦³-ê§€ê§-ê§™ê§¥ê§°-ê§¹ê¨©-ê¨¶ê©ƒê©Œê©ê©-ê©™ê©»-ê©½êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê««-ê«¯ê«µê«¶ê¯£-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ï¬žï¸€-ï¸ï¸ -ï¸¯ï¸³ï¸´ï¹-ï¹ï¼-ï¼™ï¼¿",nt="ÂªÂµÂºÃ€-Ã–Ã˜-Ã¶Ã¸-ËË†-Ë‘Ë -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Í¿Î†Îˆ-ÎŠÎŒÎŽ-Î¡Î£-ÏµÏ·-ÒÒŠ-Ô¯Ô±-Õ–Õ™Õ -Öˆ×-×ª×¯-×²Ø -ÙŠÙ®Ù¯Ù±-Û“Û•Û¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ’-Ü¯Ý-Þ¥Þ±ßŠ-ßªß´ßµßºà €-à •à šà ¤à ¨à¡€-à¡˜à¡ -à¡ªà¡°-à¢‡à¢‰-à¢Žà¢ -à£‰à¤„-à¤¹à¤½à¥à¥˜-à¥¡à¥±-à¦€à¦…-à¦Œà¦à¦à¦“-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§Žà§œà§à§Ÿ-à§¡à§°à§±à§¼à¨…-à¨Šà¨à¨à¨“-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©™-à©œà©žà©²-à©´àª…-àªàª-àª‘àª“-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à«¹à¬…-à¬Œà¬à¬à¬“-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­œà­à­Ÿ-à­¡à­±à®ƒà®…-à®Šà®Ž-à®à®’-à®•à®™à®šà®œà®žà®Ÿà®£à®¤à®¨-à®ªà®®-à®¹à¯à°…-à°Œà°Ž-à°à°’-à°¨à°ª-à°¹à°½à±˜-à±šà±à± à±¡à²€à²…-à²Œà²Ž-à²à²’-à²¨à²ª-à²³à²µ-à²¹à²½à³à³žà³ à³¡à³±à³²à´„-à´Œà´Ž-à´à´’-à´ºà´½àµŽàµ”-àµ–àµŸ-àµ¡àµº-àµ¿à¶…-à¶–à¶š-à¶±à¶³-à¶»à¶½à·€-à·†à¸-à¸°à¸²à¸³à¹€-à¹†àºàº‚àº„àº†-àºŠàºŒ-àº£àº¥àº§-àº°àº²àº³àº½à»€-à»„à»†à»œ-à»Ÿà¼€à½€-à½‡à½‰-à½¬à¾ˆ-à¾Œá€€-á€ªá€¿á-á•áš-áá¡á¥á¦á®-á°áµ-á‚á‚Žá‚ -áƒ…áƒ‡áƒáƒ-áƒºáƒ¼-á‰ˆá‰Š-á‰á‰-á‰–á‰˜á‰š-á‰á‰ -áŠˆáŠŠ-áŠáŠ-áŠ°áŠ²-áŠµáŠ¸-áŠ¾á‹€á‹‚-á‹…á‹ˆ-á‹–á‹˜-áŒáŒ’-áŒ•áŒ˜-ášáŽ€-áŽáŽ -áµá¸-á½á-á™¬á™¯-á™¿áš-áššáš -á›ªá›®-á›¸áœ€-áœ‘áœŸ-áœ±á€-á‘á -á¬á®-á°áž€-áž³áŸ—áŸœá  -á¡¸á¢€-á¢¨á¢ªá¢°-á£µá¤€-á¤žá¥-á¥­á¥°-á¥´á¦€-á¦«á¦°-á§‰á¨€-á¨–á¨ -á©”áª§á¬…-á¬³á­…-á­Œá®ƒ-á® á®®á®¯á®º-á¯¥á°€-á°£á±-á±á±š-á±½á²€-á²ˆá²-á²ºá²½-á²¿á³©-á³¬á³®-á³³á³µá³¶á³ºá´€-á¶¿á¸€-á¼•á¼˜-á¼á¼ -á½…á½ˆ-á½á½-á½—á½™á½›á½á½Ÿ-á½½á¾€-á¾´á¾¶-á¾¼á¾¾á¿‚-á¿„á¿†-á¿Œá¿-á¿“á¿–-á¿›á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â‚-â‚œâ„‚â„‡â„Š-â„“â„•â„˜-â„â„¤â„¦â„¨â„ª-â„¹â„¼-â„¿â……-â…‰â…Žâ… -â†ˆâ°€-â³¤â³«-â³®â³²â³³â´€-â´¥â´§â´­â´°-âµ§âµ¯â¶€-â¶–â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·€-â·†â·ˆ-â·Žâ·-â·–â·˜-â·žã€…-ã€‡ã€¡-ã€©ã€±-ã€µã€¸-ã€¼ã-ã‚–ã‚›-ã‚Ÿã‚¡-ãƒºãƒ¼-ãƒ¿ã„…-ã„¯ã„±-ã†Žã† -ã†¿ã‡°-ã‡¿ã€-ä¶¿ä¸€-ê’Œê“-ê“½ê”€-ê˜Œê˜-ê˜Ÿê˜ªê˜«ê™€-ê™®ê™¿-êšêš -ê›¯êœ—-êœŸêœ¢-êžˆêž‹-êŸŠêŸêŸ‘êŸ“êŸ•-êŸ™êŸ²-ê ê ƒ-ê …ê ‡-ê Šê Œ-ê ¢ê¡€-ê¡³ê¢‚-ê¢³ê£²-ê£·ê£»ê£½ê£¾ê¤Š-ê¤¥ê¤°-ê¥†ê¥ -ê¥¼ê¦„-ê¦²ê§ê§ -ê§¤ê§¦-ê§¯ê§º-ê§¾ê¨€-ê¨¨ê©€-ê©‚ê©„-ê©‹ê© -ê©¶ê©ºê©¾-êª¯êª±êªµêª¶êª¹-êª½ê«€ê«‚ê«›-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬†ê¬‰-ê¬Žê¬‘-ê¬–ê¬ -ê¬¦ê¬¨-ê¬®ê¬°-ê­šê­œ-ê­©ê­°-ê¯¢ê°€-íž£íž°-íŸ†íŸ‹-íŸ»ï¤€-ï©­ï©°-ï«™ï¬€-ï¬†ï¬“-ï¬—ï¬ï¬Ÿ-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­€ï­ï­ƒï­„ï­†-ï®±ï¯“-ï´½ïµ-ï¶ï¶’-ï·‡ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½šï½¦-ï¾¾ï¿‚-ï¿‡ï¿Š-ï¿ï¿’-ï¿—ï¿š-ï¿œ",F={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Y="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",K={5:Y,"5module":Y+" export import",6:Y+" const class extends export import super"},G=/^in(stanceof)?$/,J=new RegExp("["+nt+"]"),st=new RegExp("["+nt+E+"]");function R(r,o){for(var x=65536,A=0;A<o.length;A+=2){if(x+=o[A],x>r)return!1;if(x+=o[A+1],x>=r)return!0}return!1}function _t(r,o){return r<65?r===36:r<91?!0:r<97?r===95:r<123?!0:r<=65535?r>=170&&J.test(String.fromCharCode(r)):o===!1?!1:R(r,X)}function ot(r,o){return r<48?r===36:r<58?!0:r<65?!1:r<91?!0:r<97?r===95:r<123?!0:r<=65535?r>=170&&st.test(String.fromCharCode(r)):o===!1?!1:R(r,X)||R(r,U)}var Ct=function(o,x){x===void 0&&(x={}),this.label=o,this.keyword=x.keyword,this.beforeExpr=!!x.beforeExpr,this.startsExpr=!!x.startsExpr,this.isLoop=!!x.isLoop,this.isAssign=!!x.isAssign,this.prefix=!!x.prefix,this.postfix=!!x.postfix,this.binop=x.binop||null,this.updateContext=null};function mt(r,o){return new Ct(r,{beforeExpr:!0,binop:o})}var wt={beforeExpr:!0},kt={startsExpr:!0},jt={};function Et(r,o){return o===void 0&&(o={}),o.keyword=r,jt[r]=new Ct(r,o)}var P={num:new Ct("num",kt),regexp:new Ct("regexp",kt),string:new Ct("string",kt),name:new Ct("name",kt),privateId:new Ct("privateId",kt),eof:new Ct("eof"),bracketL:new Ct("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Ct("]"),braceL:new Ct("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Ct("}"),parenL:new Ct("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Ct(")"),comma:new Ct(",",wt),semi:new Ct(";",wt),colon:new Ct(":",wt),dot:new Ct("."),question:new Ct("?",wt),questionDot:new Ct("?."),arrow:new Ct("=>",wt),template:new Ct("template"),invalidTemplate:new Ct("invalidTemplate"),ellipsis:new Ct("...",wt),backQuote:new Ct("`",kt),dollarBraceL:new Ct("${",{beforeExpr:!0,startsExpr:!0}),eq:new Ct("=",{beforeExpr:!0,isAssign:!0}),assign:new Ct("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Ct("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Ct("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:mt("||",1),logicalAND:mt("&&",2),bitwiseOR:mt("|",3),bitwiseXOR:mt("^",4),bitwiseAND:mt("&",5),equality:mt("==/!=/===/!==",6),relational:mt("</>/<=/>=",7),bitShift:mt("<</>>/>>>",8),plusMin:new Ct("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:mt("%",10),star:mt("*",10),slash:mt("/",10),starstar:new Ct("**",{beforeExpr:!0}),coalesce:mt("??",1),_break:Et("break"),_case:Et("case",wt),_catch:Et("catch"),_continue:Et("continue"),_debugger:Et("debugger"),_default:Et("default",wt),_do:Et("do",{isLoop:!0,beforeExpr:!0}),_else:Et("else",wt),_finally:Et("finally"),_for:Et("for",{isLoop:!0}),_function:Et("function",kt),_if:Et("if"),_return:Et("return",wt),_switch:Et("switch"),_throw:Et("throw",wt),_try:Et("try"),_var:Et("var"),_const:Et("const"),_while:Et("while",{isLoop:!0}),_with:Et("with"),_new:Et("new",{beforeExpr:!0,startsExpr:!0}),_this:Et("this",kt),_super:Et("super",kt),_class:Et("class",kt),_extends:Et("extends",wt),_export:Et("export"),_import:Et("import",kt),_null:Et("null",kt),_true:Et("true",kt),_false:Et("false",kt),_in:Et("in",{beforeExpr:!0,binop:7}),_instanceof:Et("instanceof",{beforeExpr:!0,binop:7}),_typeof:Et("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Et("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Et("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Kt=/\r\n?|\n|\u2028|\u2029/,Pe=new RegExp(Kt.source,"g");function ae(r){return r===10||r===13||r===8232||r===8233}function Ge(r,o,x){x===void 0&&(x=r.length);for(var A=o;A<x;A++){var N=r.charCodeAt(A);if(ae(N))return A<x-1&&N===13&&r.charCodeAt(A+1)===10?A+2:A+1}return-1}var Ye=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,oe=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Ee=Object.prototype,Tt=Ee.hasOwnProperty,vi=Ee.toString,gt=Object.hasOwn||function(r,o){return Tt.call(r,o)},Ie=Array.isArray||function(r){return vi.call(r)==="[object Array]"};function be(r){return new RegExp("^(?:"+r.replace(/ /g,"|")+")$")}function Dt(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}var Te=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,De=function(o,x){this.line=o,this.column=x};De.prototype.offset=function(o){return new De(this.line,this.column+o)};var Qe=function(o,x,A){this.start=x,this.end=A,o.sourceFile!==null&&(this.source=o.sourceFile)};function je(r,o){for(var x=1,A=0;;){var N=Ge(r,A,o);if(N<0)return new De(x,o-A);++x,A=N}}var oi={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},re=!1;function ui(r){var o={};for(var x in oi)o[x]=r&&gt(r,x)?r[x]:oi[x];if(o.ecmaVersion==="latest"?o.ecmaVersion=1e8:o.ecmaVersion==null?(!re&&typeof console=="object"&&console.warn&&(re=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),o.ecmaVersion=11):o.ecmaVersion>=2015&&(o.ecmaVersion-=2009),o.allowReserved==null&&(o.allowReserved=o.ecmaVersion<5),(!r||r.allowHashBang==null)&&(o.allowHashBang=o.ecmaVersion>=14),Ie(o.onToken)){var A=o.onToken;o.onToken=function(N){return A.push(N)}}return Ie(o.onComment)&&(o.onComment=mi(o,o.onComment)),o}function mi(r,o){return function(x,A,N,Z,$,lt){var pt={type:x?"Block":"Line",value:A,start:N,end:Z};r.locations&&(pt.loc=new Qe(this,$,lt)),r.ranges&&(pt.range=[N,Z]),o.push(pt)}}var qe=1,Xt=2,Jt=4,Yt=8,Ti=16,$e=32,yi=64,xi=128,Je=256,bi=qe|Xt|Je;function wi(r,o){return Xt|(r?Jt:0)|(o?Yt:0)}var hi=0,li=1,Zt=2,ci=3,Qt=4,Ci=5,St=function(o,x,A){this.options=o=ui(o),this.sourceFile=o.sourceFile,this.keywords=be(K[o.ecmaVersion>=6?6:o.sourceType==="module"?"5module":5]);var N="";o.allowReserved!==!0&&(N=F[o.ecmaVersion>=6?6:o.ecmaVersion===5?5:3],o.sourceType==="module"&&(N+=" await")),this.reservedWords=be(N);var Z=(N?N+" ":"")+F.strict;this.reservedWordsStrict=be(Z),this.reservedWordsStrictBind=be(Z+" "+F.strictBind),this.input=String(x),this.containsEsc=!1,A?(this.pos=A,this.lineStart=this.input.lastIndexOf(`
`,A-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Kt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=P.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=o.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&o.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(qe),this.regexpState=null,this.privateNameStack=[]},t={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};St.prototype.parse=function(){var o=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(o)},t.inFunction.get=function(){return(this.currentVarScope().flags&Xt)>0},t.inGenerator.get=function(){return(this.currentVarScope().flags&Yt)>0&&!this.currentVarScope().inClassFieldInit},t.inAsync.get=function(){return(this.currentVarScope().flags&Jt)>0&&!this.currentVarScope().inClassFieldInit},t.canAwait.get=function(){for(var r=this.scopeStack.length-1;r>=0;r--){var o=this.scopeStack[r];if(o.inClassFieldInit||o.flags&Je)return!1;if(o.flags&Xt)return(o.flags&Jt)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},t.allowSuper.get=function(){var r=this.currentThisScope(),o=r.flags,x=r.inClassFieldInit;return(o&yi)>0||x||this.options.allowSuperOutsideMethod},t.allowDirectSuper.get=function(){return(this.currentThisScope().flags&xi)>0},t.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},t.allowNewDotTarget.get=function(){var r=this.currentThisScope(),o=r.flags,x=r.inClassFieldInit;return(o&(Xt|Je))>0||x},t.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Je)>0},St.extend=function(){for(var o=[],x=arguments.length;x--;)o[x]=arguments[x];for(var A=this,N=0;N<o.length;N++)A=o[N](A);return A},St.parse=function(o,x){return new this(x,o).parse()},St.parseExpressionAt=function(o,x,A){var N=new this(A,o,x);return N.nextToken(),N.parseExpression()},St.tokenizer=function(o,x){return new this(x,o)},Object.defineProperties(St.prototype,t);var e=St.prototype,i=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;e.strictDirective=function(r){if(this.options.ecmaVersion<5)return!1;for(;;){oe.lastIndex=r,r+=oe.exec(this.input)[0].length;var o=i.exec(this.input.slice(r));if(!o)return!1;if((o[1]||o[2])==="use strict"){oe.lastIndex=r+o[0].length;var x=oe.exec(this.input),A=x.index+x[0].length,N=this.input.charAt(A);return N===";"||N==="}"||Kt.test(x[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(N)||N==="!"&&this.input.charAt(A+1)==="=")}r+=o[0].length,oe.lastIndex=r,r+=oe.exec(this.input)[0].length,this.input[r]===";"&&r++}},e.eat=function(r){return this.type===r?(this.next(),!0):!1},e.isContextual=function(r){return this.type===P.name&&this.value===r&&!this.containsEsc},e.eatContextual=function(r){return this.isContextual(r)?(this.next(),!0):!1},e.expectContextual=function(r){this.eatContextual(r)||this.unexpected()},e.canInsertSemicolon=function(){return this.type===P.eof||this.type===P.braceR||Kt.test(this.input.slice(this.lastTokEnd,this.start))},e.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},e.semicolon=function(){!this.eat(P.semi)&&!this.insertSemicolon()&&this.unexpected()},e.afterTrailingComma=function(r,o){if(this.type===r)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),o||this.next(),!0},e.expect=function(r){this.eat(r)||this.unexpected()},e.unexpected=function(r){this.raise(r??this.start,"Unexpected token")};var n=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};e.checkPatternErrors=function(r,o){if(r){r.trailingComma>-1&&this.raiseRecoverable(r.trailingComma,"Comma is not permitted after the rest element");var x=o?r.parenthesizedAssign:r.parenthesizedBind;x>-1&&this.raiseRecoverable(x,o?"Assigning to rvalue":"Parenthesized pattern")}},e.checkExpressionErrors=function(r,o){if(!r)return!1;var x=r.shorthandAssign,A=r.doubleProto;if(!o)return x>=0||A>=0;x>=0&&this.raise(x,"Shorthand property assignments are valid only in destructuring patterns"),A>=0&&this.raiseRecoverable(A,"Redefinition of __proto__ property")},e.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},e.isSimpleAssignTarget=function(r){return r.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(r.expression):r.type==="Identifier"||r.type==="MemberExpression"};var s=St.prototype;s.parseTopLevel=function(r){var o=Object.create(null);for(r.body||(r.body=[]);this.type!==P.eof;){var x=this.parseStatement(null,!0,o);r.body.push(x)}if(this.inModule)for(var A=0,N=Object.keys(this.undefinedExports);A<N.length;A+=1){var Z=N[A];this.raiseRecoverable(this.undefinedExports[Z].start,"Export '"+Z+"' is not defined")}return this.adaptDirectivePrologue(r.body),this.next(),r.sourceType=this.options.sourceType,this.finishNode(r,"Program")};var a={kind:"loop"},h={kind:"switch"};s.isLet=function(r){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;oe.lastIndex=this.pos;var o=oe.exec(this.input),x=this.pos+o[0].length,A=this.input.charCodeAt(x);if(A===91||A===92)return!0;if(r)return!1;if(A===123||A>55295&&A<56320)return!0;if(_t(A,!0)){for(var N=x+1;ot(A=this.input.charCodeAt(N),!0);)++N;if(A===92||A>55295&&A<56320)return!0;var Z=this.input.slice(x,N);if(!G.test(Z))return!0}return!1},s.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;oe.lastIndex=this.pos;var r=oe.exec(this.input),o=this.pos+r[0].length,x;return!Kt.test(this.input.slice(this.pos,o))&&this.input.slice(o,o+8)==="function"&&(o+8===this.input.length||!(ot(x=this.input.charCodeAt(o+8))||x>55295&&x<56320))},s.parseStatement=function(r,o,x){var A=this.type,N=this.startNode(),Z;switch(this.isLet(r)&&(A=P._var,Z="let"),A){case P._break:case P._continue:return this.parseBreakContinueStatement(N,A.keyword);case P._debugger:return this.parseDebuggerStatement(N);case P._do:return this.parseDoStatement(N);case P._for:return this.parseForStatement(N);case P._function:return r&&(this.strict||r!=="if"&&r!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(N,!1,!r);case P._class:return r&&this.unexpected(),this.parseClass(N,!0);case P._if:return this.parseIfStatement(N);case P._return:return this.parseReturnStatement(N);case P._switch:return this.parseSwitchStatement(N);case P._throw:return this.parseThrowStatement(N);case P._try:return this.parseTryStatement(N);case P._const:case P._var:return Z=Z||this.value,r&&Z!=="var"&&this.unexpected(),this.parseVarStatement(N,Z);case P._while:return this.parseWhileStatement(N);case P._with:return this.parseWithStatement(N);case P.braceL:return this.parseBlock(!0,N);case P.semi:return this.parseEmptyStatement(N);case P._export:case P._import:if(this.options.ecmaVersion>10&&A===P._import){oe.lastIndex=this.pos;var $=oe.exec(this.input),lt=this.pos+$[0].length,pt=this.input.charCodeAt(lt);if(pt===40||pt===46)return this.parseExpressionStatement(N,this.parseExpression())}return this.options.allowImportExportEverywhere||(o||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),A===P._import?this.parseImport(N):this.parseExport(N,x);default:if(this.isAsyncFunction())return r&&this.unexpected(),this.next(),this.parseFunctionStatement(N,!0,!r);var Lt=this.value,Rt=this.parseExpression();return A===P.name&&Rt.type==="Identifier"&&this.eat(P.colon)?this.parseLabeledStatement(N,Lt,Rt,r):this.parseExpressionStatement(N,Rt)}},s.parseBreakContinueStatement=function(r,o){var x=o==="break";this.next(),this.eat(P.semi)||this.insertSemicolon()?r.label=null:this.type!==P.name?this.unexpected():(r.label=this.parseIdent(),this.semicolon());for(var A=0;A<this.labels.length;++A){var N=this.labels[A];if((r.label==null||N.name===r.label.name)&&(N.kind!=null&&(x||N.kind==="loop")||r.label&&x))break}return A===this.labels.length&&this.raise(r.start,"Unsyntactic "+o),this.finishNode(r,x?"BreakStatement":"ContinueStatement")},s.parseDebuggerStatement=function(r){return this.next(),this.semicolon(),this.finishNode(r,"DebuggerStatement")},s.parseDoStatement=function(r){return this.next(),this.labels.push(a),r.body=this.parseStatement("do"),this.labels.pop(),this.expect(P._while),r.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(P.semi):this.semicolon(),this.finishNode(r,"DoWhileStatement")},s.parseForStatement=function(r){this.next();var o=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(a),this.enterScope(0),this.expect(P.parenL),this.type===P.semi)return o>-1&&this.unexpected(o),this.parseFor(r,null);var x=this.isLet();if(this.type===P._var||this.type===P._const||x){var A=this.startNode(),N=x?"let":this.value;return this.next(),this.parseVar(A,!0,N),this.finishNode(A,"VariableDeclaration"),(this.type===P._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&A.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===P._in?o>-1&&this.unexpected(o):r.await=o>-1),this.parseForIn(r,A)):(o>-1&&this.unexpected(o),this.parseFor(r,A))}var Z=this.isContextual("let"),$=!1,lt=new n,pt=this.parseExpression(o>-1?"await":!0,lt);return this.type===P._in||($=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===P._in?o>-1&&this.unexpected(o):r.await=o>-1),Z&&$&&this.raise(pt.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(pt,!1,lt),this.checkLValPattern(pt),this.parseForIn(r,pt)):(this.checkExpressionErrors(lt,!0),o>-1&&this.unexpected(o),this.parseFor(r,pt))},s.parseFunctionStatement=function(r,o,x){return this.next(),this.parseFunction(r,l|(x?0:c),!1,o)},s.parseIfStatement=function(r){return this.next(),r.test=this.parseParenExpression(),r.consequent=this.parseStatement("if"),r.alternate=this.eat(P._else)?this.parseStatement("if"):null,this.finishNode(r,"IfStatement")},s.parseReturnStatement=function(r){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(P.semi)||this.insertSemicolon()?r.argument=null:(r.argument=this.parseExpression(),this.semicolon()),this.finishNode(r,"ReturnStatement")},s.parseSwitchStatement=function(r){this.next(),r.discriminant=this.parseParenExpression(),r.cases=[],this.expect(P.braceL),this.labels.push(h),this.enterScope(0);for(var o,x=!1;this.type!==P.braceR;)if(this.type===P._case||this.type===P._default){var A=this.type===P._case;o&&this.finishNode(o,"SwitchCase"),r.cases.push(o=this.startNode()),o.consequent=[],this.next(),A?o.test=this.parseExpression():(x&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),x=!0,o.test=null),this.expect(P.colon)}else o||this.unexpected(),o.consequent.push(this.parseStatement(null));return this.exitScope(),o&&this.finishNode(o,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(r,"SwitchStatement")},s.parseThrowStatement=function(r){return this.next(),Kt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),r.argument=this.parseExpression(),this.semicolon(),this.finishNode(r,"ThrowStatement")};var u=[];s.parseTryStatement=function(r){if(this.next(),r.block=this.parseBlock(),r.handler=null,this.type===P._catch){var o=this.startNode();if(this.next(),this.eat(P.parenL)){o.param=this.parseBindingAtom();var x=o.param.type==="Identifier";this.enterScope(x?$e:0),this.checkLValPattern(o.param,x?Qt:Zt),this.expect(P.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),o.param=null,this.enterScope(0);o.body=this.parseBlock(!1),this.exitScope(),r.handler=this.finishNode(o,"CatchClause")}return r.finalizer=this.eat(P._finally)?this.parseBlock():null,!r.handler&&!r.finalizer&&this.raise(r.start,"Missing catch or finally clause"),this.finishNode(r,"TryStatement")},s.parseVarStatement=function(r,o){return this.next(),this.parseVar(r,!1,o),this.semicolon(),this.finishNode(r,"VariableDeclaration")},s.parseWhileStatement=function(r){return this.next(),r.test=this.parseParenExpression(),this.labels.push(a),r.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(r,"WhileStatement")},s.parseWithStatement=function(r){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),r.object=this.parseParenExpression(),r.body=this.parseStatement("with"),this.finishNode(r,"WithStatement")},s.parseEmptyStatement=function(r){return this.next(),this.finishNode(r,"EmptyStatement")},s.parseLabeledStatement=function(r,o,x,A){for(var N=0,Z=this.labels;N<Z.length;N+=1){var $=Z[N];$.name===o&&this.raise(x.start,"Label '"+o+"' is already declared")}for(var lt=this.type.isLoop?"loop":this.type===P._switch?"switch":null,pt=this.labels.length-1;pt>=0;pt--){var Lt=this.labels[pt];if(Lt.statementStart===r.start)Lt.statementStart=this.start,Lt.kind=lt;else break}return this.labels.push({name:o,kind:lt,statementStart:this.start}),r.body=this.parseStatement(A?A.indexOf("label")===-1?A+"label":A:"label"),this.labels.pop(),r.label=x,this.finishNode(r,"LabeledStatement")},s.parseExpressionStatement=function(r,o){return r.expression=o,this.semicolon(),this.finishNode(r,"ExpressionStatement")},s.parseBlock=function(r,o,x){for(r===void 0&&(r=!0),o===void 0&&(o=this.startNode()),o.body=[],this.expect(P.braceL),r&&this.enterScope(0);this.type!==P.braceR;){var A=this.parseStatement(null);o.body.push(A)}return x&&(this.strict=!1),this.next(),r&&this.exitScope(),this.finishNode(o,"BlockStatement")},s.parseFor=function(r,o){return r.init=o,this.expect(P.semi),r.test=this.type===P.semi?null:this.parseExpression(),this.expect(P.semi),r.update=this.type===P.parenR?null:this.parseExpression(),this.expect(P.parenR),r.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(r,"ForStatement")},s.parseForIn=function(r,o){var x=this.type===P._in;return this.next(),o.type==="VariableDeclaration"&&o.declarations[0].init!=null&&(!x||this.options.ecmaVersion<8||this.strict||o.kind!=="var"||o.declarations[0].id.type!=="Identifier")&&this.raise(o.start,(x?"for-in":"for-of")+" loop variable declaration may not have an initializer"),r.left=o,r.right=x?this.parseExpression():this.parseMaybeAssign(),this.expect(P.parenR),r.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(r,x?"ForInStatement":"ForOfStatement")},s.parseVar=function(r,o,x){for(r.declarations=[],r.kind=x;;){var A=this.startNode();if(this.parseVarId(A,x),this.eat(P.eq)?A.init=this.parseMaybeAssign(o):x==="const"&&!(this.type===P._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():A.id.type!=="Identifier"&&!(o&&(this.type===P._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):A.init=null,r.declarations.push(this.finishNode(A,"VariableDeclarator")),!this.eat(P.comma))break}return r},s.parseVarId=function(r,o){r.id=this.parseBindingAtom(),this.checkLValPattern(r.id,o==="var"?li:Zt,!1)};var l=1,c=2,_=4;s.parseFunction=function(r,o,x,A,N){this.initFunction(r),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!A)&&(this.type===P.star&&o&c&&this.unexpected(),r.generator=this.eat(P.star)),this.options.ecmaVersion>=8&&(r.async=!!A),o&l&&(r.id=o&_&&this.type!==P.name?null:this.parseIdent(),r.id&&!(o&c)&&this.checkLValSimple(r.id,this.strict||r.generator||r.async?this.treatFunctionsAsVar?li:Zt:ci));var Z=this.yieldPos,$=this.awaitPos,lt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(wi(r.async,r.generator)),o&l||(r.id=this.type===P.name?this.parseIdent():null),this.parseFunctionParams(r),this.parseFunctionBody(r,x,!1,N),this.yieldPos=Z,this.awaitPos=$,this.awaitIdentPos=lt,this.finishNode(r,o&l?"FunctionDeclaration":"FunctionExpression")},s.parseFunctionParams=function(r){this.expect(P.parenL),r.params=this.parseBindingList(P.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},s.parseClass=function(r,o){this.next();var x=this.strict;this.strict=!0,this.parseClassId(r,o),this.parseClassSuper(r);var A=this.enterClassBody(),N=this.startNode(),Z=!1;for(N.body=[],this.expect(P.braceL);this.type!==P.braceR;){var $=this.parseClassElement(r.superClass!==null);$&&(N.body.push($),$.type==="MethodDefinition"&&$.kind==="constructor"?(Z&&this.raise($.start,"Duplicate constructor in the same class"),Z=!0):$.key&&$.key.type==="PrivateIdentifier"&&v(A,$)&&this.raiseRecoverable($.key.start,"Identifier '#"+$.key.name+"' has already been declared"))}return this.strict=x,this.next(),r.body=this.finishNode(N,"ClassBody"),this.exitClassBody(),this.finishNode(r,o?"ClassDeclaration":"ClassExpression")},s.parseClassElement=function(r){if(this.eat(P.semi))return null;var o=this.options.ecmaVersion,x=this.startNode(),A="",N=!1,Z=!1,$="method",lt=!1;if(this.eatContextual("static")){if(o>=13&&this.eat(P.braceL))return this.parseClassStaticBlock(x),x;this.isClassElementNameStart()||this.type===P.star?lt=!0:A="static"}if(x.static=lt,!A&&o>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===P.star)&&!this.canInsertSemicolon()?Z=!0:A="async"),!A&&(o>=9||!Z)&&this.eat(P.star)&&(N=!0),!A&&!Z&&!N){var pt=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?$=pt:A=pt)}if(A?(x.computed=!1,x.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),x.key.name=A,this.finishNode(x.key,"Identifier")):this.parseClassElementName(x),o<13||this.type===P.parenL||$!=="method"||N||Z){var Lt=!x.static&&g(x,"constructor"),Rt=Lt&&r;Lt&&$!=="method"&&this.raise(x.key.start,"Constructor can't have get/set modifier"),x.kind=Lt?"constructor":$,this.parseClassMethod(x,N,Z,Rt)}else this.parseClassField(x);return x},s.isClassElementNameStart=function(){return this.type===P.name||this.type===P.privateId||this.type===P.num||this.type===P.string||this.type===P.bracketL||this.type.keyword},s.parseClassElementName=function(r){this.type===P.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),r.computed=!1,r.key=this.parsePrivateIdent()):this.parsePropertyName(r)},s.parseClassMethod=function(r,o,x,A){var N=r.key;r.kind==="constructor"?(o&&this.raise(N.start,"Constructor can't be a generator"),x&&this.raise(N.start,"Constructor can't be an async method")):r.static&&g(r,"prototype")&&this.raise(N.start,"Classes may not have a static property named prototype");var Z=r.value=this.parseMethod(o,x,A);return r.kind==="get"&&Z.params.length!==0&&this.raiseRecoverable(Z.start,"getter should have no params"),r.kind==="set"&&Z.params.length!==1&&this.raiseRecoverable(Z.start,"setter should have exactly one param"),r.kind==="set"&&Z.params[0].type==="RestElement"&&this.raiseRecoverable(Z.params[0].start,"Setter cannot use rest params"),this.finishNode(r,"MethodDefinition")},s.parseClassField=function(r){if(g(r,"constructor")?this.raise(r.key.start,"Classes can't have a field named 'constructor'"):r.static&&g(r,"prototype")&&this.raise(r.key.start,"Classes can't have a static field named 'prototype'"),this.eat(P.eq)){var o=this.currentThisScope(),x=o.inClassFieldInit;o.inClassFieldInit=!0,r.value=this.parseMaybeAssign(),o.inClassFieldInit=x}else r.value=null;return this.semicolon(),this.finishNode(r,"PropertyDefinition")},s.parseClassStaticBlock=function(r){r.body=[];var o=this.labels;for(this.labels=[],this.enterScope(Je|yi);this.type!==P.braceR;){var x=this.parseStatement(null);r.body.push(x)}return this.next(),this.exitScope(),this.labels=o,this.finishNode(r,"StaticBlock")},s.parseClassId=function(r,o){this.type===P.name?(r.id=this.parseIdent(),o&&this.checkLValSimple(r.id,Zt,!1)):(o===!0&&this.unexpected(),r.id=null)},s.parseClassSuper=function(r){r.superClass=this.eat(P._extends)?this.parseExprSubscripts(null,!1):null},s.enterClassBody=function(){var r={declared:Object.create(null),used:[]};return this.privateNameStack.push(r),r.declared},s.exitClassBody=function(){for(var r=this.privateNameStack.pop(),o=r.declared,x=r.used,A=this.privateNameStack.length,N=A===0?null:this.privateNameStack[A-1],Z=0;Z<x.length;++Z){var $=x[Z];gt(o,$.name)||(N?N.used.push($):this.raiseRecoverable($.start,"Private field '#"+$.name+"' must be declared in an enclosing class"))}};function v(r,o){var x=o.key.name,A=r[x],N="true";return o.type==="MethodDefinition"&&(o.kind==="get"||o.kind==="set")&&(N=(o.static?"s":"i")+o.kind),A==="iget"&&N==="iset"||A==="iset"&&N==="iget"||A==="sget"&&N==="sset"||A==="sset"&&N==="sget"?(r[x]="true",!1):A?!0:(r[x]=N,!1)}function g(r,o){var x=r.computed,A=r.key;return!x&&(A.type==="Identifier"&&A.name===o||A.type==="Literal"&&A.value===o)}s.parseExport=function(r,o){if(this.next(),this.eat(P.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(r.exported=this.parseModuleExportName(),this.checkExport(o,r.exported,this.lastTokStart)):r.exported=null),this.expectContextual("from"),this.type!==P.string&&this.unexpected(),r.source=this.parseExprAtom(),this.semicolon(),this.finishNode(r,"ExportAllDeclaration");if(this.eat(P._default)){this.checkExport(o,"default",this.lastTokStart);var x;if(this.type===P._function||(x=this.isAsyncFunction())){var A=this.startNode();this.next(),x&&this.next(),r.declaration=this.parseFunction(A,l|_,!1,x)}else if(this.type===P._class){var N=this.startNode();r.declaration=this.parseClass(N,"nullableID")}else r.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(r,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())r.declaration=this.parseStatement(null),r.declaration.type==="VariableDeclaration"?this.checkVariableExport(o,r.declaration.declarations):this.checkExport(o,r.declaration.id,r.declaration.id.start),r.specifiers=[],r.source=null;else{if(r.declaration=null,r.specifiers=this.parseExportSpecifiers(o),this.eatContextual("from"))this.type!==P.string&&this.unexpected(),r.source=this.parseExprAtom();else{for(var Z=0,$=r.specifiers;Z<$.length;Z+=1){var lt=$[Z];this.checkUnreserved(lt.local),this.checkLocalExport(lt.local),lt.local.type==="Literal"&&this.raise(lt.local.start,"A string literal cannot be used as an exported binding without `from`.")}r.source=null}this.semicolon()}return this.finishNode(r,"ExportNamedDeclaration")},s.checkExport=function(r,o,x){r&&(typeof o!="string"&&(o=o.type==="Identifier"?o.name:o.value),gt(r,o)&&this.raiseRecoverable(x,"Duplicate export '"+o+"'"),r[o]=!0)},s.checkPatternExport=function(r,o){var x=o.type;if(x==="Identifier")this.checkExport(r,o,o.start);else if(x==="ObjectPattern")for(var A=0,N=o.properties;A<N.length;A+=1){var Z=N[A];this.checkPatternExport(r,Z)}else if(x==="ArrayPattern")for(var $=0,lt=o.elements;$<lt.length;$+=1){var pt=lt[$];pt&&this.checkPatternExport(r,pt)}else x==="Property"?this.checkPatternExport(r,o.value):x==="AssignmentPattern"?this.checkPatternExport(r,o.left):x==="RestElement"?this.checkPatternExport(r,o.argument):x==="ParenthesizedExpression"&&this.checkPatternExport(r,o.expression)},s.checkVariableExport=function(r,o){if(r)for(var x=0,A=o;x<A.length;x+=1){var N=A[x];this.checkPatternExport(r,N.id)}},s.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},s.parseExportSpecifiers=function(r){var o=[],x=!0;for(this.expect(P.braceL);!this.eat(P.braceR);){if(x)x=!1;else if(this.expect(P.comma),this.afterTrailingComma(P.braceR))break;var A=this.startNode();A.local=this.parseModuleExportName(),A.exported=this.eatContextual("as")?this.parseModuleExportName():A.local,this.checkExport(r,A.exported,A.exported.start),o.push(this.finishNode(A,"ExportSpecifier"))}return o},s.parseImport=function(r){return this.next(),this.type===P.string?(r.specifiers=u,r.source=this.parseExprAtom()):(r.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),r.source=this.type===P.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(r,"ImportDeclaration")},s.parseImportSpecifiers=function(){var r=[],o=!0;if(this.type===P.name){var x=this.startNode();if(x.local=this.parseIdent(),this.checkLValSimple(x.local,Zt),r.push(this.finishNode(x,"ImportDefaultSpecifier")),!this.eat(P.comma))return r}if(this.type===P.star){var A=this.startNode();return this.next(),this.expectContextual("as"),A.local=this.parseIdent(),this.checkLValSimple(A.local,Zt),r.push(this.finishNode(A,"ImportNamespaceSpecifier")),r}for(this.expect(P.braceL);!this.eat(P.braceR);){if(o)o=!1;else if(this.expect(P.comma),this.afterTrailingComma(P.braceR))break;var N=this.startNode();N.imported=this.parseModuleExportName(),this.eatContextual("as")?N.local=this.parseIdent():(this.checkUnreserved(N.imported),N.local=N.imported),this.checkLValSimple(N.local,Zt),r.push(this.finishNode(N,"ImportSpecifier"))}return r},s.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===P.string){var r=this.parseLiteral(this.value);return Te.test(r.value)&&this.raise(r.start,"An export name cannot include a lone surrogate."),r}return this.parseIdent(!0)},s.adaptDirectivePrologue=function(r){for(var o=0;o<r.length&&this.isDirectiveCandidate(r[o]);++o)r[o].directive=r[o].expression.raw.slice(1,-1)},s.isDirectiveCandidate=function(r){return this.options.ecmaVersion>=5&&r.type==="ExpressionStatement"&&r.expression.type==="Literal"&&typeof r.expression.value=="string"&&(this.input[r.start]==='"'||this.input[r.start]==="'")};var d=St.prototype;d.toAssignable=function(r,o,x){if(this.options.ecmaVersion>=6&&r)switch(r.type){case"Identifier":this.inAsync&&r.name==="await"&&this.raise(r.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":r.type="ObjectPattern",x&&this.checkPatternErrors(x,!0);for(var A=0,N=r.properties;A<N.length;A+=1){var Z=N[A];this.toAssignable(Z,o),Z.type==="RestElement"&&(Z.argument.type==="ArrayPattern"||Z.argument.type==="ObjectPattern")&&this.raise(Z.argument.start,"Unexpected token")}break;case"Property":r.kind!=="init"&&this.raise(r.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(r.value,o);break;case"ArrayExpression":r.type="ArrayPattern",x&&this.checkPatternErrors(x,!0),this.toAssignableList(r.elements,o);break;case"SpreadElement":r.type="RestElement",this.toAssignable(r.argument,o),r.argument.type==="AssignmentPattern"&&this.raise(r.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":r.operator!=="="&&this.raise(r.left.end,"Only '=' operator can be used for specifying default value."),r.type="AssignmentPattern",delete r.operator,this.toAssignable(r.left,o);break;case"ParenthesizedExpression":this.toAssignable(r.expression,o,x);break;case"ChainExpression":this.raiseRecoverable(r.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!o)break;default:this.raise(r.start,"Assigning to rvalue")}else x&&this.checkPatternErrors(x,!0);return r},d.toAssignableList=function(r,o){for(var x=r.length,A=0;A<x;A++){var N=r[A];N&&this.toAssignable(N,o)}if(x){var Z=r[x-1];this.options.ecmaVersion===6&&o&&Z&&Z.type==="RestElement"&&Z.argument.type!=="Identifier"&&this.unexpected(Z.argument.start)}return r},d.parseSpread=function(r){var o=this.startNode();return this.next(),o.argument=this.parseMaybeAssign(!1,r),this.finishNode(o,"SpreadElement")},d.parseRestBinding=function(){var r=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==P.name&&this.unexpected(),r.argument=this.parseBindingAtom(),this.finishNode(r,"RestElement")},d.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case P.bracketL:var r=this.startNode();return this.next(),r.elements=this.parseBindingList(P.bracketR,!0,!0),this.finishNode(r,"ArrayPattern");case P.braceL:return this.parseObj(!0)}return this.parseIdent()},d.parseBindingList=function(r,o,x){for(var A=[],N=!0;!this.eat(r);)if(N?N=!1:this.expect(P.comma),o&&this.type===P.comma)A.push(null);else{if(x&&this.afterTrailingComma(r))break;if(this.type===P.ellipsis){var Z=this.parseRestBinding();this.parseBindingListItem(Z),A.push(Z),this.type===P.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(r);break}else{var $=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem($),A.push($)}}return A},d.parseBindingListItem=function(r){return r},d.parseMaybeDefault=function(r,o,x){if(x=x||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(P.eq))return x;var A=this.startNodeAt(r,o);return A.left=x,A.right=this.parseMaybeAssign(),this.finishNode(A,"AssignmentPattern")},d.checkLValSimple=function(r,o,x){o===void 0&&(o=hi);var A=o!==hi;switch(r.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(r.name)&&this.raiseRecoverable(r.start,(A?"Binding ":"Assigning to ")+r.name+" in strict mode"),A&&(o===Zt&&r.name==="let"&&this.raiseRecoverable(r.start,"let is disallowed as a lexically bound name"),x&&(gt(x,r.name)&&this.raiseRecoverable(r.start,"Argument name clash"),x[r.name]=!0),o!==Ci&&this.declareName(r.name,o,r.start));break;case"ChainExpression":this.raiseRecoverable(r.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":A&&this.raiseRecoverable(r.start,"Binding member expression");break;case"ParenthesizedExpression":return A&&this.raiseRecoverable(r.start,"Binding parenthesized expression"),this.checkLValSimple(r.expression,o,x);default:this.raise(r.start,(A?"Binding":"Assigning to")+" rvalue")}},d.checkLValPattern=function(r,o,x){switch(o===void 0&&(o=hi),r.type){case"ObjectPattern":for(var A=0,N=r.properties;A<N.length;A+=1){var Z=N[A];this.checkLValInnerPattern(Z,o,x)}break;case"ArrayPattern":for(var $=0,lt=r.elements;$<lt.length;$+=1){var pt=lt[$];pt&&this.checkLValInnerPattern(pt,o,x)}break;default:this.checkLValSimple(r,o,x)}},d.checkLValInnerPattern=function(r,o,x){switch(o===void 0&&(o=hi),r.type){case"Property":this.checkLValInnerPattern(r.value,o,x);break;case"AssignmentPattern":this.checkLValPattern(r.left,o,x);break;case"RestElement":this.checkLValPattern(r.argument,o,x);break;default:this.checkLValPattern(r,o,x)}};var w=function(o,x,A,N,Z){this.token=o,this.isExpr=!!x,this.preserveSpace=!!A,this.override=N,this.generator=!!Z},m={b_stat:new w("{",!1),b_expr:new w("{",!0),b_tmpl:new w("${",!1),p_stat:new w("(",!1),p_expr:new w("(",!0),q_tmpl:new w("`",!0,!0,function(r){return r.tryReadTemplateToken()}),f_stat:new w("function",!1),f_expr:new w("function",!0),f_expr_gen:new w("function",!0,!1,null,!0),f_gen:new w("function",!1,!1,null,!0)},k=St.prototype;k.initialContext=function(){return[m.b_stat]},k.curContext=function(){return this.context[this.context.length-1]},k.braceIsBlock=function(r){var o=this.curContext();return o===m.f_expr||o===m.f_stat?!0:r===P.colon&&(o===m.b_stat||o===m.b_expr)?!o.isExpr:r===P._return||r===P.name&&this.exprAllowed?Kt.test(this.input.slice(this.lastTokEnd,this.start)):r===P._else||r===P.semi||r===P.eof||r===P.parenR||r===P.arrow?!0:r===P.braceL?o===m.b_stat:r===P._var||r===P._const||r===P.name?!1:!this.exprAllowed},k.inGeneratorContext=function(){for(var r=this.context.length-1;r>=1;r--){var o=this.context[r];if(o.token==="function")return o.generator}return!1},k.updateContext=function(r){var o,x=this.type;x.keyword&&r===P.dot?this.exprAllowed=!1:(o=x.updateContext)?o.call(this,r):this.exprAllowed=x.beforeExpr},k.overrideContext=function(r){this.curContext()!==r&&(this.context[this.context.length-1]=r)},P.parenR.updateContext=P.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var r=this.context.pop();r===m.b_stat&&this.curContext().token==="function"&&(r=this.context.pop()),this.exprAllowed=!r.isExpr},P.braceL.updateContext=function(r){this.context.push(this.braceIsBlock(r)?m.b_stat:m.b_expr),this.exprAllowed=!0},P.dollarBraceL.updateContext=function(){this.context.push(m.b_tmpl),this.exprAllowed=!0},P.parenL.updateContext=function(r){var o=r===P._if||r===P._for||r===P._with||r===P._while;this.context.push(o?m.p_stat:m.p_expr),this.exprAllowed=!0},P.incDec.updateContext=function(){},P._function.updateContext=P._class.updateContext=function(r){r.beforeExpr&&r!==P._else&&!(r===P.semi&&this.curContext()!==m.p_stat)&&!(r===P._return&&Kt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((r===P.colon||r===P.braceL)&&this.curContext()===m.b_stat)?this.context.push(m.f_expr):this.context.push(m.f_stat),this.exprAllowed=!1},P.backQuote.updateContext=function(){this.curContext()===m.q_tmpl?this.context.pop():this.context.push(m.q_tmpl),this.exprAllowed=!1},P.star.updateContext=function(r){if(r===P._function){var o=this.context.length-1;this.context[o]===m.f_expr?this.context[o]=m.f_expr_gen:this.context[o]=m.f_gen}this.exprAllowed=!0},P.name.updateContext=function(r){var o=!1;this.options.ecmaVersion>=6&&r!==P.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(o=!0),this.exprAllowed=o};var p=St.prototype;p.checkPropClash=function(r,o,x){if(!(this.options.ecmaVersion>=9&&r.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(r.computed||r.method||r.shorthand))){var A=r.key,N;switch(A.type){case"Identifier":N=A.name;break;case"Literal":N=String(A.value);break;default:return}var Z=r.kind;if(this.options.ecmaVersion>=6){N==="__proto__"&&Z==="init"&&(o.proto&&(x?x.doubleProto<0&&(x.doubleProto=A.start):this.raiseRecoverable(A.start,"Redefinition of __proto__ property")),o.proto=!0);return}N="$"+N;var $=o[N];if($){var lt;Z==="init"?lt=this.strict&&$.init||$.get||$.set:lt=$.init||$[Z],lt&&this.raiseRecoverable(A.start,"Redefinition of property")}else $=o[N]={init:!1,get:!1,set:!1};$[Z]=!0}},p.parseExpression=function(r,o){var x=this.start,A=this.startLoc,N=this.parseMaybeAssign(r,o);if(this.type===P.comma){var Z=this.startNodeAt(x,A);for(Z.expressions=[N];this.eat(P.comma);)Z.expressions.push(this.parseMaybeAssign(r,o));return this.finishNode(Z,"SequenceExpression")}return N},p.parseMaybeAssign=function(r,o,x){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(r);this.exprAllowed=!1}var A=!1,N=-1,Z=-1,$=-1;o?(N=o.parenthesizedAssign,Z=o.trailingComma,$=o.doubleProto,o.parenthesizedAssign=o.trailingComma=-1):(o=new n,A=!0);var lt=this.start,pt=this.startLoc;(this.type===P.parenL||this.type===P.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=r==="await");var Lt=this.parseMaybeConditional(r,o);if(x&&(Lt=x.call(this,Lt,lt,pt)),this.type.isAssign){var Rt=this.startNodeAt(lt,pt);return Rt.operator=this.value,this.type===P.eq&&(Lt=this.toAssignable(Lt,!1,o)),A||(o.parenthesizedAssign=o.trailingComma=o.doubleProto=-1),o.shorthandAssign>=Lt.start&&(o.shorthandAssign=-1),this.type===P.eq?this.checkLValPattern(Lt):this.checkLValSimple(Lt),Rt.left=Lt,this.next(),Rt.right=this.parseMaybeAssign(r),$>-1&&(o.doubleProto=$),this.finishNode(Rt,"AssignmentExpression")}else A&&this.checkExpressionErrors(o,!0);return N>-1&&(o.parenthesizedAssign=N),Z>-1&&(o.trailingComma=Z),Lt},p.parseMaybeConditional=function(r,o){var x=this.start,A=this.startLoc,N=this.parseExprOps(r,o);if(this.checkExpressionErrors(o))return N;if(this.eat(P.question)){var Z=this.startNodeAt(x,A);return Z.test=N,Z.consequent=this.parseMaybeAssign(),this.expect(P.colon),Z.alternate=this.parseMaybeAssign(r),this.finishNode(Z,"ConditionalExpression")}return N},p.parseExprOps=function(r,o){var x=this.start,A=this.startLoc,N=this.parseMaybeUnary(o,!1,!1,r);return this.checkExpressionErrors(o)||N.start===x&&N.type==="ArrowFunctionExpression"?N:this.parseExprOp(N,x,A,-1,r)},p.parseExprOp=function(r,o,x,A,N){var Z=this.type.binop;if(Z!=null&&(!N||this.type!==P._in)&&Z>A){var $=this.type===P.logicalOR||this.type===P.logicalAND,lt=this.type===P.coalesce;lt&&(Z=P.logicalAND.binop);var pt=this.value;this.next();var Lt=this.start,Rt=this.startLoc,ee=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,N),Lt,Rt,Z,N),Oe=this.buildBinary(o,x,r,ee,pt,$||lt);return($&&this.type===P.coalesce||lt&&(this.type===P.logicalOR||this.type===P.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Oe,o,x,A,N)}return r},p.buildBinary=function(r,o,x,A,N,Z){A.type==="PrivateIdentifier"&&this.raise(A.start,"Private identifier can only be left side of binary expression");var $=this.startNodeAt(r,o);return $.left=x,$.operator=N,$.right=A,this.finishNode($,Z?"LogicalExpression":"BinaryExpression")},p.parseMaybeUnary=function(r,o,x,A){var N=this.start,Z=this.startLoc,$;if(this.isContextual("await")&&this.canAwait)$=this.parseAwait(A),o=!0;else if(this.type.prefix){var lt=this.startNode(),pt=this.type===P.incDec;lt.operator=this.value,lt.prefix=!0,this.next(),lt.argument=this.parseMaybeUnary(null,!0,pt,A),this.checkExpressionErrors(r,!0),pt?this.checkLValSimple(lt.argument):this.strict&&lt.operator==="delete"&&lt.argument.type==="Identifier"?this.raiseRecoverable(lt.start,"Deleting local variable in strict mode"):lt.operator==="delete"&&b(lt.argument)?this.raiseRecoverable(lt.start,"Private fields can not be deleted"):o=!0,$=this.finishNode(lt,pt?"UpdateExpression":"UnaryExpression")}else if(!o&&this.type===P.privateId)(A||this.privateNameStack.length===0)&&this.unexpected(),$=this.parsePrivateIdent(),this.type!==P._in&&this.unexpected();else{if($=this.parseExprSubscripts(r,A),this.checkExpressionErrors(r))return $;for(;this.type.postfix&&!this.canInsertSemicolon();){var Lt=this.startNodeAt(N,Z);Lt.operator=this.value,Lt.prefix=!1,Lt.argument=$,this.checkLValSimple($),this.next(),$=this.finishNode(Lt,"UpdateExpression")}}if(!x&&this.eat(P.starstar))if(o)this.unexpected(this.lastTokStart);else return this.buildBinary(N,Z,$,this.parseMaybeUnary(null,!1,!1,A),"**",!1);else return $};function b(r){return r.type==="MemberExpression"&&r.property.type==="PrivateIdentifier"||r.type==="ChainExpression"&&b(r.expression)}p.parseExprSubscripts=function(r,o){var x=this.start,A=this.startLoc,N=this.parseExprAtom(r,o);if(N.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return N;var Z=this.parseSubscripts(N,x,A,!1,o);return r&&Z.type==="MemberExpression"&&(r.parenthesizedAssign>=Z.start&&(r.parenthesizedAssign=-1),r.parenthesizedBind>=Z.start&&(r.parenthesizedBind=-1),r.trailingComma>=Z.start&&(r.trailingComma=-1)),Z},p.parseSubscripts=function(r,o,x,A,N){for(var Z=this.options.ecmaVersion>=8&&r.type==="Identifier"&&r.name==="async"&&this.lastTokEnd===r.end&&!this.canInsertSemicolon()&&r.end-r.start===5&&this.potentialArrowAt===r.start,$=!1;;){var lt=this.parseSubscript(r,o,x,A,Z,$,N);if(lt.optional&&($=!0),lt===r||lt.type==="ArrowFunctionExpression"){if($){var pt=this.startNodeAt(o,x);pt.expression=lt,lt=this.finishNode(pt,"ChainExpression")}return lt}r=lt}},p.parseSubscript=function(r,o,x,A,N,Z,$){var lt=this.options.ecmaVersion>=11,pt=lt&&this.eat(P.questionDot);A&&pt&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Lt=this.eat(P.bracketL);if(Lt||pt&&this.type!==P.parenL&&this.type!==P.backQuote||this.eat(P.dot)){var Rt=this.startNodeAt(o,x);Rt.object=r,Lt?(Rt.property=this.parseExpression(),this.expect(P.bracketR)):this.type===P.privateId&&r.type!=="Super"?Rt.property=this.parsePrivateIdent():Rt.property=this.parseIdent(this.options.allowReserved!=="never"),Rt.computed=!!Lt,lt&&(Rt.optional=pt),r=this.finishNode(Rt,"MemberExpression")}else if(!A&&this.eat(P.parenL)){var ee=new n,Oe=this.yieldPos,Ue=this.awaitPos,Be=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var We=this.parseExprList(P.parenR,this.options.ecmaVersion>=8,!1,ee);if(N&&!pt&&!this.canInsertSemicolon()&&this.eat(P.arrow))return this.checkPatternErrors(ee,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Oe,this.awaitPos=Ue,this.awaitIdentPos=Be,this.parseArrowExpression(this.startNodeAt(o,x),We,!0,$);this.checkExpressionErrors(ee,!0),this.yieldPos=Oe||this.yieldPos,this.awaitPos=Ue||this.awaitPos,this.awaitIdentPos=Be||this.awaitIdentPos;var ke=this.startNodeAt(o,x);ke.callee=r,ke.arguments=We,lt&&(ke.optional=pt),r=this.finishNode(ke,"CallExpression")}else if(this.type===P.backQuote){(pt||Z)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ke=this.startNodeAt(o,x);Ke.tag=r,Ke.quasi=this.parseTemplate({isTagged:!0}),r=this.finishNode(Ke,"TaggedTemplateExpression")}return r},p.parseExprAtom=function(r,o){this.type===P.slash&&this.readRegexp();var x,A=this.potentialArrowAt===this.start;switch(this.type){case P._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),x=this.startNode(),this.next(),this.type===P.parenL&&!this.allowDirectSuper&&this.raise(x.start,"super() call outside constructor of a subclass"),this.type!==P.dot&&this.type!==P.bracketL&&this.type!==P.parenL&&this.unexpected(),this.finishNode(x,"Super");case P._this:return x=this.startNode(),this.next(),this.finishNode(x,"ThisExpression");case P.name:var N=this.start,Z=this.startLoc,$=this.containsEsc,lt=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!$&&lt.name==="async"&&!this.canInsertSemicolon()&&this.eat(P._function))return this.overrideContext(m.f_expr),this.parseFunction(this.startNodeAt(N,Z),0,!1,!0,o);if(A&&!this.canInsertSemicolon()){if(this.eat(P.arrow))return this.parseArrowExpression(this.startNodeAt(N,Z),[lt],!1,o);if(this.options.ecmaVersion>=8&&lt.name==="async"&&this.type===P.name&&!$&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return lt=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(P.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(N,Z),[lt],!0,o)}return lt;case P.regexp:var pt=this.value;return x=this.parseLiteral(pt.value),x.regex={pattern:pt.pattern,flags:pt.flags},x;case P.num:case P.string:return this.parseLiteral(this.value);case P._null:case P._true:case P._false:return x=this.startNode(),x.value=this.type===P._null?null:this.type===P._true,x.raw=this.type.keyword,this.next(),this.finishNode(x,"Literal");case P.parenL:var Lt=this.start,Rt=this.parseParenAndDistinguishExpression(A,o);return r&&(r.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Rt)&&(r.parenthesizedAssign=Lt),r.parenthesizedBind<0&&(r.parenthesizedBind=Lt)),Rt;case P.bracketL:return x=this.startNode(),this.next(),x.elements=this.parseExprList(P.bracketR,!0,!0,r),this.finishNode(x,"ArrayExpression");case P.braceL:return this.overrideContext(m.b_expr),this.parseObj(!1,r);case P._function:return x=this.startNode(),this.next(),this.parseFunction(x,0);case P._class:return this.parseClass(this.startNode(),!1);case P._new:return this.parseNew();case P.backQuote:return this.parseTemplate();case P._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},p.parseExprImport=function(){var r=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var o=this.parseIdent(!0);switch(this.type){case P.parenL:return this.parseDynamicImport(r);case P.dot:return r.meta=o,this.parseImportMeta(r);default:this.unexpected()}},p.parseDynamicImport=function(r){if(this.next(),r.source=this.parseMaybeAssign(),!this.eat(P.parenR)){var o=this.start;this.eat(P.comma)&&this.eat(P.parenR)?this.raiseRecoverable(o,"Trailing comma is not allowed in import()"):this.unexpected(o)}return this.finishNode(r,"ImportExpression")},p.parseImportMeta=function(r){this.next();var o=this.containsEsc;return r.property=this.parseIdent(!0),r.property.name!=="meta"&&this.raiseRecoverable(r.property.start,"The only valid meta property for import is 'import.meta'"),o&&this.raiseRecoverable(r.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(r.start,"Cannot use 'import.meta' outside a module"),this.finishNode(r,"MetaProperty")},p.parseLiteral=function(r){var o=this.startNode();return o.value=r,o.raw=this.input.slice(this.start,this.end),o.raw.charCodeAt(o.raw.length-1)===110&&(o.bigint=o.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(o,"Literal")},p.parseParenExpression=function(){this.expect(P.parenL);var r=this.parseExpression();return this.expect(P.parenR),r},p.parseParenAndDistinguishExpression=function(r,o){var x=this.start,A=this.startLoc,N,Z=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var $=this.start,lt=this.startLoc,pt=[],Lt=!0,Rt=!1,ee=new n,Oe=this.yieldPos,Ue=this.awaitPos,Be;for(this.yieldPos=0,this.awaitPos=0;this.type!==P.parenR;)if(Lt?Lt=!1:this.expect(P.comma),Z&&this.afterTrailingComma(P.parenR,!0)){Rt=!0;break}else if(this.type===P.ellipsis){Be=this.start,pt.push(this.parseParenItem(this.parseRestBinding())),this.type===P.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else pt.push(this.parseMaybeAssign(!1,ee,this.parseParenItem));var We=this.lastTokEnd,ke=this.lastTokEndLoc;if(this.expect(P.parenR),r&&!this.canInsertSemicolon()&&this.eat(P.arrow))return this.checkPatternErrors(ee,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Oe,this.awaitPos=Ue,this.parseParenArrowList(x,A,pt,o);(!pt.length||Rt)&&this.unexpected(this.lastTokStart),Be&&this.unexpected(Be),this.checkExpressionErrors(ee,!0),this.yieldPos=Oe||this.yieldPos,this.awaitPos=Ue||this.awaitPos,pt.length>1?(N=this.startNodeAt($,lt),N.expressions=pt,this.finishNodeAt(N,"SequenceExpression",We,ke)):N=pt[0]}else N=this.parseParenExpression();if(this.options.preserveParens){var Ke=this.startNodeAt(x,A);return Ke.expression=N,this.finishNode(Ke,"ParenthesizedExpression")}else return N},p.parseParenItem=function(r){return r},p.parseParenArrowList=function(r,o,x,A){return this.parseArrowExpression(this.startNodeAt(r,o),x,!1,A)};var f=[];p.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var r=this.startNode(),o=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(P.dot)){r.meta=o;var x=this.containsEsc;return r.property=this.parseIdent(!0),r.property.name!=="target"&&this.raiseRecoverable(r.property.start,"The only valid meta property for new is 'new.target'"),x&&this.raiseRecoverable(r.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(r.start,"'new.target' can only be used in functions and class static block"),this.finishNode(r,"MetaProperty")}var A=this.start,N=this.startLoc,Z=this.type===P._import;return r.callee=this.parseSubscripts(this.parseExprAtom(),A,N,!0,!1),Z&&r.callee.type==="ImportExpression"&&this.raise(A,"Cannot use new with import()"),this.eat(P.parenL)?r.arguments=this.parseExprList(P.parenR,this.options.ecmaVersion>=8,!1):r.arguments=f,this.finishNode(r,"NewExpression")},p.parseTemplateElement=function(r){var o=r.isTagged,x=this.startNode();return this.type===P.invalidTemplate?(o||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),x.value={raw:this.value,cooked:null}):x.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),x.tail=this.type===P.backQuote,this.finishNode(x,"TemplateElement")},p.parseTemplate=function(r){r===void 0&&(r={});var o=r.isTagged;o===void 0&&(o=!1);var x=this.startNode();this.next(),x.expressions=[];var A=this.parseTemplateElement({isTagged:o});for(x.quasis=[A];!A.tail;)this.type===P.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(P.dollarBraceL),x.expressions.push(this.parseExpression()),this.expect(P.braceR),x.quasis.push(A=this.parseTemplateElement({isTagged:o}));return this.next(),this.finishNode(x,"TemplateLiteral")},p.isAsyncProp=function(r){return!r.computed&&r.key.type==="Identifier"&&r.key.name==="async"&&(this.type===P.name||this.type===P.num||this.type===P.string||this.type===P.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===P.star)&&!Kt.test(this.input.slice(this.lastTokEnd,this.start))},p.parseObj=function(r,o){var x=this.startNode(),A=!0,N={};for(x.properties=[],this.next();!this.eat(P.braceR);){if(A)A=!1;else if(this.expect(P.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(P.braceR))break;var Z=this.parseProperty(r,o);r||this.checkPropClash(Z,N,o),x.properties.push(Z)}return this.finishNode(x,r?"ObjectPattern":"ObjectExpression")},p.parseProperty=function(r,o){var x=this.startNode(),A,N,Z,$;if(this.options.ecmaVersion>=9&&this.eat(P.ellipsis))return r?(x.argument=this.parseIdent(!1),this.type===P.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(x,"RestElement")):(x.argument=this.parseMaybeAssign(!1,o),this.type===P.comma&&o&&o.trailingComma<0&&(o.trailingComma=this.start),this.finishNode(x,"SpreadElement"));this.options.ecmaVersion>=6&&(x.method=!1,x.shorthand=!1,(r||o)&&(Z=this.start,$=this.startLoc),r||(A=this.eat(P.star)));var lt=this.containsEsc;return this.parsePropertyName(x),!r&&!lt&&this.options.ecmaVersion>=8&&!A&&this.isAsyncProp(x)?(N=!0,A=this.options.ecmaVersion>=9&&this.eat(P.star),this.parsePropertyName(x)):N=!1,this.parsePropertyValue(x,r,A,N,Z,$,o,lt),this.finishNode(x,"Property")},p.parsePropertyValue=function(r,o,x,A,N,Z,$,lt){if((x||A)&&this.type===P.colon&&this.unexpected(),this.eat(P.colon))r.value=o?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,$),r.kind="init";else if(this.options.ecmaVersion>=6&&this.type===P.parenL)o&&this.unexpected(),r.kind="init",r.method=!0,r.value=this.parseMethod(x,A);else if(!o&&!lt&&this.options.ecmaVersion>=5&&!r.computed&&r.key.type==="Identifier"&&(r.key.name==="get"||r.key.name==="set")&&this.type!==P.comma&&this.type!==P.braceR&&this.type!==P.eq){(x||A)&&this.unexpected(),r.kind=r.key.name,this.parsePropertyName(r),r.value=this.parseMethod(!1);var pt=r.kind==="get"?0:1;if(r.value.params.length!==pt){var Lt=r.value.start;r.kind==="get"?this.raiseRecoverable(Lt,"getter should have no params"):this.raiseRecoverable(Lt,"setter should have exactly one param")}else r.kind==="set"&&r.value.params[0].type==="RestElement"&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!r.computed&&r.key.type==="Identifier"?((x||A)&&this.unexpected(),this.checkUnreserved(r.key),r.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=N),r.kind="init",o?r.value=this.parseMaybeDefault(N,Z,this.copyNode(r.key)):this.type===P.eq&&$?($.shorthandAssign<0&&($.shorthandAssign=this.start),r.value=this.parseMaybeDefault(N,Z,this.copyNode(r.key))):r.value=this.copyNode(r.key),r.shorthand=!0):this.unexpected()},p.parsePropertyName=function(r){if(this.options.ecmaVersion>=6){if(this.eat(P.bracketL))return r.computed=!0,r.key=this.parseMaybeAssign(),this.expect(P.bracketR),r.key;r.computed=!1}return r.key=this.type===P.num||this.type===P.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},p.initFunction=function(r){r.id=null,this.options.ecmaVersion>=6&&(r.generator=r.expression=!1),this.options.ecmaVersion>=8&&(r.async=!1)},p.parseMethod=function(r,o,x){var A=this.startNode(),N=this.yieldPos,Z=this.awaitPos,$=this.awaitIdentPos;return this.initFunction(A),this.options.ecmaVersion>=6&&(A.generator=r),this.options.ecmaVersion>=8&&(A.async=!!o),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(wi(o,A.generator)|yi|(x?xi:0)),this.expect(P.parenL),A.params=this.parseBindingList(P.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(A,!1,!0,!1),this.yieldPos=N,this.awaitPos=Z,this.awaitIdentPos=$,this.finishNode(A,"FunctionExpression")},p.parseArrowExpression=function(r,o,x,A){var N=this.yieldPos,Z=this.awaitPos,$=this.awaitIdentPos;return this.enterScope(wi(x,!1)|Ti),this.initFunction(r),this.options.ecmaVersion>=8&&(r.async=!!x),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,r.params=this.toAssignableList(o,!0),this.parseFunctionBody(r,!0,!1,A),this.yieldPos=N,this.awaitPos=Z,this.awaitIdentPos=$,this.finishNode(r,"ArrowFunctionExpression")},p.parseFunctionBody=function(r,o,x,A){var N=o&&this.type!==P.braceL,Z=this.strict,$=!1;if(N)r.body=this.parseMaybeAssign(A),r.expression=!0,this.checkParams(r,!1);else{var lt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(r.params);(!Z||lt)&&($=this.strictDirective(this.end),$&&lt&&this.raiseRecoverable(r.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var pt=this.labels;this.labels=[],$&&(this.strict=!0),this.checkParams(r,!Z&&!$&&!o&&!x&&this.isSimpleParamList(r.params)),this.strict&&r.id&&this.checkLValSimple(r.id,Ci),r.body=this.parseBlock(!1,void 0,$&&!Z),r.expression=!1,this.adaptDirectivePrologue(r.body.body),this.labels=pt}this.exitScope()},p.isSimpleParamList=function(r){for(var o=0,x=r;o<x.length;o+=1){var A=x[o];if(A.type!=="Identifier")return!1}return!0},p.checkParams=function(r,o){for(var x=Object.create(null),A=0,N=r.params;A<N.length;A+=1){var Z=N[A];this.checkLValInnerPattern(Z,li,o?null:x)}},p.parseExprList=function(r,o,x,A){for(var N=[],Z=!0;!this.eat(r);){if(Z)Z=!1;else if(this.expect(P.comma),o&&this.afterTrailingComma(r))break;var $=void 0;x&&this.type===P.comma?$=null:this.type===P.ellipsis?($=this.parseSpread(A),A&&this.type===P.comma&&A.trailingComma<0&&(A.trailingComma=this.start)):$=this.parseMaybeAssign(!1,A),N.push($)}return N},p.checkUnreserved=function(r){var o=r.start,x=r.end,A=r.name;if(this.inGenerator&&A==="yield"&&this.raiseRecoverable(o,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&A==="await"&&this.raiseRecoverable(o,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&A==="arguments"&&this.raiseRecoverable(o,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(A==="arguments"||A==="await")&&this.raise(o,"Cannot use "+A+" in class static initialization block"),this.keywords.test(A)&&this.raise(o,"Unexpected keyword '"+A+"'"),!(this.options.ecmaVersion<6&&this.input.slice(o,x).indexOf("\\")!==-1)){var N=this.strict?this.reservedWordsStrict:this.reservedWords;N.test(A)&&(!this.inAsync&&A==="await"&&this.raiseRecoverable(o,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(o,"The keyword '"+A+"' is reserved"))}},p.parseIdent=function(r){var o=this.startNode();return this.type===P.name?o.name=this.value:this.type.keyword?(o.name=this.type.keyword,(o.name==="class"||o.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!r),this.finishNode(o,"Identifier"),r||(this.checkUnreserved(o),o.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=o.start)),o},p.parsePrivateIdent=function(){var r=this.startNode();return this.type===P.privateId?r.name=this.value:this.unexpected(),this.next(),this.finishNode(r,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(r.start,"Private field '#"+r.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(r),r},p.parseYield=function(r){this.yieldPos||(this.yieldPos=this.start);var o=this.startNode();return this.next(),this.type===P.semi||this.canInsertSemicolon()||this.type!==P.star&&!this.type.startsExpr?(o.delegate=!1,o.argument=null):(o.delegate=this.eat(P.star),o.argument=this.parseMaybeAssign(r)),this.finishNode(o,"YieldExpression")},p.parseAwait=function(r){this.awaitPos||(this.awaitPos=this.start);var o=this.startNode();return this.next(),o.argument=this.parseMaybeUnary(null,!0,!1,r),this.finishNode(o,"AwaitExpression")};var y=St.prototype;y.raise=function(r,o){var x=je(this.input,r);o+=" ("+x.line+":"+x.column+")";var A=new SyntaxError(o);throw A.pos=r,A.loc=x,A.raisedAt=this.pos,A},y.raiseRecoverable=y.raise,y.curPosition=function(){if(this.options.locations)return new De(this.curLine,this.pos-this.lineStart)};var S=St.prototype,I=function(o){this.flags=o,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};S.enterScope=function(r){this.scopeStack.push(new I(r))},S.exitScope=function(){this.scopeStack.pop()},S.treatFunctionsAsVarInScope=function(r){return r.flags&Xt||!this.inModule&&r.flags&qe},S.declareName=function(r,o,x){var A=!1;if(o===Zt){var N=this.currentScope();A=N.lexical.indexOf(r)>-1||N.functions.indexOf(r)>-1||N.var.indexOf(r)>-1,N.lexical.push(r),this.inModule&&N.flags&qe&&delete this.undefinedExports[r]}else if(o===Qt){var Z=this.currentScope();Z.lexical.push(r)}else if(o===ci){var $=this.currentScope();this.treatFunctionsAsVar?A=$.lexical.indexOf(r)>-1:A=$.lexical.indexOf(r)>-1||$.var.indexOf(r)>-1,$.functions.push(r)}else for(var lt=this.scopeStack.length-1;lt>=0;--lt){var pt=this.scopeStack[lt];if(pt.lexical.indexOf(r)>-1&&!(pt.flags&$e&&pt.lexical[0]===r)||!this.treatFunctionsAsVarInScope(pt)&&pt.functions.indexOf(r)>-1){A=!0;break}if(pt.var.push(r),this.inModule&&pt.flags&qe&&delete this.undefinedExports[r],pt.flags&bi)break}A&&this.raiseRecoverable(x,"Identifier '"+r+"' has already been declared")},S.checkLocalExport=function(r){this.scopeStack[0].lexical.indexOf(r.name)===-1&&this.scopeStack[0].var.indexOf(r.name)===-1&&(this.undefinedExports[r.name]=r)},S.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},S.currentVarScope=function(){for(var r=this.scopeStack.length-1;;r--){var o=this.scopeStack[r];if(o.flags&bi)return o}},S.currentThisScope=function(){for(var r=this.scopeStack.length-1;;r--){var o=this.scopeStack[r];if(o.flags&bi&&!(o.flags&Ti))return o}};var C=function(o,x,A){this.type="",this.start=x,this.end=0,o.options.locations&&(this.loc=new Qe(o,A)),o.options.directSourceFile&&(this.sourceFile=o.options.directSourceFile),o.options.ranges&&(this.range=[x,0])},T=St.prototype;T.startNode=function(){return new C(this,this.start,this.startLoc)},T.startNodeAt=function(r,o){return new C(this,r,o)};function M(r,o,x,A){return r.type=o,r.end=x,this.options.locations&&(r.loc.end=A),this.options.ranges&&(r.range[1]=x),r}T.finishNode=function(r,o){return M.call(this,r,o,this.lastTokEnd,this.lastTokEndLoc)},T.finishNodeAt=function(r,o,x,A){return M.call(this,r,o,x,A)},T.copyNode=function(r){var o=new C(this,r.start,this.startLoc);for(var x in r)o[x]=r[x];return o};var z="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",D=z+" Extended_Pictographic",O=D,V=O+" EBase EComp EMod EPres ExtPict",q=V,j=q,W={9:z,10:D,11:O,12:V,13:q,14:j},Q="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ht="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ft=ht+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",dt=ft+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",yt=dt+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",et=yt+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",rt=et+" Kawi Nag_Mundari Nagm",vt={9:ht,10:ft,11:dt,12:yt,13:et,14:rt},xt={};function bt(r){var o=xt[r]={binary:be(W[r]+" "+Q),nonBinary:{General_Category:be(Q),Script:be(vt[r])}};o.nonBinary.Script_Extensions=o.nonBinary.Script,o.nonBinary.gc=o.nonBinary.General_Category,o.nonBinary.sc=o.nonBinary.Script,o.nonBinary.scx=o.nonBinary.Script_Extensions}for(var At=0,It=[9,10,11,12,13,14];At<It.length;At+=1){var Nt=It[At];bt(Nt)}var ct=St.prototype,Pt=function(o){this.parser=o,this.validFlags="gim"+(o.options.ecmaVersion>=6?"uy":"")+(o.options.ecmaVersion>=9?"s":"")+(o.options.ecmaVersion>=13?"d":""),this.unicodeProperties=xt[o.options.ecmaVersion>=14?14:o.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};Pt.prototype.reset=function(o,x,A){var N=A.indexOf("u")!==-1;this.start=o|0,this.source=x+"",this.flags=A,this.switchU=N&&this.parser.options.ecmaVersion>=6,this.switchN=N&&this.parser.options.ecmaVersion>=9},Pt.prototype.raise=function(o){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+o)},Pt.prototype.at=function(o,x){x===void 0&&(x=!1);var A=this.source,N=A.length;if(o>=N)return-1;var Z=A.charCodeAt(o);if(!(x||this.switchU)||Z<=55295||Z>=57344||o+1>=N)return Z;var $=A.charCodeAt(o+1);return $>=56320&&$<=57343?(Z<<10)+$-56613888:Z},Pt.prototype.nextIndex=function(o,x){x===void 0&&(x=!1);var A=this.source,N=A.length;if(o>=N)return N;var Z=A.charCodeAt(o),$;return!(x||this.switchU)||Z<=55295||Z>=57344||o+1>=N||($=A.charCodeAt(o+1))<56320||$>57343?o+1:o+2},Pt.prototype.current=function(o){return o===void 0&&(o=!1),this.at(this.pos,o)},Pt.prototype.lookahead=function(o){return o===void 0&&(o=!1),this.at(this.nextIndex(this.pos,o),o)},Pt.prototype.advance=function(o){o===void 0&&(o=!1),this.pos=this.nextIndex(this.pos,o)},Pt.prototype.eat=function(o,x){return x===void 0&&(x=!1),this.current(x)===o?(this.advance(x),!0):!1},ct.validateRegExpFlags=function(r){for(var o=r.validFlags,x=r.flags,A=0;A<x.length;A++){var N=x.charAt(A);o.indexOf(N)===-1&&this.raise(r.start,"Invalid regular expression flag"),x.indexOf(N,A+1)>-1&&this.raise(r.start,"Duplicate regular expression flag")}},ct.validateRegExpPattern=function(r){this.regexp_pattern(r),!r.switchN&&this.options.ecmaVersion>=9&&r.groupNames.length>0&&(r.switchN=!0,this.regexp_pattern(r))},ct.regexp_pattern=function(r){r.pos=0,r.lastIntValue=0,r.lastStringValue="",r.lastAssertionIsQuantifiable=!1,r.numCapturingParens=0,r.maxBackReference=0,r.groupNames.length=0,r.backReferenceNames.length=0,this.regexp_disjunction(r),r.pos!==r.source.length&&(r.eat(41)&&r.raise("Unmatched ')'"),(r.eat(93)||r.eat(125))&&r.raise("Lone quantifier brackets")),r.maxBackReference>r.numCapturingParens&&r.raise("Invalid escape");for(var o=0,x=r.backReferenceNames;o<x.length;o+=1){var A=x[o];r.groupNames.indexOf(A)===-1&&r.raise("Invalid named capture referenced")}},ct.regexp_disjunction=function(r){for(this.regexp_alternative(r);r.eat(124);)this.regexp_alternative(r);this.regexp_eatQuantifier(r,!0)&&r.raise("Nothing to repeat"),r.eat(123)&&r.raise("Lone quantifier brackets")},ct.regexp_alternative=function(r){for(;r.pos<r.source.length&&this.regexp_eatTerm(r););},ct.regexp_eatTerm=function(r){return this.regexp_eatAssertion(r)?(r.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(r)&&r.switchU&&r.raise("Invalid quantifier"),!0):(r.switchU?this.regexp_eatAtom(r):this.regexp_eatExtendedAtom(r))?(this.regexp_eatQuantifier(r),!0):!1},ct.regexp_eatAssertion=function(r){var o=r.pos;if(r.lastAssertionIsQuantifiable=!1,r.eat(94)||r.eat(36))return!0;if(r.eat(92)){if(r.eat(66)||r.eat(98))return!0;r.pos=o}if(r.eat(40)&&r.eat(63)){var x=!1;if(this.options.ecmaVersion>=9&&(x=r.eat(60)),r.eat(61)||r.eat(33))return this.regexp_disjunction(r),r.eat(41)||r.raise("Unterminated group"),r.lastAssertionIsQuantifiable=!x,!0}return r.pos=o,!1},ct.regexp_eatQuantifier=function(r,o){return o===void 0&&(o=!1),this.regexp_eatQuantifierPrefix(r,o)?(r.eat(63),!0):!1},ct.regexp_eatQuantifierPrefix=function(r,o){return r.eat(42)||r.eat(43)||r.eat(63)||this.regexp_eatBracedQuantifier(r,o)},ct.regexp_eatBracedQuantifier=function(r,o){var x=r.pos;if(r.eat(123)){var A=0,N=-1;if(this.regexp_eatDecimalDigits(r)&&(A=r.lastIntValue,r.eat(44)&&this.regexp_eatDecimalDigits(r)&&(N=r.lastIntValue),r.eat(125)))return N!==-1&&N<A&&!o&&r.raise("numbers out of order in {} quantifier"),!0;r.switchU&&!o&&r.raise("Incomplete quantifier"),r.pos=x}return!1},ct.regexp_eatAtom=function(r){return this.regexp_eatPatternCharacters(r)||r.eat(46)||this.regexp_eatReverseSolidusAtomEscape(r)||this.regexp_eatCharacterClass(r)||this.regexp_eatUncapturingGroup(r)||this.regexp_eatCapturingGroup(r)},ct.regexp_eatReverseSolidusAtomEscape=function(r){var o=r.pos;if(r.eat(92)){if(this.regexp_eatAtomEscape(r))return!0;r.pos=o}return!1},ct.regexp_eatUncapturingGroup=function(r){var o=r.pos;if(r.eat(40)){if(r.eat(63)&&r.eat(58)){if(this.regexp_disjunction(r),r.eat(41))return!0;r.raise("Unterminated group")}r.pos=o}return!1},ct.regexp_eatCapturingGroup=function(r){if(r.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(r):r.current()===63&&r.raise("Invalid group"),this.regexp_disjunction(r),r.eat(41))return r.numCapturingParens+=1,!0;r.raise("Unterminated group")}return!1},ct.regexp_eatExtendedAtom=function(r){return r.eat(46)||this.regexp_eatReverseSolidusAtomEscape(r)||this.regexp_eatCharacterClass(r)||this.regexp_eatUncapturingGroup(r)||this.regexp_eatCapturingGroup(r)||this.regexp_eatInvalidBracedQuantifier(r)||this.regexp_eatExtendedPatternCharacter(r)},ct.regexp_eatInvalidBracedQuantifier=function(r){return this.regexp_eatBracedQuantifier(r,!0)&&r.raise("Nothing to repeat"),!1},ct.regexp_eatSyntaxCharacter=function(r){var o=r.current();return ne(o)?(r.lastIntValue=o,r.advance(),!0):!1};function ne(r){return r===36||r>=40&&r<=43||r===46||r===63||r>=91&&r<=94||r>=123&&r<=125}ct.regexp_eatPatternCharacters=function(r){for(var o=r.pos,x=0;(x=r.current())!==-1&&!ne(x);)r.advance();return r.pos!==o},ct.regexp_eatExtendedPatternCharacter=function(r){var o=r.current();return o!==-1&&o!==36&&!(o>=40&&o<=43)&&o!==46&&o!==63&&o!==91&&o!==94&&o!==124?(r.advance(),!0):!1},ct.regexp_groupSpecifier=function(r){if(r.eat(63)){if(this.regexp_eatGroupName(r)){r.groupNames.indexOf(r.lastStringValue)!==-1&&r.raise("Duplicate capture group name"),r.groupNames.push(r.lastStringValue);return}r.raise("Invalid group")}},ct.regexp_eatGroupName=function(r){if(r.lastStringValue="",r.eat(60)){if(this.regexp_eatRegExpIdentifierName(r)&&r.eat(62))return!0;r.raise("Invalid capture group name")}return!1},ct.regexp_eatRegExpIdentifierName=function(r){if(r.lastStringValue="",this.regexp_eatRegExpIdentifierStart(r)){for(r.lastStringValue+=Dt(r.lastIntValue);this.regexp_eatRegExpIdentifierPart(r);)r.lastStringValue+=Dt(r.lastIntValue);return!0}return!1},ct.regexp_eatRegExpIdentifierStart=function(r){var o=r.pos,x=this.options.ecmaVersion>=11,A=r.current(x);return r.advance(x),A===92&&this.regexp_eatRegExpUnicodeEscapeSequence(r,x)&&(A=r.lastIntValue),ue(A)?(r.lastIntValue=A,!0):(r.pos=o,!1)};function ue(r){return _t(r,!0)||r===36||r===95}ct.regexp_eatRegExpIdentifierPart=function(r){var o=r.pos,x=this.options.ecmaVersion>=11,A=r.current(x);return r.advance(x),A===92&&this.regexp_eatRegExpUnicodeEscapeSequence(r,x)&&(A=r.lastIntValue),fe(A)?(r.lastIntValue=A,!0):(r.pos=o,!1)};function fe(r){return ot(r,!0)||r===36||r===95||r===8204||r===8205}ct.regexp_eatAtomEscape=function(r){return this.regexp_eatBackReference(r)||this.regexp_eatCharacterClassEscape(r)||this.regexp_eatCharacterEscape(r)||r.switchN&&this.regexp_eatKGroupName(r)?!0:(r.switchU&&(r.current()===99&&r.raise("Invalid unicode escape"),r.raise("Invalid escape")),!1)},ct.regexp_eatBackReference=function(r){var o=r.pos;if(this.regexp_eatDecimalEscape(r)){var x=r.lastIntValue;if(r.switchU)return x>r.maxBackReference&&(r.maxBackReference=x),!0;if(x<=r.numCapturingParens)return!0;r.pos=o}return!1},ct.regexp_eatKGroupName=function(r){if(r.eat(107)){if(this.regexp_eatGroupName(r))return r.backReferenceNames.push(r.lastStringValue),!0;r.raise("Invalid named reference")}return!1},ct.regexp_eatCharacterEscape=function(r){return this.regexp_eatControlEscape(r)||this.regexp_eatCControlLetter(r)||this.regexp_eatZero(r)||this.regexp_eatHexEscapeSequence(r)||this.regexp_eatRegExpUnicodeEscapeSequence(r,!1)||!r.switchU&&this.regexp_eatLegacyOctalEscapeSequence(r)||this.regexp_eatIdentityEscape(r)},ct.regexp_eatCControlLetter=function(r){var o=r.pos;if(r.eat(99)){if(this.regexp_eatControlLetter(r))return!0;r.pos=o}return!1},ct.regexp_eatZero=function(r){return r.current()===48&&!ve(r.lookahead())?(r.lastIntValue=0,r.advance(),!0):!1},ct.regexp_eatControlEscape=function(r){var o=r.current();return o===116?(r.lastIntValue=9,r.advance(),!0):o===110?(r.lastIntValue=10,r.advance(),!0):o===118?(r.lastIntValue=11,r.advance(),!0):o===102?(r.lastIntValue=12,r.advance(),!0):o===114?(r.lastIntValue=13,r.advance(),!0):!1},ct.regexp_eatControlLetter=function(r){var o=r.current();return $t(o)?(r.lastIntValue=o%32,r.advance(),!0):!1};function $t(r){return r>=65&&r<=90||r>=97&&r<=122}ct.regexp_eatRegExpUnicodeEscapeSequence=function(r,o){o===void 0&&(o=!1);var x=r.pos,A=o||r.switchU;if(r.eat(117)){if(this.regexp_eatFixedHexDigits(r,4)){var N=r.lastIntValue;if(A&&N>=55296&&N<=56319){var Z=r.pos;if(r.eat(92)&&r.eat(117)&&this.regexp_eatFixedHexDigits(r,4)){var $=r.lastIntValue;if($>=56320&&$<=57343)return r.lastIntValue=(N-55296)*1024+($-56320)+65536,!0}r.pos=Z,r.lastIntValue=N}return!0}if(A&&r.eat(123)&&this.regexp_eatHexDigits(r)&&r.eat(125)&&Ht(r.lastIntValue))return!0;A&&r.raise("Invalid unicode escape"),r.pos=x}return!1};function Ht(r){return r>=0&&r<=1114111}ct.regexp_eatIdentityEscape=function(r){if(r.switchU)return this.regexp_eatSyntaxCharacter(r)?!0:r.eat(47)?(r.lastIntValue=47,!0):!1;var o=r.current();return o!==99&&(!r.switchN||o!==107)?(r.lastIntValue=o,r.advance(),!0):!1},ct.regexp_eatDecimalEscape=function(r){r.lastIntValue=0;var o=r.current();if(o>=49&&o<=57){do r.lastIntValue=10*r.lastIntValue+(o-48),r.advance();while((o=r.current())>=48&&o<=57);return!0}return!1},ct.regexp_eatCharacterClassEscape=function(r){var o=r.current();if(te(o))return r.lastIntValue=-1,r.advance(),!0;if(r.switchU&&this.options.ecmaVersion>=9&&(o===80||o===112)){if(r.lastIntValue=-1,r.advance(),r.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(r)&&r.eat(125))return!0;r.raise("Invalid property name")}return!1};function te(r){return r===100||r===68||r===115||r===83||r===119||r===87}ct.regexp_eatUnicodePropertyValueExpression=function(r){var o=r.pos;if(this.regexp_eatUnicodePropertyName(r)&&r.eat(61)){var x=r.lastStringValue;if(this.regexp_eatUnicodePropertyValue(r)){var A=r.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(r,x,A),!0}}if(r.pos=o,this.regexp_eatLoneUnicodePropertyNameOrValue(r)){var N=r.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(r,N),!0}return!1},ct.regexp_validateUnicodePropertyNameAndValue=function(r,o,x){gt(r.unicodeProperties.nonBinary,o)||r.raise("Invalid property name"),r.unicodeProperties.nonBinary[o].test(x)||r.raise("Invalid property value")},ct.regexp_validateUnicodePropertyNameOrValue=function(r,o){r.unicodeProperties.binary.test(o)||r.raise("Invalid property name")},ct.regexp_eatUnicodePropertyName=function(r){var o=0;for(r.lastStringValue="";_e(o=r.current());)r.lastStringValue+=Dt(o),r.advance();return r.lastStringValue!==""};function _e(r){return $t(r)||r===95}ct.regexp_eatUnicodePropertyValue=function(r){var o=0;for(r.lastStringValue="";he(o=r.current());)r.lastStringValue+=Dt(o),r.advance();return r.lastStringValue!==""};function he(r){return _e(r)||ve(r)}ct.regexp_eatLoneUnicodePropertyNameOrValue=function(r){return this.regexp_eatUnicodePropertyValue(r)},ct.regexp_eatCharacterClass=function(r){if(r.eat(91)){if(r.eat(94),this.regexp_classRanges(r),r.eat(93))return!0;r.raise("Unterminated character class")}return!1},ct.regexp_classRanges=function(r){for(;this.regexp_eatClassAtom(r);){var o=r.lastIntValue;if(r.eat(45)&&this.regexp_eatClassAtom(r)){var x=r.lastIntValue;r.switchU&&(o===-1||x===-1)&&r.raise("Invalid character class"),o!==-1&&x!==-1&&o>x&&r.raise("Range out of order in character class")}}},ct.regexp_eatClassAtom=function(r){var o=r.pos;if(r.eat(92)){if(this.regexp_eatClassEscape(r))return!0;if(r.switchU){var x=r.current();(x===99||Ce(x))&&r.raise("Invalid class escape"),r.raise("Invalid escape")}r.pos=o}var A=r.current();return A!==93?(r.lastIntValue=A,r.advance(),!0):!1},ct.regexp_eatClassEscape=function(r){var o=r.pos;if(r.eat(98))return r.lastIntValue=8,!0;if(r.switchU&&r.eat(45))return r.lastIntValue=45,!0;if(!r.switchU&&r.eat(99)){if(this.regexp_eatClassControlLetter(r))return!0;r.pos=o}return this.regexp_eatCharacterClassEscape(r)||this.regexp_eatCharacterEscape(r)},ct.regexp_eatClassControlLetter=function(r){var o=r.current();return ve(o)||o===95?(r.lastIntValue=o%32,r.advance(),!0):!1},ct.regexp_eatHexEscapeSequence=function(r){var o=r.pos;if(r.eat(120)){if(this.regexp_eatFixedHexDigits(r,2))return!0;r.switchU&&r.raise("Invalid escape"),r.pos=o}return!1},ct.regexp_eatDecimalDigits=function(r){var o=r.pos,x=0;for(r.lastIntValue=0;ve(x=r.current());)r.lastIntValue=10*r.lastIntValue+(x-48),r.advance();return r.pos!==o};function ve(r){return r>=48&&r<=57}ct.regexp_eatHexDigits=function(r){var o=r.pos,x=0;for(r.lastIntValue=0;Le(x=r.current());)r.lastIntValue=16*r.lastIntValue+we(x),r.advance();return r.pos!==o};function Le(r){return r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102}function we(r){return r>=65&&r<=70?10+(r-65):r>=97&&r<=102?10+(r-97):r-48}ct.regexp_eatLegacyOctalEscapeSequence=function(r){if(this.regexp_eatOctalDigit(r)){var o=r.lastIntValue;if(this.regexp_eatOctalDigit(r)){var x=r.lastIntValue;o<=3&&this.regexp_eatOctalDigit(r)?r.lastIntValue=o*64+x*8+r.lastIntValue:r.lastIntValue=o*8+x}else r.lastIntValue=o;return!0}return!1},ct.regexp_eatOctalDigit=function(r){var o=r.current();return Ce(o)?(r.lastIntValue=o-48,r.advance(),!0):(r.lastIntValue=0,!1)};function Ce(r){return r>=48&&r<=55}ct.regexp_eatFixedHexDigits=function(r,o){var x=r.pos;r.lastIntValue=0;for(var A=0;A<o;++A){var N=r.current();if(!Le(N))return r.pos=x,!1;r.lastIntValue=16*r.lastIntValue+we(N),r.advance()}return!0};var de=function(o){this.type=o.type,this.value=o.value,this.start=o.start,this.end=o.end,o.options.locations&&(this.loc=new Qe(o,o.startLoc,o.endLoc)),o.options.ranges&&(this.range=[o.start,o.end])},Mt=St.prototype;Mt.next=function(r){!r&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new de(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Mt.getToken=function(){return this.next(),new de(this)},typeof Symbol<"u"&&(Mt[Symbol.iterator]=function(){var r=this;return{next:function(){var o=r.getToken();return{done:o.type===P.eof,value:o}}}}),Mt.nextToken=function(){var r=this.curContext();if((!r||!r.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(P.eof);if(r.override)return r.override(this);this.readToken(this.fullCharCodeAtPos())},Mt.readToken=function(r){return _t(r,this.options.ecmaVersion>=6)||r===92?this.readWord():this.getTokenFromCode(r)},Mt.fullCharCodeAtPos=function(){var r=this.input.charCodeAt(this.pos);if(r<=55295||r>=56320)return r;var o=this.input.charCodeAt(this.pos+1);return o<=56319||o>=57344?r:(r<<10)+o-56613888},Mt.skipBlockComment=function(){var r=this.options.onComment&&this.curPosition(),o=this.pos,x=this.input.indexOf("*/",this.pos+=2);if(x===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=x+2,this.options.locations)for(var A=void 0,N=o;(A=Ge(this.input,N,this.pos))>-1;)++this.curLine,N=this.lineStart=A;this.options.onComment&&this.options.onComment(!0,this.input.slice(o+2,x),o,this.pos,r,this.curPosition())},Mt.skipLineComment=function(r){for(var o=this.pos,x=this.options.onComment&&this.curPosition(),A=this.input.charCodeAt(this.pos+=r);this.pos<this.input.length&&!ae(A);)A=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(o+r,this.pos),o,this.pos,x,this.curPosition())},Mt.skipSpace=function(){t:for(;this.pos<this.input.length;){var r=this.input.charCodeAt(this.pos);switch(r){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(r>8&&r<14||r>=5760&&Ye.test(String.fromCharCode(r)))++this.pos;else break t}}},Mt.finishToken=function(r,o){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var x=this.type;this.type=r,this.value=o,this.updateContext(x)},Mt.readToken_dot=function(){var r=this.input.charCodeAt(this.pos+1);if(r>=48&&r<=57)return this.readNumber(!0);var o=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&r===46&&o===46?(this.pos+=3,this.finishToken(P.ellipsis)):(++this.pos,this.finishToken(P.dot))},Mt.readToken_slash=function(){var r=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):r===61?this.finishOp(P.assign,2):this.finishOp(P.slash,1)},Mt.readToken_mult_modulo_exp=function(r){var o=this.input.charCodeAt(this.pos+1),x=1,A=r===42?P.star:P.modulo;return this.options.ecmaVersion>=7&&r===42&&o===42&&(++x,A=P.starstar,o=this.input.charCodeAt(this.pos+2)),o===61?this.finishOp(P.assign,x+1):this.finishOp(A,x)},Mt.readToken_pipe_amp=function(r){var o=this.input.charCodeAt(this.pos+1);if(o===r){if(this.options.ecmaVersion>=12){var x=this.input.charCodeAt(this.pos+2);if(x===61)return this.finishOp(P.assign,3)}return this.finishOp(r===124?P.logicalOR:P.logicalAND,2)}return o===61?this.finishOp(P.assign,2):this.finishOp(r===124?P.bitwiseOR:P.bitwiseAND,1)},Mt.readToken_caret=function(){var r=this.input.charCodeAt(this.pos+1);return r===61?this.finishOp(P.assign,2):this.finishOp(P.bitwiseXOR,1)},Mt.readToken_plus_min=function(r){var o=this.input.charCodeAt(this.pos+1);return o===r?o===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Kt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(P.incDec,2):o===61?this.finishOp(P.assign,2):this.finishOp(P.plusMin,1)},Mt.readToken_lt_gt=function(r){var o=this.input.charCodeAt(this.pos+1),x=1;return o===r?(x=r===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+x)===61?this.finishOp(P.assign,x+1):this.finishOp(P.bitShift,x)):o===33&&r===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(o===61&&(x=2),this.finishOp(P.relational,x))},Mt.readToken_eq_excl=function(r){var o=this.input.charCodeAt(this.pos+1);return o===61?this.finishOp(P.equality,this.input.charCodeAt(this.pos+2)===61?3:2):r===61&&o===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(P.arrow)):this.finishOp(r===61?P.eq:P.prefix,1)},Mt.readToken_question=function(){var r=this.options.ecmaVersion;if(r>=11){var o=this.input.charCodeAt(this.pos+1);if(o===46){var x=this.input.charCodeAt(this.pos+2);if(x<48||x>57)return this.finishOp(P.questionDot,2)}if(o===63){if(r>=12){var A=this.input.charCodeAt(this.pos+2);if(A===61)return this.finishOp(P.assign,3)}return this.finishOp(P.coalesce,2)}}return this.finishOp(P.question,1)},Mt.readToken_numberSign=function(){var r=this.options.ecmaVersion,o=35;if(r>=13&&(++this.pos,o=this.fullCharCodeAtPos(),_t(o,!0)||o===92))return this.finishToken(P.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Dt(o)+"'")},Mt.getTokenFromCode=function(r){switch(r){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(P.parenL);case 41:return++this.pos,this.finishToken(P.parenR);case 59:return++this.pos,this.finishToken(P.semi);case 44:return++this.pos,this.finishToken(P.comma);case 91:return++this.pos,this.finishToken(P.bracketL);case 93:return++this.pos,this.finishToken(P.bracketR);case 123:return++this.pos,this.finishToken(P.braceL);case 125:return++this.pos,this.finishToken(P.braceR);case 58:return++this.pos,this.finishToken(P.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(P.backQuote);case 48:var o=this.input.charCodeAt(this.pos+1);if(o===120||o===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(o===111||o===79)return this.readRadixNumber(8);if(o===98||o===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(r);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(r);case 124:case 38:return this.readToken_pipe_amp(r);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(r);case 60:case 62:return this.readToken_lt_gt(r);case 61:case 33:return this.readToken_eq_excl(r);case 63:return this.readToken_question();case 126:return this.finishOp(P.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Dt(r)+"'")},Mt.finishOp=function(r,o){var x=this.input.slice(this.pos,this.pos+o);return this.pos+=o,this.finishToken(r,x)},Mt.readRegexp=function(){for(var r,o,x=this.pos;;){this.pos>=this.input.length&&this.raise(x,"Unterminated regular expression");var A=this.input.charAt(this.pos);if(Kt.test(A)&&this.raise(x,"Unterminated regular expression"),r)r=!1;else{if(A==="[")o=!0;else if(A==="]"&&o)o=!1;else if(A==="/"&&!o)break;r=A==="\\"}++this.pos}var N=this.input.slice(x,this.pos);++this.pos;var Z=this.pos,$=this.readWord1();this.containsEsc&&this.unexpected(Z);var lt=this.regexpState||(this.regexpState=new Pt(this));lt.reset(x,N,$),this.validateRegExpFlags(lt),this.validateRegExpPattern(lt);var pt=null;try{pt=new RegExp(N,$)}catch{}return this.finishToken(P.regexp,{pattern:N,flags:$,value:pt})},Mt.readInt=function(r,o,x){for(var A=this.options.ecmaVersion>=12&&o===void 0,N=x&&this.input.charCodeAt(this.pos)===48,Z=this.pos,$=0,lt=0,pt=0,Lt=o??1/0;pt<Lt;++pt,++this.pos){var Rt=this.input.charCodeAt(this.pos),ee=void 0;if(A&&Rt===95){N&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),lt===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),pt===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),lt=Rt;continue}if(Rt>=97?ee=Rt-97+10:Rt>=65?ee=Rt-65+10:Rt>=48&&Rt<=57?ee=Rt-48:ee=1/0,ee>=r)break;lt=Rt,$=$*r+ee}return A&&lt===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===Z||o!=null&&this.pos-Z!==o?null:$};function Re(r,o){return o?parseInt(r,8):parseFloat(r.replace(/_/g,""))}function Se(r){return typeof BigInt!="function"?null:BigInt(r.replace(/_/g,""))}Mt.readRadixNumber=function(r){var o=this.pos;this.pos+=2;var x=this.readInt(r);return x==null&&this.raise(this.start+2,"Expected number in radix "+r),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(x=Se(this.input.slice(o,this.pos)),++this.pos):_t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(P.num,x)},Mt.readNumber=function(r){var o=this.pos;!r&&this.readInt(10,void 0,!0)===null&&this.raise(o,"Invalid number");var x=this.pos-o>=2&&this.input.charCodeAt(o)===48;x&&this.strict&&this.raise(o,"Invalid number");var A=this.input.charCodeAt(this.pos);if(!x&&!r&&this.options.ecmaVersion>=11&&A===110){var N=Se(this.input.slice(o,this.pos));return++this.pos,_t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(P.num,N)}x&&/[89]/.test(this.input.slice(o,this.pos))&&(x=!1),A===46&&!x&&(++this.pos,this.readInt(10),A=this.input.charCodeAt(this.pos)),(A===69||A===101)&&!x&&(A=this.input.charCodeAt(++this.pos),(A===43||A===45)&&++this.pos,this.readInt(10)===null&&this.raise(o,"Invalid number")),_t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Z=Re(this.input.slice(o,this.pos),x);return this.finishToken(P.num,Z)},Mt.readCodePoint=function(){var r=this.input.charCodeAt(this.pos),o;if(r===123){this.options.ecmaVersion<6&&this.unexpected();var x=++this.pos;o=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,o>1114111&&this.invalidStringToken(x,"Code point out of bounds")}else o=this.readHexChar(4);return o},Mt.readString=function(r){for(var o="",x=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var A=this.input.charCodeAt(this.pos);if(A===r)break;A===92?(o+=this.input.slice(x,this.pos),o+=this.readEscapedChar(!1),x=this.pos):A===8232||A===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ae(A)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return o+=this.input.slice(x,this.pos++),this.finishToken(P.string,o)};var ti={};Mt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(r){if(r===ti)this.readInvalidTemplateToken();else throw r}this.inTemplateElement=!1},Mt.invalidStringToken=function(r,o){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ti;this.raise(r,o)},Mt.readTmplToken=function(){for(var r="",o=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var x=this.input.charCodeAt(this.pos);if(x===96||x===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===P.template||this.type===P.invalidTemplate)?x===36?(this.pos+=2,this.finishToken(P.dollarBraceL)):(++this.pos,this.finishToken(P.backQuote)):(r+=this.input.slice(o,this.pos),this.finishToken(P.template,r));if(x===92)r+=this.input.slice(o,this.pos),r+=this.readEscapedChar(!0),o=this.pos;else if(ae(x)){switch(r+=this.input.slice(o,this.pos),++this.pos,x){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:r+=`
`;break;default:r+=String.fromCharCode(x);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),o=this.pos}else++this.pos}},Mt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(P.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Mt.readEscapedChar=function(r){var o=this.input.charCodeAt(++this.pos);switch(++this.pos,o){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Dt(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),r){var x=this.pos-1;this.invalidStringToken(x,"Invalid escape sequence in template string")}default:if(o>=48&&o<=55){var A=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],N=parseInt(A,8);return N>255&&(A=A.slice(0,-1),N=parseInt(A,8)),this.pos+=A.length-1,o=this.input.charCodeAt(this.pos),(A!=="0"||o===56||o===57)&&(this.strict||r)&&this.invalidStringToken(this.pos-1-A.length,r?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(N)}return ae(o)?"":String.fromCharCode(o)}},Mt.readHexChar=function(r){var o=this.pos,x=this.readInt(16,r);return x===null&&this.invalidStringToken(o,"Bad character escape sequence"),x},Mt.readWord1=function(){this.containsEsc=!1;for(var r="",o=!0,x=this.pos,A=this.options.ecmaVersion>=6;this.pos<this.input.length;){var N=this.fullCharCodeAtPos();if(ot(N,A))this.pos+=N<=65535?1:2;else if(N===92){this.containsEsc=!0,r+=this.input.slice(x,this.pos);var Z=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var $=this.readCodePoint();(o?_t:ot)($,A)||this.invalidStringToken(Z,"Invalid Unicode escape"),r+=Dt($),x=this.pos}else break;o=!1}return r+this.input.slice(x,this.pos)},Mt.readWord=function(){var r=this.readWord1(),o=P.name;return this.keywords.test(r)&&(o=jt[r]),this.finishToken(o,r)};var Si="8.8.2";St.acorn={Parser:St,version:Si,defaultOptions:oi,Position:De,SourceLocation:Qe,getLineInfo:je,Node:C,TokenType:Ct,tokTypes:P,keywordTypes:jt,TokContext:w,tokContexts:m,isIdentifierChar:ot,isIdentifierStart:_t,Token:de,isNewLine:ae,lineBreak:Kt,lineBreakG:Pe,nonASCIIwhitespace:Ye};function Li(r,o){return St.parse(r,o)}function Oi(r,o,x){return St.parseExpressionAt(r,o,x)}function Mi(r,o){return St.tokenizer(r,o)}L.Node=C,L.Parser=St,L.Position=De,L.SourceLocation=Qe,L.TokContext=w,L.Token=de,L.TokenType=Ct,L.defaultOptions=oi,L.getLineInfo=je,L.isIdentifierChar=ot,L.isIdentifierStart=_t,L.isNewLine=ae,L.keywordTypes=jt,L.lineBreak=Kt,L.lineBreakG=Pe,L.nonASCIIwhitespace=Ye,L.parse=Li,L.parseExpressionAt=Oi,L.tokContexts=m,L.tokTypes=P,L.tokenizer=Mi,L.version=Si})}(qi,qi.exports)),qi.exports}/*!
 * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, JÃ¼rg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Thu Nov 3 21:15:36 2022 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 JÃ¼rg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(it){(function(ut,L){ut=ut||cn;var U=ut.window,X=ut.document,E=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],i=e.slice,n=Object.create,s=Object.getOwnPropertyDescriptor,a=Object.defineProperty,h=e.forEach||function(g,d){for(var w=0,m=this.length;w<m;w++)g.call(d,this[w],w,this)},u=function(g,d){for(var w in this)this.hasOwnProperty(w)&&g.call(d,this[w],w,this)},l=Object.assign||function(g){for(var d=1,w=arguments.length;d<w;d++){var m=arguments[d];for(var k in m)m.hasOwnProperty(k)&&(g[k]=m[k])}return g},c=function(g,d,w){if(g){var m=s(g,"length");(m&&typeof m.value=="number"?h:u).call(g,d,w=w||g)}return w};function _(g,d,w,m,k){var p={};function b(C,T){T=T||(T=s(d,C))&&(T.get?T:T.value),typeof T=="string"&&T[0]==="#"&&(T=g[T.substring(1)]||T);var M=typeof T=="function",z=T,D=k||M&&!T.base?T&&T.get?C in g:g[C]:null,O;(!k||!D)&&(M&&D&&(T.base=D),M&&m!==!1&&(O=C.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(p[O[3].toLowerCase()+O[4]]=O[2]),(!z||M||!z.get||typeof z.get!="function"||!v.isPlainObject(z))&&(z={value:z,writable:!0}),(s(g,C)||{configurable:!0}).configurable&&(z.configurable=!0,z.enumerable=w??!O),a(g,C,z))}if(d){for(var f in d)d.hasOwnProperty(f)&&!t.test(f)&&b(f);for(var f in p){var y=p[f],S=g["set"+y],I=g["get"+y]||S&&g["is"+y];I&&(m===!0||I.length===0)&&b(f,{get:I,set:S})}}return g}function v(){for(var g=0,d=arguments.length;g<d;g++){var w=arguments[g];w&&l(this,w)}return this}return _(v,{inject:function(g){if(g){var d=g.statics===!0?g:g.statics,w=g.beans,m=g.preserve;d!==g&&_(this.prototype,g,g.enumerable,w,m),_(this,d,null,w,m)}for(var k=1,p=arguments.length;k<p;k++)this.inject(arguments[k]);return this},extend:function(){for(var g=this,d,w,m=0,k,p=arguments.length;m<p&&!(d&&w);m++)k=arguments[m],d=d||k.initialize,w=w||k.prototype;return d=d||function(){g.apply(this,arguments)},w=d.prototype=w||n(this.prototype),a(w,"constructor",{value:d,writable:!0,configurable:!0}),_(d,this),arguments.length&&this.inject.apply(d,arguments),d.base=g,d}}).inject({enumerable:!1,initialize:v,set:v,inject:function(){for(var g=0,d=arguments.length;g<d;g++){var w=arguments[g];w&&_(this,w,w.enumerable,w.beans,w.preserve)}return this},extend:function(){var g=n(this);return g.inject.apply(g,arguments)},each:function(g,d){return c(this,g,d)},clone:function(){return new this.constructor(this)},statics:{set:l,each:c,create:n,define:a,describe:s,clone:function(g){return l(new g.constructor,g)},isPlainObject:function(g){var d=g!=null&&g.constructor;return d&&(d===Object||d===v||d.name==="Object")},pick:function(g,d){return g!==L?g:d},slice:function(g,d,w){return i.call(g,d,w)}}})};it.exports=E,E.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+E.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+(i==="number"?G.instance.number(t):i==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return E.importJSON(t,this)},exportJSON:function(t){return E.exportJSON(this,t)},toJSON:function(){return E.serialize(this)},set:function(t,e){return t&&E.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),i=e.prototype._class;return i&&!E.exports[i]&&(E.exports[i]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(t)&&Array.isArray(e)){var i=t.length;if(i!==e.length)return!1;for(;i--;)if(!E.equals(t[i],e[i]))return!1}else{var n=Object.keys(t),i=n.length;if(i!==Object.keys(e).length)return!1;for(;i--;){var s=n[i];if(!(e.hasOwnProperty(s)&&E.equals(t[s],e[s])))return!1}}return!0}return!1},read:function(t,e,i,n){if(this===E){var s=this.peek(t,e);return t.__index++,s}var a=this.prototype,h=a._readIndex,u=e||h&&t.__index||0,l=t.length,c=t[u];if(n=n||l-u,c instanceof this||i&&i.readNull&&c==null&&n<=1)return h&&(t.__index=u+1),c&&i&&i.clone?c.clone():c;if(c=E.create(a),h&&(c.__read=!0),c=c.initialize.apply(c,u>0||u+n<l?E.slice(t,u,u+n):t)||c,h){t.__index=u+c.__read;var _=c.__filtered;_&&(t.__filtered=_,c.__filtered=L),c.__read=L}return c},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,n){for(var s=[],a,h=e||0,u=n?h+n:t.length,l=h;l<u;l++)s.push(Array.isArray(a=t[l])?this.read(a,0,i):this.read(t,l,i,1));return s},readNamed:function(t,e,i,n,s){var a=this.getNamed(t,e),h=a!==L;if(h){var u=t.__filtered;if(!u){var l=this.getSource(t);u=t.__filtered=E.create(l),u.__unfiltered=l}u[e]=L}return this.read(h?[a]:t,i,n,s)},readSupported:function(t,e){var i=this.getSource(t),n=this,s=!1;return i&&Object.keys(i).forEach(function(a){if(a in e){var h=n.readNamed(t,a);h!==L&&(e[a]=h),s=!0}}),s},getSource:function(t){var e=t.__source;if(e===L){var i=t.length===1&&t[0];e=t.__source=i&&E.isPlainObject(i)?i:null}return e},getNamed:function(t,e){var i=this.getSource(t);if(i)return e?i[e]:t.__filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,i,n){var s;function a(_){if(!(i&&_ in i)&&!(s&&_ in s)){var v=e[_];v!==L&&(t[_]=v)}}if(n){for(var h={},u=0,l,c=n.length;u<c;u++)(l=n[u])in e&&(a(l),h[l]=!0);s=h}return Object.keys(e.__unfiltered||e).forEach(a),t},isPlainValue:function(t,e){return E.isPlainObject(t)||Array.isArray(t)||e&&typeof t=="string"},serialize:function(t,e,i,n){e=e||{};var s=!n,a;if(s&&(e.formatter=new G(e.precision),n={length:0,definitions:{},references:{},add:function(v,g){var d="#"+v._id,w=this.references[d];if(!w){this.length++;var m=g.call(v),k=v._class;k&&m[0]!==k&&m.unshift(k),this.definitions[d]=m,w=this.references[d]=[d]}return w}}),t&&t._serialize){a=t._serialize(e,n);var h=t._class;h&&!t._compactSerialize&&(s||!i)&&a[0]!==h&&a.unshift(h)}else if(Array.isArray(t)){a=[];for(var u=0,l=t.length;u<l;u++)a[u]=E.serialize(t[u],e,i,n)}else if(E.isPlainObject(t)){a={};for(var c=Object.keys(t),u=0,l=c.length;u<l;u++){var _=c[u];a[_]=E.serialize(t[_],e,i,n)}}else typeof t=="number"?a=e.formatter.number(t,e.precision):a=t;return s&&n.length>0?[["dictionary",n.definitions],a]:a},deserialize:function(t,e,i,n,s){var a=t,h=!i,u=h&&t&&t.length&&t[0][0]==="dictionary";if(i=i||{},Array.isArray(t)){var l=t[0],c=l==="dictionary";if(t.length==1&&/^#/.test(l))return i.dictionary[l];l=E.exports[l],a=[];for(var _=l?1:0,v=t.length;_<v;_++)a.push(E.deserialize(t[_],e,i,c,u));if(l){var g=a;e?a=e(l,g,h||s):a=new l(g)}}else if(E.isPlainObject(t)){a={},n&&(i.dictionary=a);for(var d in t)a[d]=E.deserialize(t[d],e,i)}return u?a[1]:a},exportJSON:function(t,e){var i=E.serialize(t,e);return e&&e.asString==!1?i:JSON.stringify(i)},importJSON:function(t,e){return E.deserialize(typeof t=="string"?JSON.parse(t):t,function(i,n,s){var a=s&&e&&e.constructor===i,h=a?e:E.create(i.prototype);if(n.length===1&&h instanceof P&&(a||!(h instanceof Pe))){var u=n[0];E.isPlainObject(u)&&(u.insert=!1,a&&(n=n.concat([P.INSERT])))}return(a?h.set:i).apply(h,n),a&&(e=null),h})},push:function(t,e){var i=e.length;if(i<4096)t.push.apply(t,e);else{var n=t.length;t.length+=i;for(var s=0;s<i;s++)t[n+s]=e[s]}return t},splice:function(t,e,i,n){var s=e&&e.length,a=i===L;i=a?t.length:i,i>t.length&&(i=t.length);for(var h=0;h<s;h++)e[h]._index=i+h;if(a)return E.push(t,e),[];var u=[i,n];e&&E.push(u,e);for(var l=t.splice.apply(t,u),h=0,c=l.length;h<c;h++)l[h]._index=L;for(var h=i+s,c=t.length;h<c;h++)t[h]._index=h;return l},capitalize:function(t){return t.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(e,i){return i.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var nt={on:function(t,e){if(typeof t!="string")E.each(t,function(a,h){this.on(h,a)},this);else{var i=this._eventTypes,n=i&&i[t],s=this._callbacks=this._callbacks||{};s=s[t]=s[t]||[],s.indexOf(e)===-1&&(s.push(e),n&&n.install&&s.length===1&&n.install.call(this,t))}return this},off:function(t,e){if(typeof t!="string"){E.each(t,function(h,u){this.off(u,h)},this);return}var i=this._eventTypes,n=i&&i[t],s=this._callbacks&&this._callbacks[t],a;return s&&(!e||(a=s.indexOf(e))!==-1&&s.length===1?(n&&n.uninstall&&n.uninstall.call(this,t),delete this._callbacks[t]):a!==-1&&s.splice(a,1)),this},once:function(t,e){return this.on(t,function i(){e.apply(this,arguments),this.off(t,i)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var n=E.slice(arguments,1),s=e&&e.target&&!e.currentTarget;i=i.slice(),s&&(e.currentTarget=this);for(var a=0,h=i.length;a<h;a++)if(i[a].apply(this,n)==!1){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,n=t?"install":"uninstall";if(e){for(var s in i)if(i[s].length>0){var a=e[s],h=a&&a[n];h&&h.call(this,s)}}},statics:{inject:function t(e){var i=e._events;if(i){var n={};E.each(i,function(s,a){var h=typeof s=="string",u=h?s:a,l=E.capitalize(u),c=u.substring(2).toLowerCase();n[c]=h?{}:s,u="_"+u,e["get"+l]=function(){return this[u]},e["set"+l]=function(_){var v=this[u];v&&this.off(c,v),_&&this.on(c,_),this[u]=_}}),e._eventTypes=n}return t.base.apply(this,arguments)}}},F=E.extend({_class:"PaperScope",initialize:function t(){St=this,this.settings=new E({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var i=Zt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:ci.nativeModes},Zt.release(i)}if(!this.agent){var n=ut.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],a=s==="darwin"?"mac":s,h=e.agent=e.browser={platform:a};a&&(h[a]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(u,l,c,_,v){if(!h.chrome){var g=l==="opera"?_:/^(node|trident)$/.test(l)?v:c;h.version=g,h.versionNumber=parseFloat(g),l={trident:"msie",jsdom:"node"}[l]||l,h.name=l,h[l]=!0}}),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.12.17",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var i=St.PaperScript.execute(t,this,e);return Yt.updateFocus(),i},install:function(t){var e=this;E.each(["project","view","tool"],function(n){E.define(t,n,{configurable:!0,get:function(){return e[n]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return St=this,this.project=new Et(t),this},createCanvas:function(t,e){return Zt.getCanvas(t,e)},activate:function(){St=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;i>=0;i--)t[i].remove();for(var i=e.length-1;i>=0;i--)e[i].remove()},remove:function(){this.clear(),delete F._scopes[this._id]},statics:new function(){function t(e){return e+="Attribute",function(i,n){return i[e](n)||i[e]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),Y=E.extend(nt,{initialize:function(t){this._scope=St,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(E.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),K={findItemBoundsCollisions:function(t,e,i){function n(h){for(var u=new Array(h.length),l=0;l<h.length;l++){var c=h[l].getBounds();u[l]=[c.left,c.top,c.right,c.bottom]}return u}var s=n(t),a=!e||e===t?s:n(e);return this.findBoundsCollisions(s,a,i||0)},findCurveBoundsCollisions:function(t,e,i,n){function s(g){for(var d=Math.min,w=Math.max,m=new Array(g.length),k=0;k<g.length;k++){var p=g[k];m[k]=[d(p[0],p[2],p[4],p[6]),d(p[1],p[3],p[5],p[7]),w(p[0],p[2],p[4],p[6]),w(p[1],p[3],p[5],p[7])]}return m}var a=s(t),h=!e||e===t?a:s(e);if(n){for(var u=this.findBoundsCollisions(a,h,i||0,!1,!0),l=this.findBoundsCollisions(a,h,i||0,!0,!0),c=[],_=0,v=u.length;_<v;_++)c[_]={hor:u[_],ver:l[_]};return c}return this.findBoundsCollisions(a,h,i||0)},findBoundsCollisions:function(t,e,i,n,s){var a=!e||t===e,h=a?t:t.concat(e),u=t.length,l=h.length;function c(ft,dt,yt){for(var et=0,rt=ft.length;et<rt;){var vt=rt+et>>>1;h[ft[vt]][dt]<yt?et=vt+1:rt=vt}return et-1}for(var _=n?1:0,v=_+2,g=n?0:1,d=g+2,w=new Array(l),m=0;m<l;m++)w[m]=m;w.sort(function(ft,dt){return h[ft][_]-h[dt][_]});for(var k=[],p=new Array(u),m=0;m<l;m++){var b=w[m],f=h[b],y=a?b:b-u,S=b<u,I=a||!S,C=S?[]:null;if(k.length){var T=c(k,v,f[_]-i)+1;if(k.splice(0,T),a&&s){C=C.concat(k);for(var M=0;M<k.length;M++){var z=k[M];p[z].push(y)}}else for(var D=f[d],O=f[g],M=0;M<k.length;M++){var z=k[M],V=h[z],q=z<u,j=a||z>=u;(s||(S&&j||I&&q)&&D>=V[g]-i&&O<=V[d]+i)&&(S&&j&&C.push(a?z:z-u),I&&q&&p[z].push(y))}}if(S&&(t===e&&C.push(b),p[b]=C),k.length){var W=f[v],Q=c(k,v,W);k.splice(Q+1,0,b)}else k.push(b)}for(var m=0;m<p.length;m++){var ht=p[m];ht&&ht.sort(function(dt,yt){return dt-yt})}return p}},G=E.extend({initialize:function(t){this.precision=E.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});G.instance=new G;var J=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,n=Math.sqrt,s=Math.pow,a=Math.log2||function(v){return Math.log(v)*Math.LOG2E},h=1e-12,u=112e-18;function l(v,g,d){return v<g?g:v>d?d:v}function c(v,g,d){function w(T){var M=T*134217729,z=T-M,D=z+M,O=T-D;return[D,O]}var m=g*g-v*d,k=g*g+v*d;if(i(m)*3<k){var p=w(v),b=w(g),f=w(d),y=g*g,S=b[0]*b[0]-y+2*b[0]*b[1]+b[1]*b[1],I=v*d,C=p[0]*f[0]-I+p[0]*f[1]+p[1]*f[0]+p[1]*f[1];m=y-I+(S-C)}return m}function _(){var v=Math.max.apply(Math,arguments);return v&&(v<1e-8||v>1e8)?s(2,-Math.round(a(v))):0}return{EPSILON:h,MACHINE_EPSILON:u,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(n(2)-1)/3,isZero:function(v){return v>=-h&&v<=h},isMachineZero:function(v){return v>=-u&&v<=u},clamp:l,integrate:function(v,g,d,w){for(var m=t[w-2],k=e[w-2],p=(d-g)*.5,b=p+g,f=0,y=w+1>>1,S=w&1?k[f++]*v(b):0;f<y;){var I=p*m[f];S+=k[f++]*(v(b+I)+v(b-I))}return p*S},findRoot:function(v,g,d,w,m,k,p){for(var b=0;b<k;b++){var f=v(d),y=f/g(d),S=d-y;if(i(y)<p){d=S;break}f>0?(m=d,d=S<=w?(w+m)*.5:S):(w=d,d=S>=m?(w+m)*.5:S)}return l(d,w,m)},solveQuadratic:function(v,g,d,w,m,k){var p,b=1/0;if(i(v)<h){if(i(g)<h)return i(d)<h?-1:0;p=-d/g}else{g*=-.5;var f=c(v,g,d);if(f&&i(f)<u){var y=_(i(v),i(g),i(d));y&&(v*=y,g*=y,d*=y,f=c(v,g,d))}if(f>=-u){var S=f<0?0:n(f),I=g+(g<0?-S:S);I===0?(p=d/v,b=-p):(p=I/v,b=d/I)}}var C=0,T=m==null,M=m-h,z=k+h;return isFinite(p)&&(T||p>M&&p<z)&&(w[C++]=T?p:l(p,m,k)),b!==p&&isFinite(b)&&(T||b>M&&b<z)&&(w[C++]=T?b:l(b,m,k)),C},solveCubic:function(v,g,d,w,m,k,p){var b=_(i(v),i(g),i(d),i(w)),f,y,S,I,C;b&&(v*=b,g*=b,d*=b,w*=b);function T(Q){f=Q;var ht=v*f;y=ht+g,S=y*f+d,I=(ht+y)*f+S,C=S*f+w}if(i(v)<h)v=g,y=d,S=w,f=1/0;else if(i(w)<h)y=g,S=d,f=0;else{T(-(g/v)/3);var M=C/v,z=s(i(M),1/3),D=M<0?-1:1,O=-I/v,V=O>0?1.324717957244746*Math.max(z,n(O)):z,q=f-D*V;if(q!==f){do T(q),q=I===0?f:f-C/I/(1+u);while(D*q>D*f);i(v)*f*f>i(w/f)&&(S=-w/f,y=(S-d)/f)}}var j=J.solveQuadratic(v,y,S,m,k,p),W=k==null;return isFinite(f)&&(j===0||j>0&&f!==m[0]&&f!==m[1])&&(W||f>k-h&&f<p+h)&&(m[j++]=W?f:l(f,k,p)),j}}},st={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}else return this._id++}},R=E.extend({_class:"Point",_readIndex:!0,initialize:function(e,i){var n=typeof e,s=this.__read,a=0;if(n==="number"){var h=typeof i=="number";this._set(e,h?i:e),s&&(a=h?2:1)}else if(n==="undefined"||e===null)this._set(0,0),s&&(a=e===null?1:0);else{var u=n==="string"?e.split(/[\s,]+/)||[]:e;a=1,Array.isArray(u)?this._set(+u[0],+(u.length>1?u[1]:u[0])):"x"in u?this._set(u.x||0,u.y||0):"width"in u?this._set(u.width||0,u.height||0):"angle"in u?(this._set(u.length||0,0),this.setAngle(u.angle||0)):(this._set(0,0),a=0)}return s&&(this.__read=a),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new R(this.x,this.y)},toString:function(){var t=G.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();J.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=R.read(arguments),e=this.getLength()*t.getLength();if(J.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:i>1?1:i)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=R.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,e=R.read(t),i=e.x-this.x,n=e.y-this.y,s=i*i+n*n,a=E.read(t);return a?s:Math.sqrt(s)},normalize:function(t){t===L&&(t=1);var e=this.getLength(),i=e!==0?t/e:0,n=new R(this.x*i,this.y*i);return i>=0&&(n._angle=this._angle),n},rotate:function(t,e){if(t===0)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,n=Math.sin(t),s=Math.cos(t);return i=new R(i.x*s-i.y*n,i.x*n+i.y*s),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=R.read(arguments);return new R(this.x+t.x,this.y+t.y)},subtract:function(){var t=R.read(arguments);return new R(this.x-t.x,this.y-t.y)},multiply:function(){var t=R.read(arguments);return new R(this.x*t.x,this.y*t.y)},divide:function(){var t=R.read(arguments);return new R(this.x/t.x,this.y/t.y)},modulo:function(){var t=R.read(arguments);return new R(this.x%t.x,this.y%t.y)},negate:function(){return new R(-this.x,-this.y)},isInside:function(){return mt.read(arguments).contains(this)},isClose:function(){var t=arguments,e=R.read(t),i=E.read(t);return this.getDistance(e)<=i},isCollinear:function(){var t=R.read(arguments);return R.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=R.read(arguments);return R.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=J.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=R.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=R.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=R.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new R(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=R.read(t),i=R.read(t);return new R(Math.min(e.x,i.x),Math.min(e.y,i.y))},max:function(){var t=arguments,e=R.read(t),i=R.read(t);return new R(Math.max(e.x,i.x),Math.max(e.y,i.y))},random:function(){return new R(Math.random(),Math.random())},isCollinear:function(t,e,i,n){return Math.abs(t*n-e*i)<=Math.sqrt((t*t+e*e)*(i*i+n*n))*1e-8},isOrthogonal:function(t,e,i,n){return Math.abs(t*i+e*n)<=Math.sqrt((t*t+e*e)*(i*i+n*n))*1e-8}}},E.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new R(e(this.x),e(this.y))}},{})),_t=R.extend({initialize:function(e,i,n,s){this._x=e,this._y=i,this._owner=n,this._setter=s},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ot=E.extend({_class:"Size",_readIndex:!0,initialize:function(e,i){var n=typeof e,s=this.__read,a=0;if(n==="number"){var h=typeof i=="number";this._set(e,h?i:e),s&&(a=h?2:1)}else if(n==="undefined"||e===null)this._set(0,0),s&&(a=e===null?1:0);else{var u=n==="string"?e.split(/[\s,]+/)||[]:e;a=1,Array.isArray(u)?this._set(+u[0],+(u.length>1?u[1]:u[0])):"width"in u?this._set(u.width||0,u.height||0):"x"in u?this._set(u.x||0,u.y||0):(this._set(0,0),a=0)}return s&&(this.__read=a),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new ot(this.width,this.height)},toString:function(){var t=G.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=ot.read(arguments);return new ot(this.width+t.width,this.height+t.height)},subtract:function(){var t=ot.read(arguments);return new ot(this.width-t.width,this.height-t.height)},multiply:function(){var t=ot.read(arguments);return new ot(this.width*t.width,this.height*t.height)},divide:function(){var t=ot.read(arguments);return new ot(this.width/t.width,this.height/t.height)},modulo:function(){var t=ot.read(arguments);return new ot(this.width%t.width,this.height%t.height)},negate:function(){return new ot(-this.width,-this.height)},isZero:function(){var t=J.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new ot(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new ot(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new ot(Math.random(),Math.random())}}},E.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new ot(e(this.width),e(this.height))}},{})),Ct=ot.extend({initialize:function(e,i,n,s){this._width=e,this._height=i,this._owner=n,this._setter=s},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),mt=E.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,i,n,s){var a=arguments,h=typeof e,u;if(h==="number"?(this._set(e,i,n,s),u=4):h==="undefined"||e===null?(this._set(0,0,0,0),u=e===null?1:0):a.length===1&&(Array.isArray(e)?(this._set.apply(this,e),u=1):e.x!==L||e.width!==L?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),u=1):e.from===L&&e.to===L&&(this._set(0,0,0,0),E.readSupported(a,this)&&(u=1))),u===L){var l=R.readNamed(a,"from"),c=E.peek(a),_=l.x,v=l.y,g,d;if(c&&c.x!==L||E.hasNamed(a,"to")){var w=R.readNamed(a,"to");g=w.x-_,d=w.y-v,g<0&&(_=w.x,g=-g),d<0&&(v=w.y,d=-d)}else{var m=ot.read(a);g=m.width,d=m.height}this._set(_,v,g,d),u=a.__index}var k=a.__filtered;return k&&(this.__filtered=k),this.__read&&(this.__read=u),this},set:"#initialize",_set:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},clone:function(){return new mt(this.x,this.y,this.width,this.height)},equals:function(t){var e=E.isPlainValue(t)?mt.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=G.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?R:_t;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=R.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?ot:Ct;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=ot.read(arguments),e=this._sx,i=this._sy,n=t.width,s=t.height;e&&(this.x+=(this.width-n)*e),i&&(this.y+=(this.height-s)*i),this.width=n,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=this._sx===.5?e*2:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=this._sy===.5?e*2:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=this._sx===.5?e*2:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=this._sy===.5?e*2:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?R:_t;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=R.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==L||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(mt.read(arguments)):this._containsPoint(R.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=mt.read(arguments),e=E.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=mt.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new mt(e,i,n-e,s-i)},unite:function(){var t=mt.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new mt(e,i,n-e,s-i)},include:function(){var t=R.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new mt(e,i,n-e,s-i)},expand:function(){var t=ot.read(arguments),e=t.width,i=t.height;return new mt(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===L?t:e)-this.height)}},E.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),n=/^[RL]/.test(i);e>=4&&(t[1]+=n?"Y":"X");var s=t[n?0:1],a=t[n?1:0],h="get"+s,u="get"+a,l="set"+s,c="set"+a,_="get"+i,v="set"+i;this[_]=function(g){var d=g?R:_t;return new d(this[h](),this[u](),this,v)},this[v]=function(){var g=R.read(arguments);this[l](g.x),this[c](g.y)}},{beans:!0})),wt=mt.extend({initialize:function(e,i,n,s,a,h){this._set(e,i,n,s,!0),this._owner=a,this._setter=h},_set:function(t,e,i,n,s){return this._x=t,this._y=e,this._width=i,this._height=n,s||this._owner[this._setter](this),this}},new function(){var t=mt.prototype;return E.each(["x","y","width","height"],function(e){var i=E.capitalize(e),n="_"+e;this["get"+i]=function(){return this[n]},this["set"+i]=function(s){this[n]=s,this._dontNotify||this._owner[this._setter](this)}},E.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var i=this._owner;i._changeSelection&&i._changeSelection(2,e)}}))}),kt=E.extend({_class:"Matrix",initialize:function t(e,i){var n=arguments,s=n.length,a=!0;if(s>=6?this._set.apply(this,n):s===1||s===2?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,i):Array.isArray(e)?this._set.apply(this,i?e.concat([i]):e):a=!1:s?a=!1:this.reset(),!a)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,i,n,s,a,h){return this._a=t,this._b=e,this._c=i,this._d=n,this._tx=s,this._ty=a,h||this._changed(),this},_serialize:function(t,e){return E.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new kt(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=G.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return i?(i.transform(null,E.pick(t,!0),e),this.isIdentity()):!1},translate:function(){var t=R.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=arguments,e=R.read(t),i=R.read(t,0,{readNull:!0});return i&&this.translate(i),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=R.read(arguments,1),i=e.x,n=e.y,s=Math.cos(t),a=Math.sin(t),h=i-i*s+n*a,u=n-i*a-n*s,l=this._a,c=this._b,_=this._c,v=this._d;return this._a=s*l+a*_,this._b=s*c+a*v,this._c=-a*l+s*_,this._d=-a*c+s*v,this._tx+=h*l+u*_,this._ty+=h*c+u*v,this._changed(),this},shear:function(){var t=arguments,e=R.read(t),i=R.read(t,0,{readNull:!0});i&&this.translate(i);var n=this._a,s=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*n,this._d+=e.x*s,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var t=arguments,e=R.read(t),i=R.read(t,0,{readNull:!0}),n=Math.PI/180,s=new R(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(s,i)},append:function(t,e){if(t){var i=this._a,n=this._b,s=this._c,a=this._d,h=t._a,u=t._c,l=t._b,c=t._d,_=t._tx,v=t._ty;this._a=h*i+l*s,this._c=u*i+c*s,this._b=h*n+l*a,this._d=u*n+c*a,this._tx+=_*i+v*s,this._ty+=_*n+v*a,e||this._changed()}return this},prepend:function(t,e){if(t){var i=this._a,n=this._b,s=this._c,a=this._d,h=this._tx,u=this._ty,l=t._a,c=t._c,_=t._b,v=t._d,g=t._tx,d=t._ty;this._a=l*i+c*n,this._c=l*s+c*a,this._b=_*i+v*n,this._d=_*s+v*a,this._tx=l*h+c*u+g,this._ty=_*h+v*u+d,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,n=this._d,s=this._tx,a=this._ty,h=t*n-e*i,u=null;return h&&!isNaN(h)&&isFinite(s)&&isFinite(a)&&(this._a=n/h,this._b=-e/h,this._c=-i/h,this._d=t/h,this._tx=(i*a-n*s)/h,this._ty=(e*s-t*a)/h,u=this),u},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new kt(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(R.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var n=t.x,s=t.y;return e||(e=new R),e._set(n*this._a+s*this._c+this._tx,n*this._b+s*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var n=0,s=2*i;n<s;n+=2){var a=t[n],h=t[n+1];e[n]=a*this._a+h*this._c+this._tx,e[n+1]=a*this._b+h*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,n=e+t.width,s=i+t.height,a=[e,i,n,i,n,s,e,s];return this._transformCoordinates(a,a,4)},_transformBounds:function(t,e,i){for(var n=this._transformCorners(t),s=n.slice(0,2),a=s.slice(),h=2;h<8;h++){var u=n[h],l=h&1;u<s[l]?s[l]=u:u>a[l]&&(a[l]=u)}return e||(e=new mt),e._set(s[0],s[1],a[0]-s[0],a[1]-s[1],i)},inverseTransform:function(){return this._inverseTransform(R.read(arguments))},_inverseTransform:function(t,e,i){var n=this._a,s=this._b,a=this._c,h=this._d,u=this._tx,l=this._ty,c=n*h-s*a,_=null;if(c&&!isNaN(c)&&isFinite(u)&&isFinite(l)){var v=t.x-this._tx,g=t.y-this._ty;e||(e=new R),_=e._set((v*h-g*a)/c,(g*n-v*s)/c,i)}return _},decompose:function(){var t=this._a,e=this._b,i=this._c,n=this._d,s=t*n-e*i,a=Math.sqrt,h=Math.atan2,u=180/Math.PI,l,c,_;if(t!==0||e!==0){var v=a(t*t+e*e);l=Math.acos(t/v)*(e>0?1:-1),c=[v,s/v],_=[h(t*i+e*n,v*v),0]}else if(i!==0||n!==0){var g=a(i*i+n*n);l=Math.asin(i/g)*(n>0?1:-1),c=[s/g,g],_=[0,h(t*i+e*n,g*g)]}else l=0,_=c=[0,0];return{translation:this.getTranslation(),rotation:l*u,scaling:new R(c),skewing:new R(_[0]*u,_[1]*u)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new R(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},E.each(["a","b","c","d","tx","ty"],function(t){var e=E.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(n){this[i]=n,this._changed()}},{})),jt=E.extend({_class:"Line",initialize:function(e,i,n,s,a){var h=!1;arguments.length>=4?(this._px=e,this._py=i,this._vx=n,this._vy=s,h=a):(this._px=e.x,this._py=e.y,this._vx=i.x,this._vy=i.y,h=n),h||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new R(this._px,this._py)},getVector:function(){return new R(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return jt.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return jt.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return jt.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return R.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return R.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,n,s,a,h,u,l,c){l||(i-=t,n-=e,h-=s,u-=a);var _=i*u-n*h;if(!J.isMachineZero(_)){var v=t-s,g=e-a,d=(h*g-u*v)/_,w=(i*g-n*v)/_,m=1e-12,k=-m,p=1+m;if(c||k<d&&d<p&&k<w&&w<p)return c||(d=d<=0?0:d>=1?1:d),new R(t+d*i,e+d*n)}},getSide:function(t,e,i,n,s,a,h,u){h||(i-=t,n-=e);var l=s-t,c=a-e,_=l*n-c*i;return!u&&J.isMachineZero(_)&&(_=(l*i+l*i)/(i*i+n*n),_>=0&&_<=1&&(_=0)),_<0?-1:_>0?1:0},getSignedDistance:function(t,e,i,n,s,a,h){return h||(i-=t,n-=e),i===0?n>0?s-t:t-s:n===0?i<0?a-e:e-a:((s-t)*n-(a-e)*i)/(n>i?n*Math.sqrt(1+i*i/(n*n)):i*Math.sqrt(1+n*n/(i*i)))},getDistance:function(t,e,i,n,s,a,h){return Math.abs(jt.getSignedDistance(t,e,i,n,s,a,h))}}}),Et=Y.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){Y.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new qe(null,null,this),this._view=Yt.create(this,e||Zt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return E.serialize(this._children,t,!0,e)},_changed:function(t,e){if(t&1){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var n=this._changes;if(n&&e){var s=this._changesById,a=e._id,h=s[a];h?h.flags|=t:n.push(s[a]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Pe({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:Ye,match:function(i){var n=i._definition,s=n._id;return e[s]||(e[s]=!0,t.push(n)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var n=t[i],s=n._selection;s&1&&n.isInserted()?e.push(n):s||this._updateSelection(n)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(L,t)},insertLayer:function(t,e){if(e instanceof Pe){e._remove(!1,!0),E.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,i){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(L,new Pe(P.NO_INSERT),!0)).insertChild(t,e),i&&e.activate&&e.activate(),e},getItems:function(t){return P._getItems(this,t)},getItem:function(t){return P._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return E.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){t==="mouseup"&&(e.mousedrag=null);var i=e[t];if(i){for(var n in i){var s=i[n];for(var a in e){var h=e[a];h&&h!=i&&delete h[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var n=this._children,s=new E({offset:new R(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new kt],updateMatrix:!0}),a=0,h=n.length;a<h;a++)n[a].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var u=this._selectionItems,l=this._scope.settings.handleSize,c=this._updateVersion;for(var _ in u)u[_]._drawSelection(t,e,l,u,c);t.restore()}}}),P=E.extend(nt,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=E.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new kt,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return E.each(t,function(e){this._events[e]={install:function(i){this.getView()._countItemEvent(i,1)},uninstall:function(i){this.getView()._countItemEvent(i,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var i=t&&E.isPlainObject(t),n=i&&t.internal===!0,s=this._matrix=new kt,a=i&&t.project||St.project,h=St.settings;return this._id=n?null:st.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new qe(a._currentStyle,this,a),n||i&&t.insert==!1||!h.insertItems&&!(i&&t.insert==!0)?this._setProject(a):(i&&t.parent||a)._insertItem(L,this,!0),i&&t!==P.NO_INSERT&&t!==P.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(t,e){var i={},n=this;function s(a){for(var h in a){var u=n[h];E.equals(u,h==="leading"?a.fontSize*1.2:a[h])||(i[h]=E.serialize(u,t,h!=="data",e))}}return s(this._serializeFields),this instanceof Kt||s(this._style._defaults),[this._class,i]},_changed:function(t){var e=this._symbol,i=this._parent||e,n=this._project;t&8&&(this._bounds=this._position=this._decomposed=L),t&16&&(this._globalMatrix=L),i&&t&72&&P._clearBoundsCache(i),t&2&&P._clearBoundsCache(this),n&&n._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var i=e._children,n=e._namedChildren;(n[t]=n[t]||[]).push(this),t in i||(i[t]=this)}this._name=t||L,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},E.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=E.capitalize(t),i="_"+t,n={locked:256,visible:265};this["get"+e]=function(){return this[i]},this["set"+e]=function(s){s!=this[i]&&(this[i]=s,this._changed(n[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(this._selection&1);if(t&&e){for(var i=0,n=t.length;i<n;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;i<n;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?R:_t,i=this._position||(this._position=this._getPositionFromBounds());return new e(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(R.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new _t(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=R.read(arguments,0,{clone:!0,readNull:!0}),this._position=L}},E.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(i){return this.getBounds(i,t)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof kt,n=E.set({},i?e:t,this._boundsOptions);(!n.stroke||this.getStrokeScaling())&&(n.cacheItem=this);var s=this._getCachedBounds(i&&t,n).rect;return arguments.length?s:new wt(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=mt.read(arguments),e=this.getBounds(),i=this._matrix,n=new kt,s=t.getCenter();n.translate(s),(t.width!=e.width||t.height!=e.height)&&(i.isInvertible()||(i.set(i._backup||new kt().translate(i.getTranslation())),e=this.getBounds()),n.scale(e.width!==0?t.width/e.width:0,e.height!==0?t.height/e.height:0)),s=e.getCenter(),n.translate(-s.x,-s.y),this.transform(n)},_getBounds:function(t,e){var i=this._children;return!i||!i.length?new mt:(P._updateBoundsCache(this,e.cacheItem),P._getBounds(i,t,e))},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,i){t=t&&t._orNullIfIdentity();var n=e.internal&&!i,s=e.cacheItem,a=n?null:this._matrix._orNullIfIdentity(),h=s&&(!t||t.equals(a))&&this._getBoundsCacheKey(e,n),u=this._bounds;if(P._updateBoundsCache(this._parent||this._symbol,s),h&&u&&h in u){var l=u[h];return{rect:l.rect.clone(),nonscaling:l.nonscaling}}var c=this._getBounds(t||a,e),_=c.rect||c,v=this._style,g=c.nonscaling||v.hasStroke()&&!v.getStrokeScaling();if(h){u||(this._bounds=u={});var l=u[h]={rect:_.clone(),nonscaling:g,internal:n}}return{rect:_,nonscaling:g}},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,n=i?i.getViewMatrix().invert():t;return n&&n._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,n=t._boundsCache=t._boundsCache||{ids:{},list:[]};n.ids[i]||(n.list.push(e),n.ids[i]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=L;for(var i=0,n=e.list,s=n.length;i<s;i++){var a=n[i];a!==t&&(a._bounds=a._position=L,a._boundsCache&&P._clearBoundsCache(a))}}},_getBounds:function(t,e,i){var n=1/0,s=-n,a=n,h=s,u=!1;i=i||{};for(var l=0,c=t.length;l<c;l++){var _=t[l];if(_._visible&&!_.isEmpty(!0)){var v=_._getCachedBounds(e&&e.appended(_._matrix),i,!0),g=v.rect;n=Math.min(g.x,n),a=Math.min(g.y,a),s=Math.max(g.x+g.width,s),h=Math.max(g.y+g.height,h),v.nonscaling&&(u=!0)}}return{rect:isFinite(n)?new mt(n,a,s-n,h-a):new mt,nonscaling:u}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(e!=null&&t!=null){var i=this._decomposed;this.rotate(t-e),i&&(i.rotation=t,this._decomposed=i)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new _t(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=R.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var i=this.getRotation(),n=this._decomposed,s=new kt,a=J.isZero;if(a(t.x)||a(t.y))s.translate(n.translation),i&&s.rotate(i),s.scale(e.x,e.y),this._matrix.set(s);else{var h=this.getPosition(!0);s.translate(h),i&&s.rotate(i),s.scale(e.x/t.x,e.y/t.y),i&&s.rotate(-i),s.translate(h.negate()),this.transform(s)}n&&(n.scaling=e,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var i=this._parent,n=[];i;){if(!i._globalMatrix){e=null;for(var s=0,a=n.length;s<a;s++)n[s]._globalMatrix=null;break}n.push(i),i=i._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.prepend(i.getGlobalMatrix(!0))}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,n=0,s=i&&i.length;n<s;n++)i[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var i=this._children,n=0,s=i&&i.length;n<s;n++)i[n]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof Pe)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return E.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(P.NO_INSERT),i=this._children,n=E.pick(t?t.insert:L,t===L||t===!0),s=E.pick(t?t.deep:L,!0);i&&e.copyAttributes(this),(!i||s)&&e.copyContent(this),i||e.copyAttributes(this),n&&e.insertAbove(this);var a=this._name,h=this._parent;if(a&&h){for(var i=h._children,u=a,l=1;i[a];)a=u+" "+l++;a!==u&&e.setName(a)}return e},copyContent:function(t){for(var e=t._children,i=0,n=e&&e.length;i<n;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=i.length;n<s;n++){var a=i[n];t.hasOwnProperty(a)&&(this[a]=t[a])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var h=t._data,u=t._name;this._data=h?E.clone(h):null,u&&this.setName(u)},rasterize:function(t,e){var i,n,s;E.isPlainObject(t)?(i=t.resolution,n=t.insert,s=t.raster):(i=t,n=e),s||(s=new Ge(P.NO_INSERT));var a=this.getStrokeBounds(),h=(i||this.getView().getResolution())/72,u=a.getTopLeft().floor(),l=a.getBottomRight().ceil(),c=new ot(l.subtract(u)),_=c.multiply(h);if(s.setSize(_,!0),!_.isZero()){var v=s.getContext(!0),g=new kt().scale(h).translate(u.negate());v.save(),g.applyToContext(v),this.draw(v,new E({matrices:[g]})),v.restore()}return s._matrix.set(new kt().translate(u.add(c.divide(2))).scale(1/h)),(n===L||n)&&s.insertAbove(this),s},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(R.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return mt.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Dt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof P?this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0:!1}},new function(){function t(){var n=arguments;return this._hitTest(R.read(n),Ee.getOptions(n))}function e(){var n=arguments,s=R.read(n),a=Ee.getOptions(n),h=[];return this._hitTest(s,new E({all:h},a)),h}function i(n,s,a,h){var u=this._children;if(u)for(var l=u.length-1;l>=0;l--){var c=u[l],_=c!==h&&c._hitTest(n,s,a);if(_&&!s.all)return _}return null}return Et.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(t,e,i){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var n=this._matrix,s=i?i.appended(n):this.getGlobalMatrix().prepend(this.getView()._matrix),a=Math.max(e.tolerance,1e-12),h=e._tolerancePadding=new ot(Dt._getStrokePadding(a,n._shiftless().invert()));if(t=n._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(t))return null;var u=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==E.hyphenate(this._class)||e.class&&!(this instanceof e.class)),l=e.match,c=this,_,v;function g(f){return f&&l&&!l(f)&&(f=null),f&&e.all&&e.all.push(f),f}function d(f,y){var S=y?_["get"+y]():c.getPosition();if(t.subtract(S).divide(h).length<=1)return new Ee(f,c,{name:y?E.hyphenate(y):f,point:S})}var w=e.position,m=e.center,k=e.bounds;if(u&&this._parent&&(w||m||k)){if((m||k)&&(_=this.getInternalBounds()),v=w&&d("position")||m&&d("center","Center"),!v&&k)for(var p=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],b=0;b<8&&!v;b++)v=d("bounds",p[b]);v=g(v)}return v||(v=this._hitTestChildren(t,e,s)||u&&g(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),v&&v.point&&(v.point=n.transform(v.point)),v},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new Ee("fill",this)},matches:function(t,e){function i(h,u){for(var l in h)if(h.hasOwnProperty(l)){var c=h[l],_=u[l];if(E.isPlainObject(c)&&E.isPlainObject(_)){if(!i(c,_))return!1}else if(!E.equals(c,_))return!1}return!0}var n=typeof t;if(n==="object"){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}else{if(n==="function")return t(this);if(t==="match")return e(this);var a=/^(empty|editable)$/.test(t)?this["is"+E.capitalize(t)]():t==="type"?E.hyphenate(this._class):this[t];if(t==="class"){if(typeof e=="function")return this instanceof e;a=this._class}if(typeof e=="function")return!!e(a);if(e){if(e.test)return e.test(a);if(E.isPlainObject(e))return i(e,a)}return E.equals(a,e)}},getItems:function(t){return P._getItems(this,t,this._matrix)},getItem:function(t){return P._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,i,n,s,a){if(!s){var h=typeof i=="object"&&i,u=h&&h.overlapping,l=h&&h.inside,c=u||l,g=c&&mt.read([c]);s={items:[],recursive:h&&h.recursive!==!1,inside:!!l,overlapping:!!u,rect:g,path:u&&new Dt.Rectangle({rectangle:g,insert:!1})},h&&(i=E.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var _=e._children,v=s.items,g=s.rect;n=g&&(n||new kt);for(var d=0,w=_&&_.length;d<w;d++){var m=_[d],k=n&&n.appended(m._matrix),p=!0;if(g){var c=m.getBounds(k);if(!g.intersects(c))continue;g.contains(c)||s.overlapping&&(c.contains(g)||s.path.intersects(m,k))||(p=!1)}if(p&&m.matches(i)&&(v.push(m),a)||(s.recursive!==!1&&t(m,i,k,s,a),a&&v.length>0))break}return v}}},{importJSON:function(t){var e=E.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(L,t)},insertChild:function(t,e){var i=e?this.insertChildren(t,[e]):null;return i&&i[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&e.length>0){e=E.slice(e);for(var n={},s=e.length-1;s>=0;s--){var a=e[s],h=a&&a._id;!a||n[h]?e.splice(s,1):(a._remove(!1,!0),n[h]=!0)}E.splice(i,e,t,0);for(var u=this._project,l=u._changes,s=0,c=e.length;s<c;s++){var a=e[s],_=a._name;a._parent=this,a._setProject(u,!0),_&&a.setName(_),l&&a._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),n=t!==this&&i?this:null;return n&&(n._remove(!1,!0),i._insertItem(t._index+e,n)),n},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(L,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(L,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&e.length===1){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,n=this._name,s=i[n],a=s?s.indexOf(this):-1;a!==-1&&(e[n]==this&&delete e[n],s.splice(a,1),s.length?e[n]=s[0]:delete i[n])}},_remove:function(t,e){var i=this._getOwner(),n=this._project,s=this._index;return this._style&&this._style._dispose(),i?(this._name&&this._removeNamed(),s!=null&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),E.splice(i._children,null,s,1)),this._installEvents(!1),t&&n._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=E.pick(e,this._children.length);for(var i=E.splice(this._children,null,t,e-t),n=i.length-1;n>=0;n--)i[n]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,i=e?e.length:0;if(t){for(var n=0;n<i;n++)if(!e[n].isEmpty(t))return!1;return!0}return!i},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(h){var u=[];do u.unshift(h);while(h=h._parent);return u}for(var i=e(this),n=e(t),s=0,a=Math.min(i.length,n.length);s<a;s++)if(i[s]!=n[s])return i[s]._index<n[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},E.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var i=arguments,n=(e?E:R).read(i),s=R.read(i,0,{readNull:!0});return this.transform(new kt()[t](n,s||this.getPosition(!0)))}},{translate:function(){var t=new kt;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i){var n=this._matrix,s=t&&!t.isIdentity(),a=i&&this._canApplyMatrix||this._applyMatrix&&(s||!n.isIdentity()||e&&this._children);if(!s&&!a)return this;if(s){!t.isInvertible()&&n.isInvertible()&&(n._backup=n.getValues()),n.prepend(t,!0);var h=this._style,u=h.getFillColor(!0),l=h.getStrokeColor(!0);u&&u.transform(t),l&&l.transform(t)}if(a&&(a=this._transformContent(n,e,i))){var c=this._pivot;c&&n._transformPoint(c,c,!0),n.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var _=this._bounds,v=this._position;(s||a)&&this._changed(25);var g=s&&_&&t.decompose();if(g&&g.skewing.isZero()&&g.rotation%90===0){for(var d in _){var w=_[d];if(w.nonscaling)delete _[d];else if(a||!w.internal){var m=w.rect;t._transformBounds(m,m)}}this._bounds=_;var k=_[this._getBoundsCacheKey(this._boundsOptions||{})];k&&(this._position=this._getPositionFromBounds(k.rect))}else s&&v&&this._pivot&&(this._position=t._transformPoint(v,v));return this},_transformContent:function(t,e,i){var n=this._children;if(n){for(var s=0,a=n.length;s<a;s++)n[s].transform(t,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(R.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(R.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(R.read(arguments))},localToParent:function(){return this._matrix._transformPoint(R.read(arguments))},fitBounds:function(t,e){t=mt.read(arguments);var i=this.getBounds(),n=i.height/i.width,s=t.height/t.width,a=(e?n>s:n<s)?t.width/i.width:t.height/i.height,h=new mt(new R,new ot(i.width*a,i.height*a));h.setCenter(t.getCenter()),this.setBounds(h)}}),{_setStyles:function(t,e,i){var n=this._style,s=this._matrix;if(n.hasFill()&&(t.fillStyle=n.getFillColor().toCanvasStyle(t,s)),n.hasStroke()){t.strokeStyle=n.getStrokeColor().toCanvasStyle(t,s),t.lineWidth=n.getStrokeWidth();var a=n.getStrokeJoin(),h=n.getStrokeCap(),u=n.getMiterLimit();if(a&&(t.lineJoin=a),h&&(t.lineCap=h),u&&(t.miterLimit=u),St.support.nativeDash){var l=n.getDashArray(),c=n.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=c):(t.mozDash=l,t.mozDashOffset=c))}}if(n.hasShadow()){var _=e.pixelRatio||1,v=i._shiftless().prepend(new kt().scale(_,_)),g=v.transform(new R(n.getShadowBlur(),0)),d=v.transform(this.getShadowOffset());t.shadowColor=n.getShadowColor().toCanvasStyle(t),t.shadowBlur=g.getLength(),t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}},draw:function(t,e,i){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var n=e.matrices,s=e.viewMatrix,a=this._matrix,h=n[n.length-1].appended(a);if(h.isInvertible()){s=s?s.appended(h):h,n.push(h),e.updateMatrix&&(this._globalMatrix=h);var u=this._blendMode,l=J.clamp(this._opacity,0,1),c=u==="normal",_=ci.nativeModes[u],v=c&&l===1||e.dontStart||e.clip||(_||c&&l<1)&&this._canComposite(),g=e.pixelRatio||1,d,w,m;if(!v){var k=this.getStrokeBounds(s);if(!k.width||!k.height){n.pop();return}m=e.offset,w=e.offset=k.getTopLeft().floor(),d=t,t=Zt.getContext(k.getSize().ceil().add(1).multiply(g)),g!==1&&t.scale(g,g)}t.save();var p=i?i.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,b=!v&&e.clipItem,f=!p||b;if(v?(t.globalAlpha=l,_&&(t.globalCompositeOperation=u)):f&&t.translate(-w.x,-w.y),f&&(v?a:s).applyToContext(t),b&&e.clipItem.draw(t,e.extend({clip:!0})),p){t.setTransform(g,0,0,g,0,0);var y=e.offset;y&&t.translate(-y.x,-y.y)}this._draw(t,e,s,p),t.restore(),n.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),v||(ci.process(u,t,d,l,w.subtract(m).multiply(g)),Zt.release(t),e.offset=m)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof Te)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,n,s){var a=this._selection,h=a&1,u=a&2||h&&this._selectBounds,l=a&4;if(this._drawSelected||(h=!1),(h||u||l)&&this._isUpdated(s)){var c,_=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),v=e.appended(this.getGlobalMatrix(!0)),g=i/2;if(t.strokeStyle=t.fillStyle=_?_.toCanvasStyle(t):"#009dec",h&&this._drawSelected(t,v,n),l){var d=this.getPosition(!0),w=this._parent,m=w?w.localToGlobal(d):d,k=m.x,p=m.y;t.beginPath(),t.arc(k,p,g,0,Math.PI*2,!0),t.stroke();for(var b=[[0,-1],[1,0],[0,1],[-1,0]],f=g,y=i+1,S=0;S<4;S++){var I=b[S],C=I[0],T=I[1];t.moveTo(k+C*f,p+T*f),t.lineTo(k+C*y,p+T*y),t.stroke()}}if(u){var M=v._transformCorners(this.getInternalBounds());t.beginPath();for(var S=0;S<8;S++)t[S?"lineTo":"moveTo"](M[S],M[++S]);t.closePath(),t.stroke();for(var S=0;S<8;S++)t.fillRect(M[S]-g,M[++S]-g,i,i)}}},_canComposite:function(){return!1}},E.each(["down","drag","up","move"],function(t){this["removeOn"+E.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,n=this._project,s=n._removeSets=n._removeSets||{};s[i]=s[i]||{},s[i][this._id]=this}return this}}),{tween:function(t,e,i){i||(i=e,e=t,t=null,i||(i=e,e=null));var n=i&&i.easing,s=i&&i.start,a=i!=null&&(typeof i=="number"?i:i.duration),h=new hi(this,t,e,a,n,s);function u(l){h._handleFrame(l.time*1e3),h.running||this.off("frame",u)}return a&&this.on("frame",u),h},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),Kt=P.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function t(e){t.base.call(this,e),e&2050&&(this._clipItem=L)},_getClipItem:function(){var t=this._clipItem;if(t===L){t=null;for(var e=this._children,i=0,n=e.length;i<n;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,i){var n=this._getClipItem();return n?n._getCachedBounds(n._matrix.prepended(e),E.set({},i,{stroke:!1})):t.base.call(this,e,i)},_hitTestChildren:function t(e,i,n){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,i,n,s)},_draw:function(t,e){var i=e.clip,n=!i&&this._getClipItem();e=e.extend({clipItem:n,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0}));for(var s=this._children,a=0,h=s.length;a<h;a++){var u=s[a];u!==n&&u.draw(t,e)}}}),Pe=Kt.extend({_class:"Layer",initialize:function(){Kt.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),ae=P.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,i){this._initialize(e,i)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&E.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new Ct(t.width,t.height,this,"setSize")},setSize:function(){var t=ot.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var e=this._type,i=t.width,n=t.height;e==="rectangle"?this._radius.set(ot.min(this._radius,t.divide(2).abs())):e==="circle"?(i=n=(i+n)/2,this._radius=i/2):e==="ellipse"&&this._radius._set(i/2,n/2),this._size._set(i,n),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new Ct(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if(e==="circle"){if(t===this._radius)return;var i=t*2;this._radius=t,this._size._set(i,i)}else if(t=ot.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),e==="rectangle"){var i=ot.max(this._size,t.multiply(2));this._size.set(i)}else e==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new Dt[E.capitalize(this._type)]({center:new R,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),St.settings.applyMatrix&&e.setApplyMatrix(!0),(t===L||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,i,n){var s=this._style,a=s.hasFill(),h=s.hasStroke(),u=e.dontFinish||e.clip,l=!n;if(a||h||u){var c=this._type,_=this._radius,v=c==="circle";if(e.dontStart||t.beginPath(),l&&v)t.arc(0,0,_,0,Math.PI*2,!0);else{var g=v?_:_.width,d=v?_:_.height,w=this._size,m=w.width,k=w.height;if(l&&c==="rectangle"&&g===0&&d===0)t.rect(-m/2,-k/2,m,k);else{var p=m/2,b=k/2,f=1-.5522847498307936,y=g*f,S=d*f,I=[-p,-b+d,-p,-b+S,-p+y,-b,-p+g,-b,p-g,-b,p-y,-b,p,-b+S,p,-b+d,p,b-d,p,b-S,p-y,b,p-g,b,-p+g,b,-p+y,b,-p,b-S,-p,b-d];n&&n.transform(I,I,32),t.moveTo(I[0],I[1]),t.bezierCurveTo(I[2],I[3],I[4],I[5],I[6],I[7]),p!==g&&t.lineTo(I[8],I[9]),t.bezierCurveTo(I[10],I[11],I[12],I[13],I[14],I[15]),b!==d&&t.lineTo(I[16],I[17]),t.bezierCurveTo(I[18],I[19],I[20],I[21],I[22],I[23]),p!==g&&t.lineTo(I[24],I[25]),t.bezierCurveTo(I[26],I[27],I[28],I[29],I[30],I[31])}}t.closePath()}!u&&(a||h)&&(this._setStyles(t,e,i),a&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),h&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new mt(this._size).setCenter(0,0),n=this._style,s=e.stroke&&n.hasStroke()&&n.getStrokeWidth();return t&&(i=t._transformBounds(i)),s?i.expand(Dt._getStrokePadding(s,this._getStrokeMatrix(t,e))):i}},new function(){function t(i,n,s){var a=i._radius;if(!a.isZero())for(var h=i._size.divide(2),u=1;u<=4;u++){var l=new R(u>1&&u<4?-1:1,u>2?-1:1),c=l.multiply(h),_=c.subtract(l.multiply(a)),v=new mt(s?c.add(l.multiply(s)):c,_);if(v.contains(n))return{point:_,quadrant:u}}}function e(i,n,s,a){var h=i.divide(n);return(!a||h.isInQuadrant(a))&&h.subtract(h.normalize()).multiply(n).divide(s).length<=1}return{_contains:function i(n){if(this._type==="rectangle"){var s=t(this,n);return s?n.subtract(s.point).divide(this._radius).getLength()<=1:i.base.call(this,n)}else return n.divide(this.size).getLength()<=.5},_hitTestSelf:function i(n,s,a,h){var u=!1,l=this._style,c=s.stroke&&l.hasStroke(),_=s.fill&&l.hasFill();if(c||_){var v=this._type,g=this._radius,d=c?l.getStrokeWidth()/2:0,w=s._tolerancePadding.add(Dt._getStrokePadding(d,!l.getStrokeScaling()&&h));if(v==="rectangle"){var m=w.multiply(2),k=t(this,n,m);if(k)u=e(n.subtract(k.point),g,w,k.quadrant);else{var p=new mt(this._size).setCenter(0,0),b=p.expand(m),f=p.expand(m.negate());u=b._containsPoint(n)&&!f._containsPoint(n)}}else u=e(n,g,w)}return u?new Ee(c?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function t(e,i,n,s,a){var h=E.create(ae.prototype);return h._type=e,h._size=n,h._radius=s,h._initialize(E.getNamed(a),i),h}return{Circle:function(){var e=arguments,i=R.readNamed(e,"center"),n=E.readNamed(e,"radius");return t("circle",i,new ot(n*2),n,e)},Rectangle:function(){var e=arguments,i=mt.readNamed(e,"rectangle"),n=ot.min(ot.readNamed(e,"radius"),i.getSize(!0).divide(2));return t("rectangle",i.getCenter(!0),i.getSize(!0),n,e)},Ellipse:function(){var e=arguments,i=ae._readEllipse(e),n=i.radius;return t("ellipse",i.center,n.multiply(2),n,e)},_readEllipse:function(e){var i,n;if(E.hasNamed(e,"radius"))i=R.readNamed(e,"center"),n=ot.readNamed(e,"radius");else{var s=mt.readNamed(e,"rectangle");i=s.getCenter(!0),n=s.getSize(!0).divide(2)}return{center:i,radius:n}}}}}),Ge=P.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,i){if(!this._initialize(e,i!==L&&R.read(arguments))){var n,s=typeof e,a=s==="string"?X.getElementById(e):s==="object"?e:null;if(a&&a!==P.NO_INSERT){if(a.getContext||a.naturalHeight!=null)n=a;else if(a){var h=ot.read(arguments);h.isZero()||(n=Zt.getCanvas(h))}}n?this.setImage(n):this.setSource(e)}this._size||(this._size=new ot,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var n=Zt.getCanvas(t._size);n.getContext("2d").drawImage(i,0,0),this._setImage(n)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new Ct(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var i=ot.read(arguments);if(i.equals(this._size))e&&this.clear();else if(i.width>0&&i.height>0){var n=!e&&this.getElement();this._setImage(Zt.getCanvas(i)),n&&this.getContext(!0).drawImage(n,0,0,i.width,i.height)}else this._canvas&&Zt.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,e=new R(0,0).transform(t),i=new R(1,0).transform(t).subtract(e),n=new R(0,1).transform(t).subtract(e);return new ot(72/i.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function i(n){var s=e.getView(),a=n&&n.type||"load";s&&e.responds(a)&&(St=s._scope,e.emit(a,new $e(n)))}this._setImage(t),this._loaded?setTimeout(i,0):t&&Jt.add(t,{load:function(n){e._setImage(t),i(n)},error:i})},_setImage:function(t){this._canvas&&Zt.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new ot(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=Zt.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{Zt.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new ut.Image,i=this._crossOrigin;i&&(e.crossOrigin=i),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=mt.read(arguments),e=Zt.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=mt.read(arguments),e=new Ge(P.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=R.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof be?(i=t,e=t.getBounds()):typeof t=="object"&&("width"in t?e=new mt(t):"x"in t&&(e=new mt(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var n=32,s=Math.min(e.width,n),a=Math.min(e.height,n),h=Ge._sampleContext;h?h.clearRect(0,0,n+1,n+1):h=Ge._sampleContext=Zt.getContext(new ot(n)),h.save();var u=new kt().scale(s/e.width,a/e.height).translate(-e.x,-e.y);u.applyToContext(h),i&&i.draw(h,new E({clip:!0,matrices:[u]})),this._matrix.applyToContext(h);var l=this.getElement(),c=this._size;l&&h.drawImage(l,-c.width/2,-c.height/2),h.restore();for(var _=h.getImageData(.5,.5,Math.ceil(s),Math.ceil(a)).data,v=[0,0,0],g=0,d=0,w=_.length;d<w;d+=4){var m=_[d+3];g+=m,m/=255,v[0]+=_[d]*m,v[1]+=_[d+1]*m,v[2]+=_[d+2]*m}for(var d=0;d<3;d++)v[d]/=g;return g?re.read(v):null},getPixel:function(){var t=R.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new re("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=R.read(t),i=re.read(t),n=i._convert("rgb"),s=i._alpha,a=this.getContext(!0),h=a.createImageData(1,1),u=h.data;u[0]=n[0]*255,u[1]=n[1]*255,u[2]=n[2]*255,u[3]=s!=null?s*255:255,a.putImageData(h,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=ot.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=mt.read(arguments);return t.isEmpty()&&(t=new mt(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=R.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var i=new mt(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new Ee("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,i){var n=this.getElement();if(n&&n.width>0&&n.height>0){t.globalAlpha=J.clamp(this._opacity,0,1),this._setStyles(t,e,i);var s=this._smoothing,a=s==="off";Xt.setPrefixed(t,a?"imageSmoothingEnabled":"imageSmoothingQuality",a?!1:s),t.drawImage(n,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Ye=P.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,i){this._initialize(e,i!==L&&R.read(arguments,1))||this.setDefinition(e instanceof oe?e:new oe(e))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i){var n=e.extend({all:!1}),s=this._definition._item._hitTest(t,n,i);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),oe=E.extend({_class:"SymbolDefinition",initialize:function(e,i){this._id=st.get(),this.project=St.project,e&&this.setItem(e,i)},_serialize:function(t,e){return e.add(this,function(){return E.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){t&8&&P._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new R),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Ye(this,t)},clone:function(){return new oe(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),Ee=E.extend({_class:"HitResult",initialize:function(e,i,n){this.type=e,this.item=i,n&&this.inject(n)},statics:{getOptions:function(t){var e=t&&E.read(t);return new E({type:null,tolerance:St.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),Tt=E.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,i,n,s,a,h){var u=arguments.length,l,c,_,v;u>0&&(e==null||typeof e=="object"?u===1&&e&&"point"in e?(l=e.point,c=e.handleIn,_=e.handleOut,v=e.selection):(l=e,c=i,_=n,v=s):(l=[e,i],c=n!==L?[n,s]:null,_=a!==L?[a,h]:null)),new vi(l,this,"_point"),new vi(c,this,"_handleIn"),new vi(_,this,"_handleOut"),v&&this.setSelection(v)},_serialize:function(t,e){var i=this._point,n=this._selection,s=n||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return n&&s.push(n),E.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var i=e._curves,n=this._index,s;i&&((!t||t===this._point||t===this._handleIn)&&(s=n>0?i[n-1]:e._closed?i[i.length-1]:null)&&s._changed(),(!t||t===this._point||t===this._handleOut)&&(s=i[n])&&s._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(R.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(R.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(R.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(257))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==L?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new Ie(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,i){var n=t||{},s=n.type,a=n.factor,h=this.getPrevious(),u=this.getNext(),l=(h||this)._point,c=this._point,_=(u||this)._point,v=l.getDistance(c),g=c.getDistance(_);if(!s||s==="catmull-rom"){var d=a===L?.5:a,w=Math.pow(v,d),m=w*w,k=Math.pow(g,d),p=k*k;if(!e&&h){var b=2*p+3*k*w+m,f=3*k*(k+w);this.setHandleIn(f!==0?new R((p*l._x+b*c._x-m*_._x)/f-c._x,(p*l._y+b*c._y-m*_._y)/f-c._y):new R)}if(!i&&u){var b=2*m+3*w*k+p,f=3*w*(w+k);this.setHandleOut(f!==0?new R((m*_._x+b*c._x-p*l._x)/f-c._x,(m*_._y+b*c._y-p*l._y)/f-c._y):new R)}}else if(s==="geometric"){if(h&&u){var y=l.subtract(_),S=a===L?.4:a,I=S*v/(v+g);e||this.setHandleIn(y.multiply(I)),i||this.setHandleOut(y.multiply(I-S))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new Tt(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Tt(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var n=1-i,s=i,a=t._point,h=e._point,u=t._handleIn,l=e._handleIn,c=e._handleOut,_=t._handleOut;this._point._set(n*a._x+s*h._x,n*a._y+s*h._y,!0),this._handleIn._set(n*u._x+s*l._x,n*u._y+s*l._y,!0),this._handleOut._set(n*_._x+s*c._x,n*_._y+s*c._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var n=this._point,s=!i||!this._handleIn.isZero()?this._handleIn:null,a=!i||!this._handleOut.isZero()?this._handleOut:null,h=n._x,u=n._y,l=2;return e[0]=h,e[1]=u,s&&(e[l++]=s._x+h,e[l++]=s._y+u),a&&(e[l++]=a._x+h,e[l++]=a._y+u),t&&(t._transformCoordinates(e,e,l/2),h=e[0],u=e[1],i?(n._x=h,n._y=u,l=2,s&&(s._x=e[l++]-h,s._y=e[l++]-u),a&&(a._x=e[l++]-h,a._y=e[l++]-u)):(s||(e[l++]=h,e[l++]=u),a||(e[l++]=h,e[l++]=u))),e}}),vi=R.extend({initialize:function(e,i,n){var s,a,h;if(!e)s=a=0;else if((s=e[0])!==L)a=e[1];else{var u=e;(s=u.x)===L&&(u=R.read(arguments),s=u.x),a=u.y,h=u.selected}this._x=s,this._y=a,this._owner=i,i[n]=this,h&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=J.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),gt=E.extend({_class:"Curve",beans:!0,initialize:function(e,i,n,s,a,h,u,l){var c=arguments.length,_,v,g,d,w,m;c===3?(this._path=e,_=i,v=n):c?c===1?"segment1"in e?(_=new Tt(e.segment1),v=new Tt(e.segment2)):"point1"in e?(g=e.point1,w=e.handle1,m=e.handle2,d=e.point2):Array.isArray(e)&&(g=[e[0],e[1]],d=[e[6],e[7]],w=[e[2]-e[0],e[3]-e[1]],m=[e[4]-e[6],e[5]-e[7]]):c===2?(_=new Tt(e),v=new Tt(i)):c===4?(g=e,w=i,m=n,d=s):c===8&&(g=[e,i],d=[u,l],w=[n-e,s-i],m=[a-u,h-l]):(_=new Tt,v=new Tt),this._segment1=_||new Tt(g,null,w),this._segment2=v||new Tt(d,m,null)},_serialize:function(t,e){return E.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=L},clone:function(){return new gt(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return gt.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(i)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(R.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(R.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(R.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(R.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return gt.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new R(t[i],t[i+1]));return e}},{getLength:function(){return this._length==null&&(this._length=gt.getLength(this.getValues(),0,1)),this._length},getArea:function(){return gt.getArea(this.getValues())},getLine:function(){return new jt(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new gt(gt.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return gt.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i=1e-8,n=1-i,s=null;if(t>=i&&t<=n){var a=gt.subdivide(this.getValues(),t),h=a[0],u=a[1],l=e||this.hasHandles(),c=this._segment1,_=this._segment2,v=this._path;l&&(c._handleOut._set(h[2]-h[0],h[3]-h[1]),_._handleIn._set(u[4]-u[6],u[5]-u[7]));var g=h[6],d=h[7],w=new Tt(new R(g,d),l&&new R(h[4]-g,h[5]-d),l&&new R(u[2]-g,u[3]-d));v?(v.insert(c._index+1,w),s=this.getNext()):(this._segment2=w,this._changed(),s=new gt(w,_))}return s},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===L?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===L?.5:e?t:this.getTimeAt(t))},reversed:function(){return new gt(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,n){var s=t._point,a=t._handleOut,h=e._handleIn,u=e._point,l=s.x,c=s.y,_=u.x,v=u.y,g=n?[l,c,l,c,_,v,_,v]:[l,c,l+a._x,c+a._y,_+h._x,v+h._y,_,v];return i&&i._transformCoordinates(g,g,4),g},subdivide:function(t,e){var i=t[0],n=t[1],s=t[2],a=t[3],h=t[4],u=t[5],l=t[6],c=t[7];e===L&&(e=.5);var _=1-e,v=_*i+e*s,g=_*n+e*a,d=_*s+e*h,w=_*a+e*u,m=_*h+e*l,k=_*u+e*c,p=_*v+e*d,b=_*g+e*w,f=_*d+e*m,y=_*w+e*k,S=_*p+e*f,I=_*b+e*y;return[[i,n,v,g,p,b,S,I],[S,I,f,y,m,k,l,c]]},getMonoCurves:function(t,e){var i=[],n=e?0:1,s=t[n+0],a=t[n+2],h=t[n+4],u=t[n+6];if(s>=a==a>=h&&a>=h==h>=u||gt.isStraight(t))i.push(t);else{var l=3*(a-h)-s+u,c=2*(s+h)-4*a,_=a-s,v=1e-8,g=1-v,d=[],w=J.solveQuadratic(l,c,_,d,v,g);if(!w)i.push(t);else{d.sort();var m=d[0],k=gt.subdivide(t,m);i.push(k[0]),w>1&&(m=(d[1]-m)/(1-m),k=gt.subdivide(k[1],m),i.push(k[0])),i.push(k[1])}}return i},solveCubic:function(t,e,i,n,s,a){var h=t[e],u=t[e+2],l=t[e+4],c=t[e+6],_=0;if(!(h<i&&c<i&&u<i&&l<i||h>i&&c>i&&u>i&&l>i)){var v=3*(u-h),g=3*(l-u)-v,d=c-h-v-g;_=J.solveCubic(d,g,v,h-i,n,s,a)}return _},getTimeOf:function(t,e){var i=new R(t[0],t[1]),n=new R(t[6],t[7]),s=1e-12,a=1e-7,h=e.isClose(i,s)?0:e.isClose(n,s)?1:null;if(h===null)for(var u=[e.x,e.y],l=[],c=0;c<2;c++)for(var _=gt.solveCubic(t,c,u[c],l,0,1),v=0;v<_;v++){var g=l[v];if(e.isClose(gt.getPoint(t,g),a))return g}return e.isClose(i,a)?0:e.isClose(n,a)?1:null},getNearestTime:function(t,e){if(gt.isStraight(t)){var i=t[0],n=t[1],s=t[6],a=t[7],h=s-i,u=a-n,l=h*h+u*u;if(l===0)return 0;var c=((e.x-i)*h+(e.y-n)*u)/l;return c<1e-12?0:c>.999999999999?1:gt.getTimeOf(t,new R(i+c*h,n+c*u))}var _=100,v=1/0,g=0;function d(k){if(k>=0&&k<=1){var p=e.getDistance(gt.getPoint(t,k),!0);if(p<v)return v=p,g=k,!0}}for(var w=0;w<=_;w++)d(w/_);for(var m=1/(_*2);m>1e-8;)!d(g-m)&&!d(g+m)&&(m/=2);return g},getPart:function(t,e,i){var n=e>i;if(n){var s=e;e=i,i=s}return e>0&&(t=gt.subdivide(t,e)[1]),i<1&&(t=gt.subdivide(t,(i-e)/(1-e))[0]),n?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],n=t[1],s=t[2],a=t[3],h=t[4],u=t[5],l=t[6],c=t[7],_=3*s-2*i-l,v=3*a-2*n-c,g=3*h-2*l-i,d=3*u-2*c-n;return Math.max(_*_,g*g)+Math.max(v*v,d*d)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],n=t[2],s=t[3],a=t[4],h=t[5],u=t[6],l=t[7];return 3*((l-i)*(n+a)-(u-e)*(s+h)+s*(e-a)-n*(i-h)+l*(a+e/3)-u*(h+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),n=[0,0],s=0;s<2;s++)gt._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,i,n);return new mt(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,n,s,a,h,u,l){function c(S,I){var C=S-I,T=S+I;C<h[s]&&(h[s]=C),T>u[s]&&(u[s]=T)}a/=2;var _=h[s]+a,v=u[s]-a;if(t<_||e<_||i<_||n<_||t>v||e>v||i>v||n>v)if(e<t!=e<n&&i<t!=i<n)c(t,0),c(n,0);else{var g=3*(e-i)-t+n,d=2*(t+i)-4*e,w=e-t,m=J.solveQuadratic(g,d,w,l),k=1e-8,p=1-k;c(n,0);for(var b=0;b<m;b++){var f=l[b],y=1-f;k<=f&&f<=p&&c(y*y*y*t+3*y*y*f*e+3*y*f*f*i+f*f*f*n,a)}}}}},E.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=Dt[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),E.each({isStraight:function(t,e,i,n){if(e.isZero()&&i.isZero())return!0;var s=n.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(i)){var a=new jt(t,n),h=1e-7;if(a.getDistance(t.add(e))<h&&a.getDistance(n.add(i))<h){var u=s.dot(s),l=s.dot(e)/u,c=s.dot(i)/u;return l>=0&&l<=1&&c<=0&&c>=-1}}return!1},isLinear:function(t,e,i,n){var s=n.subtract(t).divide(3);return e.equals(s)&&i.negate().equals(s)}},function(t,e){this[e]=function(i){var n=this._segment1,s=this._segment2;return t(n._point,n._handleOut,s._handleIn,s._point,i)},this.statics[e]=function(i,n){var s=i[0],a=i[1],h=i[6],u=i[7];return t(new R(s,a),new R(i[2]-s,i[3]-a),new R(i[4]-h,i[5]-u),new R(h,u),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new Ie(this,t):null},getTimeAt:function(t,e){return gt.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=R.read(arguments);return t.isZero()?[]:gt.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(R.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return gt.getTimeOf(this.getValues(),R.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=R.read(arguments),e=this.getValues(),i=gt.getNearestTime(e,t),n=gt.getPoint(e,i);return new Ie(this,i,n,null,t.getDistance(n))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return E.each(t,function(e){this[e+"At"]=function(i,n){var s=this.getValues();return gt[e](s,n?i:gt.getTimeAt(s,i))},this[e+"AtTime"]=function(i){return gt[e](this.getValues(),i)}},{statics:{_evaluateMethods:t}})},new function(){function t(n){var s=n[0],a=n[1],h=n[2],u=n[3],l=n[4],c=n[5],_=n[6],v=n[7],g=9*(h-l)+3*(_-s),d=6*(s+l)-12*h,w=3*(h-s),m=9*(u-c)+3*(v-a),k=6*(a+c)-12*u,p=3*(u-a);return function(b){var f=(g*b+d)*b+w,y=(m*b+k)*b+p;return Math.sqrt(f*f+y*y)}}function e(n,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-n)*32)))}function i(n,s,a,h){if(s==null||s<0||s>1)return null;var u=n[0],l=n[1],c=n[2],_=n[3],v=n[4],g=n[5],d=n[6],w=n[7],m=J.isZero;m(c-u)&&m(_-l)&&(c=u,_=l),m(v-d)&&m(g-w)&&(v=d,g=w);var k=3*(c-u),p=3*(v-c)-k,b=d-u-k-p,f=3*(_-l),y=3*(g-_)-f,S=w-l-f-y,I,C;if(a===0)I=s===0?u:s===1?d:((b*s+p)*s+k)*s+u,C=s===0?l:s===1?w:((S*s+y)*s+f)*s+l;else{var T=1e-8,M=1-T;if(s<T?(I=k,C=f):s>M?(I=3*(d-v),C=3*(w-g)):(I=(3*b*s+2*p)*s+k,C=(3*S*s+2*y)*s+f),h){I===0&&C===0&&(s<T||s>M)&&(I=v-c,C=g-_);var z=Math.sqrt(I*I+C*C);z&&(I/=z,C/=z)}if(a===3){var v=6*b*s+2*p,g=6*S*s+2*y,D=Math.pow(I*I+C*C,3/2);I=D!==0?(I*g-C*v)/D:0,C=0}}return a===2?new R(C,-I):new R(I,C)}return{statics:{classify:function(n){var s=n[0],a=n[1],h=n[2],u=n[3],l=n[4],c=n[5],_=n[6],v=n[7],g=s*(v-c)+a*(l-_)+_*c-v*l,d=h*(a-v)+u*(_-s)+s*v-a*_,w=l*(u-a)+c*(s-h)+h*a-u*s,m=3*w,k=m-d,p=k-d+g,b=Math.sqrt(p*p+k*k+m*m),f=b!==0?1/b:0,y=J.isZero,S="serpentine";p*=f,k*=f,m*=f;function I(z,D,O){var V=D!==L,q=V&&D>0&&D<1,j=V&&O>0&&O<1;return V&&(!(q||j)||z==="loop"&&!(q&&j))&&(z="arch",q=j=!1),{type:z,roots:q||j?q&&j?D<O?[D,O]:[O,D]:[q?D:O]:null}}if(y(p))return y(k)?I(y(m)?"line":"quadratic"):I(S,m/(3*k));var C=3*k*k-4*p*m;if(y(C))return I("cusp",k/(2*p));var T=C>0?Math.sqrt(C/3):Math.sqrt(-C),M=2*p;return I(C>0?S:"loop",(k+T)/M,(k-T)/M)},getLength:function(n,s,a,h){if(s===L&&(s=0),a===L&&(a=1),gt.isStraight(n)){var u=n;a<1&&(u=gt.subdivide(u,a)[0],s/=a),s>0&&(u=gt.subdivide(u,s)[1]);var l=u[6]-u[0],c=u[7]-u[1];return Math.sqrt(l*l+c*c)}return J.integrate(h||t(n),s,a,e(s,a))},getTimeAt:function(n,s,a){if(a===L&&(a=s<0?1:0),s===0)return a;var h=Math.abs,u=1e-12,l=s>0,c=l?a:0,_=l?1:a,v=t(n),g=gt.getLength(n,c,_,v),d=h(s)-g;if(h(d)<u)return l?_:c;if(d>u)return null;var w=s/g,m=0;function k(p){return m+=J.integrate(v,a,p,e(a,p)),a=p,m-s}return J.findRoot(k,v,a+w,c,_,32,1e-12)},getPoint:function(n,s){return i(n,s,0,!1)},getTangent:function(n,s){return i(n,s,1,!0)},getWeightedTangent:function(n,s){return i(n,s,1,!1)},getNormal:function(n,s){return i(n,s,2,!0)},getWeightedNormal:function(n,s){return i(n,s,2,!1)},getCurvature:function(n,s){return i(n,s,3,!1).x},getPeaks:function(n){var s=n[0],a=n[1],h=n[2],u=n[3],l=n[4],c=n[5],_=n[6],v=n[7],g=-s+3*h-3*l+_,d=3*s-6*h+3*l,w=-3*s+3*h,m=-a+3*u-3*c+v,k=3*a-6*u+3*c,p=-3*a+3*u,b=1e-8,f=1-b,y=[];return J.solveCubic(9*(g*g+m*m),9*(g*d+k*m),2*(d*d+k*k)+3*(w*g+p*m),w*d+k*p,y,b,f),y.sort()}}}},new function(){function t(d,w,m,k,p,b,f){var y=!f&&m.getPrevious()===p,S=!f&&m!==p&&m.getNext()===p,I=1e-8,C=1-I;if(k!==null&&k>=(y?I:0)&&k<=(S?C:1)&&b!==null&&b>=(S?I:0)&&b<=(y?C:1)){var T=new Ie(m,k,null,f),M=new Ie(p,b,null,f);T._intersection=M,M._intersection=T,(!w||w(T))&&Ie.insert(d,T,!0)}}function e(d,w,m,k,p,b,f,y,S,I,C,T,M){if(++S>=4096||++y>=40)return S;var z=1e-9,D=w[0],O=w[1],V=w[6],q=w[7],j=jt.getSignedDistance,W=j(D,O,V,q,w[2],w[3]),Q=j(D,O,V,q,w[4],w[5]),ht=W*Q>0?3/4:4/9,ft=ht*Math.min(0,W,Q),dt=ht*Math.max(0,W,Q),yt=j(D,O,V,q,d[0],d[1]),et=j(D,O,V,q,d[2],d[3]),rt=j(D,O,V,q,d[4],d[5]),vt=j(D,O,V,q,d[6],d[7]),xt=i(yt,et,rt,vt),bt=xt[0],At=xt[1],It,Nt;if(W===0&&Q===0&&yt===0&&et===0&&rt===0&&vt===0||(It=n(bt,At,ft,dt))==null||(Nt=n(bt.reverse(),At.reverse(),ft,dt))==null)return S;var ct=I+(C-I)*It,Pt=I+(C-I)*Nt;if(Math.max(M-T,Pt-ct)<z){var ne=(ct+Pt)/2,ue=(T+M)/2;t(p,b,f?k:m,f?ue:ne,f?m:k,f?ne:ue)}else{d=gt.getPart(d,It,Nt);var fe=M-T;if(Nt-It>.8)if(Pt-ct>fe){var $t=gt.subdivide(d,.5),ne=(ct+Pt)/2;S=e(w,$t[0],k,m,p,b,!f,y,S,T,M,ct,ne),S=e(w,$t[1],k,m,p,b,!f,y,S,T,M,ne,Pt)}else{var $t=gt.subdivide(w,.5),ue=(T+M)/2;S=e($t[0],d,k,m,p,b,!f,y,S,T,ue,ct,Pt),S=e($t[1],d,k,m,p,b,!f,y,S,ue,M,ct,Pt)}else fe===0||fe>=z?S=e(w,d,k,m,p,b,!f,y,S,T,M,ct,Pt):S=e(d,w,m,k,p,b,f,y,S,ct,Pt,T,M)}return S}function i(d,w,m,k){var p=[0,d],b=[1/3,w],f=[2/3,m],y=[1,k],S=w-(2*d+k)/3,I=m-(d+2*k)/3,C;if(S*I<0)C=[[p,b,y],[p,f,y]];else{var T=S/I;C=[T>=2?[p,b,y]:T<=.5?[p,f,y]:[p,b,f,y],[p,y]]}return(S||I)<0?C.reverse():C}function n(d,w,m,k){return d[0][1]<m?s(d,!0,m):w[0][1]>k?s(w,!1,k):d[0][0]}function s(d,w,m){for(var k=d[0][0],p=d[0][1],b=1,f=d.length;b<f;b++){var y=d[b][0],S=d[b][1];if(w?S>=m:S<=m)return S===m?y:k+(m-p)*(y-k)/(S-p);k=y,p=S}return null}function a(d,w,m,k,p){var b=J.isZero;if(b(k)&&b(p)){var f=gt.getTimeOf(d,new R(w,m));return f===null?[]:[f]}for(var y=Math.atan2(-p,k),S=Math.sin(y),I=Math.cos(y),C=[],T=[],M=0;M<8;M+=2){var z=d[M]-w,D=d[M+1]-m;C.push(z*I-D*S,z*S+D*I)}return gt.solveCubic(C,1,0,T,0,1),T}function h(d,w,m,k,p,b,f){for(var y=w[0],S=w[1],I=w[6],C=w[7],T=a(d,y,S,I-y,C-S),M=0,z=T.length;M<z;M++){var D=T[M],O=gt.getPoint(d,D),V=gt.getTimeOf(w,O);V!==null&&t(p,b,f?k:m,f?V:D,f?m:k,f?D:V)}}function u(d,w,m,k,p,b){var f=jt.intersect(d[0],d[1],d[6],d[7],w[0],w[1],w[6],w[7]);f&&t(p,b,m,gt.getTimeOf(d,f),k,gt.getTimeOf(w,f))}function l(d,w,m,k,p,b){var f=1e-12,y=Math.min,S=Math.max;if(S(d[0],d[2],d[4],d[6])+f>y(w[0],w[2],w[4],w[6])&&y(d[0],d[2],d[4],d[6])-f<S(w[0],w[2],w[4],w[6])&&S(d[1],d[3],d[5],d[7])+f>y(w[1],w[3],w[5],w[7])&&y(d[1],d[3],d[5],d[7])-f<S(w[1],w[3],w[5],w[7])){var I=v(d,w);if(I)for(var C=0;C<2;C++){var T=I[C];t(p,b,m,T[0],k,T[1],!0)}else{var M=gt.isStraight(d),z=gt.isStraight(w),D=M&&z,O=M&&!z,V=p.length;if((D?u:M||z?h:e)(O?w:d,O?d:w,O?k:m,O?m:k,p,b,O,0,0,0,1,0,1),!D||p.length===V)for(var C=0;C<4;C++){var q=C>>1,j=C&1,W=q*6,Q=j*6,ht=new R(d[W],d[W+1]),ft=new R(w[Q],w[Q+1]);ht.isClose(ft,f)&&t(p,b,m,q,k,j)}}}return p}function c(d,w,m,k){var p=gt.classify(d);if(p.type==="loop"){var b=p.roots;t(m,k,w,b[0],w,b[1])}return m}function _(d,w,m,k,p,b){var f=1e-7,y=!w;y&&(w=d);for(var S=d.length,I=w.length,C=new Array(S),T=y?C:new Array(I),M=[],z=0;z<S;z++)C[z]=d[z].getValues(k);if(!y)for(var z=0;z<I;z++)T[z]=w[z].getValues(p);for(var D=K.findCurveBoundsCollisions(C,T,f),O=0;O<S;O++){var V=d[O],q=C[O];y&&c(q,V,M,m);var j=D[O];if(j)for(var W=0;W<j.length;W++){if(b&&M.length)return M;var Q=j[W];if(!y||Q>O){var ht=w[Q],ft=T[Q];l(q,ft,V,ht,M,m)}}}return M}function v(d,w){function m(vt){var xt=vt[6]-vt[0],bt=vt[7]-vt[1];return xt*xt+bt*bt}var k=Math.abs,p=jt.getDistance,b=1e-8,f=1e-7,y=gt.isStraight(d),S=gt.isStraight(w),I=y&&S,C=m(d)<m(w),T=C?w:d,M=C?d:w,z=T[0],D=T[1],O=T[6]-z,V=T[7]-D;if(p(z,D,O,V,M[0],M[1],!0)<f&&p(z,D,O,V,M[6],M[7],!0)<f)!I&&p(z,D,O,V,T[2],T[3],!0)<f&&p(z,D,O,V,T[4],T[5],!0)<f&&p(z,D,O,V,M[2],M[3],!0)<f&&p(z,D,O,V,M[4],M[5],!0)<f&&(y=S=I=!0);else if(I)return null;if(y^S)return null;for(var q=[d,w],j=[],W=0;W<4&&j.length<2;W++){var Q=W&1,ht=Q^1,ft=W>>1,dt=gt.getTimeOf(q[Q],new R(q[ht][ft?6:0],q[ht][ft?7:1]));if(dt!=null){var yt=Q?[ft,dt]:[dt,ft];(!j.length||k(yt[0]-j[0][0])>b&&k(yt[1]-j[0][1])>b)&&j.push(yt)}if(W>2&&!j.length)break}if(j.length!==2)j=null;else if(!I){var et=gt.getPart(d,j[0][0],j[1][0]),rt=gt.getPart(w,j[0][1],j[1][1]);(k(rt[2]-et[2])>f||k(rt[3]-et[3])>f||k(rt[4]-et[4])>f||k(rt[5]-et[5])>f)&&(j=null)}return j}function g(d,w){var m=d[0],k=d[1],p=d[2],b=d[3],f=d[4],y=d[5],S=d[6],I=d[7],C=w.normalize(),T=C.x,M=C.y,z=3*S-9*f+9*p-3*m,D=3*I-9*y+9*b-3*k,O=6*f-12*p+6*m,V=6*y-12*b+6*k,q=3*p-3*m,j=3*b-3*k,W=2*z*M-2*D*T,Q=[];if(Math.abs(W)<J.CURVETIME_EPSILON){var ht=z*j-D*q,W=z*V-D*O;if(W!=0){var ft=-ht/W;ft>=0&&ft<=1&&Q.push(ft)}}else{var dt=(O*O-4*z*q)*M*M+(-2*O*V+4*D*q+4*z*j)*T*M+(V*V-4*D*j)*T*T,yt=O*M-V*T;if(dt>=0&&W!=0){var et=Math.sqrt(dt),rt=-(yt+et)/W,vt=(-yt+et)/W;rt>=0&&rt<=1&&Q.push(rt),vt>=0&&vt<=1&&Q.push(vt)}}return Q}return{getIntersections:function(d){var w=this.getValues(),m=d&&d!==this&&d.getValues();return m?l(w,m,this,d,[]):c(w,this,[])},statics:{getOverlaps:v,getIntersections:_,getCurveLineIntersections:a,getTimesWithTangent:g}}}),Ie=E.extend({_class:"CurveLocation",initialize:function(e,i,n,s,a){if(i>=.99999999){var h=e.getNext();h&&(i=0,e=h)}this._setCurve(e),this._time=i,this._point=n||e.getPointAtTime(i),this._overlap=s,this._distance=a,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),i=this.getTime();i===0?t=e._segment1:i===1?t=e._segment2:i!=null&&(t=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function i(n){var s=n&&n.getCurve();if(s&&(e._time=s.getTimeOf(e._point))!=null)return e._setCurve(s),s}return this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&e==null?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var e=this.getPath(),i=this.getIndex();if(e&&i!=null)for(var n=e.getCurves(),s=0;s<i;s++)t+=n[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var e=this.getCurve(),i=this.getTime();this._curveOffset=t=i!=null&&e&&e.getPartLength(0,i)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,i=t&&t.splitAtTime(this.getTime());return i&&this._setSegment(e.getLastSegment()),i},equals:function(t,e){var i=this===t;if(!i&&t instanceof Ie){var n=this.getCurve(),s=t.getCurve(),a=n._path,h=s._path;if(a===h){var u=Math.abs,l=1e-7,c=u(this.getOffset()-t.getOffset()),_=!e&&this._intersection,v=!e&&t._intersection;i=(c<l||a&&u(a.getLength()-c)<l)&&(!_&&!v||_&&v&&_.equals(v,!0))}}return i},toString:function(){var t=[],e=this.getPoint(),i=G.instance;e&&t.push("point: "+e);var n=this.getIndex();n!=null&&t.push("index: "+n);var s=this.getTime();return s!=null&&t.push("time: "+i.number(s)),this._distance!=null&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),i=t.getTime(),n=1e-8,s=1-n,a=e>=n&&e<=s,h=i>=n&&i<=s;if(a&&h)return!this.isTouching();var u=this.getCurve(),l=u&&e<n?u.getPrevious():u,c=t.getCurve(),_=c&&i<n?c.getPrevious():c;if(e>s&&(u=u.getNext()),i>s&&(c=c.getNext()),!l||!u||!_||!c)return!1;var v=[];function g(T,M){var z=T.getValues(),D=gt.classify(z).roots||gt.getPeaks(z),O=D.length,V=gt.getLength(z,M&&O?D[O-1]:0,!M&&O?D[0]:1);v.push(O?V:V/32)}function d(T,M,z){return M<z?T>M&&T<z:T>M||T<z}a||(g(l,!0),g(u,!1)),h||(g(_,!0),g(c,!1));var w=this.getPoint(),m=Math.min.apply(Math,v),k=a?u.getTangentAtTime(e):u.getPointAt(m).subtract(w),p=a?k.negate():l.getPointAt(-m).subtract(w),b=h?c.getTangentAtTime(i):c.getPointAt(m).subtract(w),f=h?b.negate():_.getPointAt(-m).subtract(w),y=p.getAngle(),S=k.getAngle(),I=f.getAngle(),C=b.getAngle();return!!(a?d(y,I,C)^d(S,I,C)&&d(y,C,I)^d(S,C,I):d(I,y,S)^d(C,y,S)&&d(I,S,y)^d(C,S,y))},hasOverlap:function(){return!!this._overlap}},E.each(gt._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var i=this.getCurve(),n=this.getTime();return n!=null&&i&&i[e](n,!0)}},{preserve:!0}),new function(){function t(e,i,n){var s=e.length,a=0,h=s-1;function u(w,m){for(var k=w+m;k>=-1&&k<=s;k+=m){var p=e[(k%s+s)%s];if(!i.getPoint().isClose(p.getPoint(),1e-7))break;if(i.equals(p))return p}return null}for(;a<=h;){var l=a+h>>>1,c=e[l],_;if(n&&(_=i.equals(c)?c:u(l,-1)||u(l,1)))return i._overlap&&(_._overlap=_._intersection._overlap=!0),_;var v=i.getPath(),g=c.getPath(),d=v!==g?v._id-g._id:i.getIndex()+i.getTime()-(c.getIndex()+c.getTime());d<0?h=l-1:a=l+1}return e.splice(a,0,i),i}return{statics:{insert:t,expand:function(e){for(var i=e.slice(),n=e.length-1;n>=0;n--)t(i,e[n]._intersection,!1);return i}}}}),be=P.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,n;if(E.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:typeof t=="string"&&(e=t),i){var s=i[0];n=s&&Array.isArray(s[0])}else e&&(n=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var a=n?Te:Dt;return new a(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),i,n=!1,s,a,h=new R,u=new R;function l(f,y){var S=+i[f];return n&&(S+=h[y]),S}function c(f){return new R(l(f,"x"),l(f+1,"y"))}this.clear();for(var _=0,v=e&&e.length;_<v;_++){var g=e[_],d=g[0],w=d.toLowerCase();i=g.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var m=i&&i.length;switch(n=d===w,s==="z"&&!/[mz]/.test(w)&&this.moveTo(h),w){case"m":case"l":for(var k=w==="m",p=0;p<m;p+=2)this[k?"moveTo":"lineTo"](h=c(p)),k&&(u=h,k=!1);a=h;break;case"h":case"v":var b=w==="h"?"x":"y";h=h.clone();for(var p=0;p<m;p++)h[b]=l(p,b),this.lineTo(h);a=h;break;case"c":for(var p=0;p<m;p+=6)this.cubicCurveTo(c(p),a=c(p+2),h=c(p+4));break;case"s":for(var p=0;p<m;p+=4)this.cubicCurveTo(/[cs]/.test(s)?h.multiply(2).subtract(a):h,a=c(p),h=c(p+2)),s=w;break;case"q":for(var p=0;p<m;p+=4)this.quadraticCurveTo(a=c(p),h=c(p+2));break;case"t":for(var p=0;p<m;p+=2)this.quadraticCurveTo(a=/[qt]/.test(s)?h.multiply(2).subtract(a):h,h=c(p)),s=w;break;case"a":for(var p=0;p<m;p+=7)this.arcTo(h=c(p+5),new ot(+i[p],+i[p+1]),+i[p+2],+i[p+4],+i[p+3]);break;case"z":this.closePath(1e-12),h=u;break}s=w}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(t,e,i,n){var s=this===t||!t,a=this._matrix._orNullIfIdentity(),h=s?a:(i||t._matrix)._orNullIfIdentity();return s||this.getBounds(a).intersects(t.getBounds(h),1e-12)?gt.getIntersections(this.getCurves(),!s&&t.getCurves(),e,a,h,n):[]},getCrossings:function(t){return this.getIntersections(t,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var t=R.read(arguments),e=this.getCurves(),i=1/0,n=null,s=0,a=e.length;s<a;s++){var h=e[s].getNearestLocation(t);h._distance<i&&(i=h._distance,n=h)}return n},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,i){var n=!this._children,s=n?"_segments":"_children",a=t[s],h=e[s],u=this[s];if(!a||!h||a.length!==h.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=u.length,c=h.length;if(l<c)for(var _=n?Tt:Dt,v=l;v<c;v++)this.add(new _);else l>c&&this[n?"removeSegments":"removeChildren"](c,l);for(var v=0;v<c;v++)u[v].interpolate(a[v],h[v],i);n&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var i=this._children||[this],n=t._children?t._children.slice():[t],s=i.length,a=n.length,h=[],u=0;e=!0;for(var l=K.findItemBoundsCollisions(i,n,J.GEOMETRIC_EPSILON),c=s-1;c>=0&&e;c--){var _=i[c];e=!1;var v=l[c];if(v)for(var g=v.length-1;g>=0&&!e;g--)_.compare(n[v[g]])&&(h[v[g]]||(h[v[g]]=!0,u++),e=!0)}e=e&&u===a}return e}}),Dt=be.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var i=arguments,n=Array.isArray(e)?typeof e[0]=="object"?e:i:e&&e.size===L&&(e.x!==L||e.point!==L)?i:null;n&&n.length>0?this.setSegments(n):(this._curves=L,this._segmentSelection=0,!n&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!n&&e)},_equals:function(t){return this._closed===t._closed&&E.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),e&8){if(this._length=this._area=L,e&32)this._version++;else if(this._curves)for(var i=0,n=this._curves.length;i<n;i++)this._curves[i]._changed()}else e&64&&(this._bounds=L)},getStyle:function(){var t=this._parent;return(t instanceof Te?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),i=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=L,i){var n=t[i-1];typeof n=="boolean"&&(this.setClosed(n),i--),this._add(Tt.readList(t,0,{},i))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var n=0;n<i;n++)t[n]=new gt(this,e[n],e[n+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new gt(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var i=this._segments,n=i.length,s=new G(e),a=new Array(6),h=!0,u,l,c,_,v,g,d,w,m=[];function k(b,f){if(b._transformCoordinates(t,a),u=a[0],l=a[1],h)m.push("M"+s.pair(u,l)),h=!1;else if(v=a[2],g=a[3],v===u&&g===l&&d===c&&w===_){if(!f){var y=u-c,S=l-_;m.push(y===0?"v"+s.number(S):S===0?"h"+s.number(y):"l"+s.pair(y,S))}}else m.push("c"+s.pair(d-c,w-_)+" "+s.pair(v-c,g-_)+" "+s.pair(u-c,l-_));c=u,_=l,d=a[4],w=a[5]}if(!n)return"";for(var p=0;p<n;p++)k(i[p]);return this._closed&&n>0&&(k(i[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),n=0,s=e.length;n<s;n++)e[n]._transformCoordinates(t,i,!0);return!0},_add:function(t,h){for(var i=this._segments,n=this._curves,s=t.length,a=h==null,h=a?i.length:h,u=0;u<s;u++){var l=t[u];l._path&&(l=t[u]=l.clone()),l._path=this,l._index=h+u,l._selection&&this._updateSelection(l,0,l._selection)}if(a)E.push(i,t);else{i.splice.apply(i,[h,0].concat(t));for(var u=h+s,c=i.length;u<c;u++)i[u]._index=u}if(n){var _=this._countCurves(),v=h>0&&h+s-1===_?h-1:h,g=v,d=Math.min(v+s,_);t._curves&&(n.splice.apply(n,[v,0].concat(t._curves)),g+=t._curves.length);for(var u=g;u<d;u++)n.splice(u,0,new gt(this,null,null));this._adjustCurves(v,d)}return this._changed(41),t},_adjustCurves:function(t,e){for(var i=this._segments,n=this._curves,s,a=t;a<e;a++)s=n[a],s._path=this,s._segment1=i[a],s._segment2=i[a+1]||i[0],s._changed();(s=n[this._closed&&!t?i.length-1:t-1])&&(s._segment2=i[t]||i[0],s._changed()),(s=n[e])&&(s._segment1=i[e],s._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&typeof t!="number"?this._add(Tt.readList(e)):this._add([Tt.read(e)])[0]},insert:function(t,e){var i=arguments;return i.length>2&&typeof e!="number"?this._add(Tt.readList(i,1),t):this._add([Tt.read(i,1)],t)[0]},addSegment:function(){return this._add([Tt.read(arguments)])[0]},insertSegment:function(t){return this._add([Tt.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(Tt.readList(t))},insertSegments:function(t,e){return this._add(Tt.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=E.pick(e,this._segments.length);var n=this._segments,s=this._curves,a=n.length,h=n.splice(t,e-t),u=h.length;if(!u)return h;for(var l=0;l<u;l++){var c=h[l];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var l=t,_=n.length;l<_;l++)n[l]._index=l;if(s){for(var v=t>0&&e===a+(this._closed?1:0)?t-1:t,s=s.splice(v,u),l=s.length-1;l>=0;l--)s[l]._path=null;i&&(h._curves=s.slice(1)),this._adjustCurves(v,v)}return this._changed(41),h},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(t==null){var e=this._segments,i=this._closed;t=0;for(var n=0,s=e.length;n<s;n++){var a=n+1===s;t+=gt.getArea(gt.getValues(e[n],e[a?0:n+1],null,a&&!i))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){e&1||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,i=e.length,n=t?7:0;this._segmentSelection=n*i;for(var s=0;s<i;s++)e[s]._selection=n},_updateSelection:function(t,e,i){t._selection=i;var n=this._segmentSelection+=i-e;n>0&&this.setSelected(!0)},divideAt:function(t){var e=this.getLocationAt(t),i;return e&&(i=e.getCurve().divideAt(e.getCurveOffset()))?i._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),i=e&&e.index,n=e&&e.time,s=1e-8,a=1-s;n>a&&(i++,n=0);var h=this.getCurves();if(i>=0&&i<h.length){n>=s&&h[i++].divideAtTime(n);var u=this.removeSegments(i,this._segments.length,!0),l;return this._closed?(this.setClosed(!1),l=this):(l=new Dt(P.NO_INSERT),l.insertAbove(this),l.copyAttributes(this)),l._add(u,0),this.addSegment(u[0]),l}return null},split:function(t,e){var i,n=e===L?t:(i=this.getCurves()[t])&&i.getLocationAtTime(e);return n!=null?this.splitAt(n):null},join:function(t,e){var i=e||0;if(t&&t!==this){var n=t._segments,s=this.getLastSegment(),a=t.getLastSegment();if(!a)return this;s&&s._point.isClose(a._point,i)&&t.reverse();var h=t.getFirstSegment();if(s&&s._point.isClose(h._point,i))s.setHandleOut(h._handleOut),this._add(n.slice(1));else{var u=this.getFirstSegment();u&&u._point.isClose(h._point,i)&&t.reverse(),a=t.getLastSegment(),u&&u._point.isClose(a._point,i)?(u.setHandleIn(a._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}t._closed&&this._add([n[0]]),t.remove()}var l=this.getFirstSegment(),c=this.getLastSegment();return l!==c&&l._point.isClose(c._point,i)&&(l.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,n=i?1e-7:0,s=e.length-1;s>=0;s--){var a=e[s];!a.hasHandles()&&(!a.hasLength(n)||i&&a.isCollinear(a.getNext()))&&a.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],n=i._handleIn;i._handleIn=i._handleOut,i._handleOut=n,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new De(this,t||.25,256,!0),i=e.parts,n=i.length,s=[],a=0;a<n;a++)s.push(new Tt(i[a].curve.slice(0,2)));!this._closed&&n>0&&s.push(new Tt(i[n-1].curve.slice(6))),this.setSegments(s)},simplify:function(t){var e=new Qe(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,i=t||{},n=i.type||"asymmetric",s=this._segments,a=s.length,h=this._closed;function u(bt,At){var It=bt&&bt.index;if(It!=null){var Nt=bt.path;if(Nt&&Nt!==e)throw new Error(bt._class+" "+It+" of "+Nt+" is not part of "+e);At&&bt instanceof gt&&It++}else It=typeof bt=="number"?bt:At;return Math.min(It<0&&h?It%a:It<0?It+a:It,a-1)}var l=h&&i.from===L&&i.to===L,c=u(i.from,0),_=u(i.to,a-1);if(c>_)if(h)c-=a;else{var v=c;c=_,_=v}if(/^(?:asymmetric|continuous)$/.test(n)){var g=n==="asymmetric",d=Math.min,w=_-c+1,m=w-1,k=l?d(w,4):1,p=k,b=k,f=[];if(h||(p=d(1,c),b=d(1,a-_-1)),m+=p+b,m<=1)return;for(var y=0,S=c-p;y<=m;y++,S++)f[y]=s[(S<0?S+a:S)%a]._point;for(var I=f[0]._x+2*f[1]._x,C=f[0]._y+2*f[1]._y,T=2,M=m-1,z=[I],D=[C],O=[T],V=[],q=[],y=1;y<m;y++){var j=y<M,W=j||g?1:2,Q=j?4:g?2:7,ht=j?4:g?3:8,ft=j?2:g?0:1,dt=W/T;T=O[y]=Q-dt,I=z[y]=ht*f[y]._x+ft*f[y+1]._x-dt*I,C=D[y]=ht*f[y]._y+ft*f[y+1]._y-dt*C}V[M]=z[M]/O[M],q[M]=D[M]/O[M];for(var y=m-2;y>=0;y--)V[y]=(z[y]-V[y+1])/O[y],q[y]=(D[y]-q[y+1])/O[y];V[m]=(3*f[m]._x-V[M])/2,q[m]=(3*f[m]._y-q[M])/2;for(var y=p,yt=m-b,S=c;y<=yt;y++,S++){var et=s[S<0?S+a:S],rt=et._point,vt=V[y]-rt._x,xt=q[y]-rt._y;(l||y<yt)&&et.setHandleOut(vt,xt),(l||y>p)&&et.setHandleIn(-vt,-xt)}}else for(var y=c;y<=_;y++)s[y<0?y+a:y].smooth(i,!l&&y===c,!l&&y===_)},toShape:function(t){if(!this._closed)return null;var e=this._segments,i,n,s,a;function h(g,d){var w=e[g],m=w.getNext(),k=e[d],p=k.getNext();return w._handleOut.isZero()&&m._handleIn.isZero()&&k._handleOut.isZero()&&p._handleIn.isZero()&&m._point.subtract(w._point).isCollinear(p._point.subtract(k._point))}function u(g){var d=e[g],w=d.getPrevious(),m=d.getNext();return w._handleOut.isZero()&&d._handleIn.isZero()&&d._handleOut.isZero()&&m._handleIn.isZero()&&d._point.subtract(w._point).isOrthogonal(m._point.subtract(d._point))}function l(g){var d=e[g],w=d.getNext(),m=d._handleOut,k=w._handleIn,p=.5522847498307936;if(m.isOrthogonal(k)){var b=d._point,f=w._point,y=new jt(b,m,!0).intersect(new jt(f,k,!0),!0);return y&&J.isZero(m.getLength()/y.subtract(b).getLength()-p)&&J.isZero(k.getLength()/y.subtract(f).getLength()-p)}return!1}function c(g,d){return e[g]._point.getDistance(e[d]._point)}if(!this.hasHandles()&&e.length===4&&h(0,2)&&h(1,3)&&u(1)?(i=ae.Rectangle,n=new ot(c(0,3),c(0,1)),a=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&l(0)&&l(2)&&l(4)&&l(6)&&h(1,5)&&h(3,7)?(i=ae.Rectangle,n=new ot(c(1,6),c(0,3)),s=n.subtract(new ot(c(0,7),c(1,2))).divide(2),a=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&l(0)&&l(1)&&l(2)&&l(3)&&(J.isZero(c(0,2)-c(1,3))?(i=ae.Circle,s=c(0,2)/2):(i=ae.Ellipse,s=new ot(c(2,0)/2,c(3,1)/2)),a=e[1]._point),i){var _=this.getPosition(!0),v=new i({center:_,size:n,radius:s,insert:!1});return v.copyAttributes(this,!0),v._matrix.prepend(this._matrix),v.rotate(a.subtract(_).getAngle()+90),(t===L||t)&&v.insertAbove(this),v}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof Te)return t.base.call(this,e);var i=this.getCurves(),n=e.getCurves(),s=i.length,a=n.length;if(!s||!a)return s==a;for(var h=i[0].getValues(),u=[],l=0,c,_=0,v,g=0;g<a;g++){var k=n[g].getValues();u.push(k);var d=gt.getOverlaps(h,k);if(d){c=!g&&d[0][0]>0?a-1:g,v=d[0][1];break}}for(var w=Math.abs,m=1e-8,k=u[c],p;h&&k;){var d=gt.getOverlaps(h,k);if(d){var b=d[0][0];if(w(b-_)<m){_=d[1][0],_===1&&(h=++l<s?i[l].getValues():null,_=0);var f=d[0][1];if(w(f-v)<m){if(p||(p=[c,f]),v=d[1][1],v===1&&(++c>=a&&(c=0),k=u[c]||n[c].getValues(),v=0),!h)return p[0]===c&&p[1]===v;continue}}}break}return!1},_hitTestSelf:function(t,e,i,n){var s=this,a=this.getStyle(),h=this._segments,u=h.length,l=this._closed,c=e._tolerancePadding,_=c,v,g,d,w,m,k,p=e.stroke&&a.hasStroke(),b=e.fill&&a.hasFill(),f=e.curves,y=p?a.getStrokeWidth()/2:b&&e.tolerance>0||f?0:null;y!==null&&(y>0?(v=a.getStrokeJoin(),g=a.getStrokeCap(),d=a.getMiterLimit(),_=_.add(Dt._getStrokePadding(y,n))):v=g="round");function S(V,q){return t.subtract(V).divide(q).length<=1}function I(V,q,j){if(!e.selected||q.isSelected()){var W=V._point;if(q!==W&&(q=q.add(W)),S(q,_))return new Ee(j,s,{segment:V,point:q})}}function C(V,q){return(q||e.segments)&&I(V,V._point,"segment")||!q&&e.handles&&(I(V,V._handleIn,"handle-in")||I(V,V._handleOut,"handle-out"))}function T(V){w.add(V)}function M(V){var q=l||V._index>0&&V._index<u-1;if((q?v:g)==="round")return S(V._point,_);if(w=new Dt({internal:!0,closed:!0}),q?V.isSmooth()||Dt._addBevelJoin(V,v,y,d,null,n,T,!0):g==="square"&&Dt._addSquareCap(V,g,y,null,n,T,!0),!w.isEmpty()){var j;return w.contains(t)||(j=w.getNearestLocation(t))&&S(j.getPoint(),c)}}if(e.ends&&!e.segments&&!l){if(k=C(h[0],!0)||C(h[u-1],!0))return k}else if(e.segments||e.handles){for(var z=0;z<u;z++)if(k=C(h[z]))return k}if(y!==null){if(m=this.getNearestLocation(t),m){var D=m.getTime();D===0||D===1&&u>1?M(m.getSegment())||(m=null):S(m.getPoint(),_)||(m=null)}if(!m&&v==="miter"&&u>1)for(var z=0;z<u;z++){var O=h[z];if(t.getDistance(O._point)<=d*y&&M(O)){m=O.getLocation();break}}}return!m&&b&&this._contains(t)||m&&!p&&!f?new Ee("fill",this):m?new Ee(p?"stroke":"curve",this,{location:m,point:m.getPoint()}):null}},E.each(gt._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this.getLocationAt(e);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=R.read(arguments),e=this.getCurves(),i=0,n=e.length;i<n;i++){var s=e[i].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var e=this.getCurves(),i=0,n=0,s=e.length;n<s;n++){var a=i,h=e[n];if(i+=h.getLength(),i>t)return h.getLocationAt(t-a)}if(e.length>0&&t<=this.getLength())return new Ie(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=R.read(arguments);if(t.isZero())return[];for(var e=[],i=0,n=this.getCurves(),s=0,a=n.length;s<a;s++){for(var h=n[s],u=h.getTimesWithTangent(t),l=0,c=u.length;l<c;l++){var _=i+h.getOffsetAtTime(u[l]);e.indexOf(_)<0&&e.push(_)}i+=h.length}return e}}),new function(){function t(i,n,s,a){if(a<=0)return;var h=a/2,u=a-2,l=h-1,c=new Array(6),_,v;function g(b){var f=c[b],y=c[b+1];(_!=f||v!=y)&&(i.beginPath(),i.moveTo(_,v),i.lineTo(f,y),i.stroke(),i.beginPath(),i.arc(f,y,h,0,Math.PI*2,!0),i.fill())}for(var d=0,w=n.length;d<w;d++){var m=n[d],k=m._selection;if(m._transformCoordinates(s,c),_=c[0],v=c[1],k&2&&g(2),k&4&&g(4),i.fillRect(_-h,v-h,a,a),u>0&&!(k&1)){var p=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(_-l,v-l,u,u),i.fillStyle=p}}}function e(i,n,s){var a=n._segments,h=a.length,u=new Array(6),l=!0,c,_,v,g,d,w,m,k;function p(f){if(s)f._transformCoordinates(s,u),c=u[0],_=u[1];else{var y=f._point;c=y._x,_=y._y}if(l)i.moveTo(c,_),l=!1;else{if(s)d=u[2],w=u[3];else{var S=f._handleIn;d=c+S._x,w=_+S._y}d===c&&w===_&&m===v&&k===g?i.lineTo(c,_):i.bezierCurveTo(m,k,d,w,c,_)}if(v=c,g=_,s)m=u[4],k=u[5];else{var S=f._handleOut;m=v+S._x,k=g+S._y}}for(var b=0;b<h;b++)p(a[b]);n._closed&&h>0&&p(a[0])}return{_draw:function(i,n,s,a){var h=n.dontStart,u=n.dontFinish||n.clip,l=this.getStyle(),c=l.hasFill(),_=l.hasStroke(),v=l.getDashArray(),g=!St.support.nativeDash&&_&&v&&v.length;h||i.beginPath(),(c||_&&!g||u)&&(e(i,this,a),this._closed&&i.closePath());function d(f){return v[(f%g+g)%g]}if(!u&&(c||_)&&(this._setStyles(i,n,s),c&&(i.fill(l.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),_)){if(g){h||i.beginPath();for(var w=new De(this,.25,32,!1,a),m=w.length,k=-l.getDashOffset(),p,b=0;k>0;)k-=d(b--)+d(b--);for(;k<m;)p=k+d(b++),(k>0||p>0)&&w.drawPart(i,Math.max(k,0),Math.max(p,0)),k=p+d(b++)}i.stroke()}},_drawSelected:function(i,n){i.beginPath(),e(i,this,n),i.stroke(),t(i,this._segments,n,St.settings.handleSize)}}},new function(){function t(e){var i=e._segments;if(!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new Tt(R.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Tt(R.read(arguments))])},cubicCurveTo:function(){var e=arguments,i=R.read(e),n=R.read(e),s=R.read(e),a=t(this);a.setHandleOut(i.subtract(a._point)),this._add([new Tt(s,n.subtract(s))])},quadraticCurveTo:function(){var e=arguments,i=R.read(e),n=R.read(e),s=t(this)._point;this.cubicCurveTo(i.add(s.subtract(i).multiply(1/3)),i.add(n.subtract(i).multiply(1/3)),n)},curveTo:function(){var e=arguments,i=R.read(e),n=R.read(e),s=E.pick(E.read(e),.5),a=1-s,h=t(this)._point,u=i.subtract(h.multiply(a*a)).subtract(n.multiply(s*s)).divide(2*s*a);if(u.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(u,n)},arcTo:function(){var e=arguments,i=Math.abs,n=Math.sqrt,s=t(this),a=s._point,h=R.read(e),u,l=E.peek(e),c=E.pick(l,!0),_,v,g,d;if(typeof c=="boolean")var w=a.add(h).divide(2),u=w.add(w.subtract(a).rotate(c?-90:90));else if(E.remain(e)<=2)u=h,h=R.read(e);else if(!a.equals(h)){var m=ot.read(e),k=J.isZero;if(k(m.width)||k(m.height))return this.lineTo(h);var p=E.read(e),c=!!E.read(e),b=!!E.read(e),w=a.add(h).divide(2),f=a.subtract(w).rotate(-p),y=f.x,S=f.y,I=i(m.width),C=i(m.height),T=I*I,M=C*C,z=y*y,D=S*S,O=n(z/T+D/M);if(O>1&&(I*=O,C*=O,T=I*I,M=C*C),O=(T*M-T*D-M*z)/(T*D+M*z),i(O)<1e-12&&(O=0),O<0)throw new Error("Cannot create an arc with the given arguments");_=new R(I*S/C,-C*y/I).multiply((b===c?-1:1)*n(O)).rotate(p).add(w),d=new kt().translate(_).rotate(p).scale(I,C),g=d._inverseTransform(a),v=g.getDirectedAngle(d._inverseTransform(h)),!c&&v>0?v-=360:c&&v<0&&(v+=360)}if(u){var V=new jt(a.add(u).divide(2),u.subtract(a).rotate(90),!0),q=new jt(u.add(h).divide(2),h.subtract(u).rotate(90),!0),j=new jt(a,h),W=j.getSide(u);if(_=V.intersect(q,!0),!_){if(!W)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}g=a.subtract(_),v=g.getDirectedAngle(h.subtract(_));var Q=j.getSide(_,!0);Q===0?v=W*i(v):W===Q&&(v+=v<0?360:-360)}if(v){for(var ht=1e-5,ft=i(v),dt=ft>=360?4:Math.ceil((ft-ht)/90),yt=v/dt,et=yt*Math.PI/360,rt=4/3*Math.sin(et)/(1+Math.cos(et)),vt=[],xt=0;xt<=dt;xt++){var f=h,bt=null;if(xt<dt&&(bt=g.rotate(90).multiply(rt),d?(f=d._transformPoint(g),bt=d._transformPoint(g.add(bt)).subtract(f)):f=_.add(g)),!xt)s.setHandleOut(bt);else{var At=g.rotate(-90).multiply(rt);d&&(At=d._transformPoint(g.add(At)).subtract(f)),vt.push(new Tt(f,At,bt))}g=g.rotate(yt)}this._add(vt)}},lineBy:function(){var e=R.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var e=arguments,i=R.read(e),n=R.read(e),s=E.read(e),a=t(this)._point;this.curveTo(a.add(i),a.add(n),s)},cubicCurveBy:function(){var e=arguments,i=R.read(e),n=R.read(e),s=R.read(e),a=t(this)._point;this.cubicCurveTo(a.add(i),a.add(n),a.add(s))},quadraticCurveBy:function(){var e=arguments,i=R.read(e),n=R.read(e),s=t(this)._point;this.quadraticCurveTo(s.add(i),s.add(n))},arcBy:function(){var e=arguments,i=t(this)._point,n=i.add(R.read(e)),s=E.pick(E.peek(e),!0);typeof s=="boolean"?this.arcTo(n,s):this.arcTo(n,i.add(R.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return Dt[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,n,s,a){var h=t[0];if(!h)return new mt;var u=new Array(6),l=h._transformCoordinates(n,new Array(6)),c=l.slice(0,2),_=c.slice(),v=new Array(2);function g(m){m._transformCoordinates(n,u);for(var k=0;k<2;k++)gt._addBounds(l[k],l[k+4],u[k+2],u[k],k,a?a[k]:0,c,_,v);var p=l;l=u,u=p}for(var d=1,w=t.length;d<w;d++)g(t[d]);return e&&g(h),new mt(c[0],c[1],_[0]-c[0],_[1]-c[1])},getStrokeBounds:function(t,e,i,n,s){var a=i.getStyle(),h=a.hasStroke(),u=a.getStrokeWidth(),l=h&&i._getStrokeMatrix(n,s),c=h&&Dt._getStrokePadding(u,l),_=Dt.getBounds(t,e,i,n,s,c);if(!h)return _;var v=u/2,g=a.getStrokeJoin(),d=a.getStrokeCap(),w=a.getMiterLimit(),m=new mt(new ot(c));function k(I){_=_.include(I)}function p(I){_=_.unite(m.setCenter(I._point.transform(n)))}function b(I,C){C==="round"||I.isSmooth()?p(I):Dt._addBevelJoin(I,C,v,w,n,l,k)}function f(I,C){C==="round"?p(I):Dt._addSquareCap(I,C,v,n,l,k)}var y=t.length-(e?0:1);if(y>0){for(var S=1;S<y;S++)b(t[S],g);e?b(t[0],g):(f(t[0],d),f(t[t.length-1],d))}return _},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new R(t,0).transform(e),n=new R(0,t).transform(e),s=i.getAngleInRadians(),a=i.getLength(),h=n.getLength(),u=Math.sin(s),l=Math.cos(s),c=Math.tan(s),_=Math.atan2(h*c,a),v=Math.atan2(h,c*a);return[Math.abs(a*Math.cos(_)*l+h*Math.sin(_)*u),Math.abs(h*Math.sin(v)*l+a*Math.cos(v)*u)]},_addBevelJoin:function(t,e,i,n,s,a,h,u){var l=t.getCurve(),c=l.getPrevious(),_=l.getPoint1().transform(s),v=c.getNormalAtTime(1).multiply(i).transform(a),g=l.getNormalAtTime(0).multiply(i).transform(a),d=v.getDirectedAngle(g);if((d<0||d>=180)&&(v=v.negate(),g=g.negate()),u&&h(_),h(_.add(v)),e==="miter"){var w=new jt(_.add(v),new R(-v.y,v.x),!0).intersect(new jt(_.add(g),new R(-g.y,g.x),!0),!0);w&&_.getDistance(w)<=n*i&&h(w)}h(_.add(g))},_addSquareCap:function(t,e,i,n,s,a,h){var u=t._point.transform(n),l=t.getLocation(),c=l.getNormal().multiply(l.getTime()===0?i:-i).transform(s);e==="square"&&(h&&(a(u.subtract(c)),a(u.add(c))),u=u.add(c.rotate(-90))),a(u.add(c)),a(u.subtract(c))},getHandleBounds:function(t,e,i,n,s){var a=i.getStyle(),h=s.stroke&&a.hasStroke(),u,l;if(h){var c=i._getStrokeMatrix(n,s),_=a.getStrokeWidth()/2,v=_;a.getStrokeJoin()==="miter"&&(v=_*a.getMiterLimit()),a.getStrokeCap()==="square"&&(v=Math.max(v,_*Math.SQRT2)),u=Dt._getStrokePadding(_,c),l=Dt._getStrokePadding(v,c)}for(var g=new Array(6),d=1/0,w=-d,m=d,k=w,p=0,b=t.length;p<b;p++){var f=t[p];f._transformCoordinates(n,g);for(var y=0;y<6;y+=2){var S=y?u:l,I=S?S[0]:0,C=S?S[1]:0,T=g[y],M=g[y+1],z=T-I,D=T+I,O=M-C,V=M+C;z<d&&(d=z),D>w&&(w=D),O<m&&(m=O),V>k&&(k=V)}}return new mt(d,m,w-d,k-m)}}});Dt.inject({statics:new function(){var t=.5522847498307936,e=[new Tt([-1,0],[0,t],[0,-t]),new Tt([0,-1],[-t,0],[t,0]),new Tt([1,0],[0,-t],[0,t]),new Tt([0,1],[t,0],[-t,0])];function i(s,a,h){var u=E.getNamed(h),l=new Dt(u&&(u.insert==!0?P.INSERT:u.insert==!1?P.NO_INSERT:null));return l._add(s),l._closed=a,l.set(u,P.INSERT)}function n(s,a,h){for(var u=new Array(4),l=0;l<4;l++){var c=e[l];u[l]=new Tt(c._point.multiply(a).add(s),c._handleIn.multiply(a),c._handleOut.multiply(a))}return i(u,!0,h)}return{Line:function(){var s=arguments;return i([new Tt(R.readNamed(s,"from")),new Tt(R.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,a=R.readNamed(s,"center"),h=E.readNamed(s,"radius");return n(a,new ot(h),s)},Rectangle:function(){var s=arguments,a=mt.readNamed(s,"rectangle"),h=ot.readNamed(s,"radius",0,{readNull:!0}),u=a.getBottomLeft(!0),l=a.getTopLeft(!0),c=a.getTopRight(!0),_=a.getBottomRight(!0),v;if(!h||h.isZero())v=[new Tt(u),new Tt(l),new Tt(c),new Tt(_)];else{h=ot.min(h,a.getSize(!0).divide(2));var g=h.width,d=h.height,w=g*t,m=d*t;v=[new Tt(u.add(g,0),null,[-w,0]),new Tt(u.subtract(0,d),[0,m]),new Tt(l.add(0,d),null,[0,-m]),new Tt(l.add(g,0),[-w,0],null),new Tt(c.subtract(g,0),null,[w,0]),new Tt(c.add(0,d),[0,-m],null),new Tt(_.subtract(0,d),null,[0,m]),new Tt(_.subtract(g,0),[w,0])]}return i(v,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,a=ae._readEllipse(s);return n(a.center,a.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,a=R.readNamed(s,"from"),h=R.readNamed(s,"through"),u=R.readNamed(s,"to"),l=E.getNamed(s),c=new Dt(l&&l.insert==!1&&P.NO_INSERT);return c.moveTo(a),c.arcTo(h,u),c.set(l)},RegularPolygon:function(){for(var s=arguments,a=R.readNamed(s,"center"),h=E.readNamed(s,"sides"),u=E.readNamed(s,"radius"),l=360/h,c=h%3===0,_=new R(0,c?-u:u),v=c?-1:.5,g=new Array(h),d=0;d<h;d++)g[d]=new Tt(a.add(_.rotate((d+v)*l)));return i(g,!0,s)},Star:function(){for(var s=arguments,a=R.readNamed(s,"center"),h=E.readNamed(s,"points")*2,u=E.readNamed(s,"radius1"),l=E.readNamed(s,"radius2"),c=360/h,_=new R(0,-1),v=new Array(h),g=0;g<h;g++)v[g]=new Tt(a.add(_.rotate(c*g).multiply(g%2?l:u)));return i(v,!0,s)}}}});var Te=be.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function t(e,i){var n=i,s=n[0];s&&typeof s[0]=="number"&&(n=[n]);for(var a=i.length-1;a>=0;a--){var h=n[a];n===i&&!(h instanceof Dt)&&(n=E.slice(n)),Array.isArray(h)?n[a]=new Dt({segments:h,insert:!1}):h instanceof Te&&(n.splice.apply(n,[a,1].concat(h.removeChildren())),h.remove())}return t.base.call(this,e,n)},reduce:function t(e){for(var i=this._children,n=i.length-1;n>=0;n--){var s=i[n].reduce(e);s.isEmpty()&&s.remove()}if(!i.length){var s=new Dt(P.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)E.push(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,n=[],s=0,a=i.length;s<a;s++){var h=i[s],u=h._matrix;n.push(h.getPathData(t&&!u.isIdentity()?t.appended(u):t,e))}return n.join("")},_hitTestChildren:function t(e,i,n){return t.base.call(this,e,i.class===Dt||i.type==="path"?i:E.set({},i,{fill:!1}),n)},_draw:function(t,e,i,n){var s=this._children;if(s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var a=0,h=s.length;a<h;a++)s[a].draw(t,e,n);if(!e.clip){this._setStyles(t,e,i);var u=this._style;u.hasFill()&&(t.fill(u.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var n=this._children,s=0,a=n.length;s<a;s++){var h=n[s],u=h._matrix;i[h._id]||h._drawSelected(t,u.isIdentity()?e:e.appended(u))}}},new function(){function t(e,i){var n=e._children;if(i&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return E.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}},{moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new Dt(P.NO_INSERT);i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),n=R.read(arguments);this.moveTo(i?n.add(i._point):n)},closePath:function(e){t(this,!0).closePath(e)}})},E.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var i=this._children,n,s=0,a=i.length;s<a;s++)n=i[s][t](e)||n;return n}},{}));be.inject(new function(){var t=Math.min,e=Math.max,i=Math.abs,n={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(p){return p._children||[p]}function a(p,b){var f=p.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(b){for(var y=s(f),S=0,I=y.length;S<I;S++){var p=y[S];!p._closed&&!p.isEmpty()&&(p.closePath(1e-12),p.getFirstSegment().setHandleIn(0,0),p.getLastSegment().setHandleOut(0,0))}f=f.resolveCrossings().reorient(f.getFillRule()==="nonzero",!0)}return f}function h(p,b,f,y,S){var I=new Te(P.NO_INSERT);return I.addChildren(p,!0),I=I.reduce({simplify:b}),S&&S.insert==!1||I.insertAbove(y&&f.isSibling(y)&&f.getIndex()<y.getIndex()?y:f),I.copyAttributes(f,!0),I}function u(p){return p.hasOverlap()||p.isCrossing()}function l(p,b,f,y){if(y&&(y.trace==!1||y.stroke)&&/^(subtract|intersect)$/.test(f))return c(p,b,f);var S=a(p,!0),I=b&&p!==b&&a(b,!0),C=n[f];C[f]=!0,I&&(C.subtract||C.exclude)^(I.isClockwise()^S.isClockwise())&&I.reverse();var T=d(Ie.expand(S.getIntersections(I,u))),M=s(S),z=I&&s(I),D=[],O=[],V;function q(bt){for(var At=0,It=bt.length;At<It;At++){var Nt=bt[At];E.push(D,Nt._segments),E.push(O,Nt.getCurves()),Nt._overlapsOnly=!0}}function j(bt){for(var At=[],It=0,Nt=bt&&bt.length;It<Nt;It++)At.push(O[bt[It]]);return At}if(T.length){q(M),z&&q(z);for(var W=new Array(O.length),Q=0,ht=O.length;Q<ht;Q++)W[Q]=O[Q].getValues();for(var ft=K.findCurveBoundsCollisions(W,W,0,!0),dt={},Q=0;Q<O.length;Q++){var yt=O[Q],et=yt._path._id,rt=dt[et]=dt[et]||{};rt[yt.getIndex()]={hor:j(ft[Q].hor),ver:j(ft[Q].ver)}}for(var Q=0,ht=T.length;Q<ht;Q++)m(T[Q]._segment,S,I,dt,C);for(var Q=0,ht=D.length;Q<ht;Q++){var vt=D[Q],xt=vt._intersection;vt._winding||m(vt,S,I,dt,C),xt&&xt._overlap||(vt._path._overlapsOnly=!1)}V=k(D,C)}else V=g(z?M.concat(z):M.slice(),function(bt){return!!C[bt]});return h(V,!0,p,b,y)}function c(p,b,f){var y=a(p),S=a(b),I=y.getIntersections(S,u),C=f==="subtract",T=f==="divide",M={},z=[];function D(q){if(!M[q._id]&&(T||S.contains(q.getPointAt(q.getLength()/2))^C))return z.unshift(q),M[q._id]=!0}for(var O=I.length-1;O>=0;O--){var V=I[O].split();V&&(D(V)&&V.getFirstSegment().setHandleIn(0,0),y.getLastSegment().setHandleOut(0,0))}return D(y),h(z,!1,p,b)}function _(p,b){for(var f=p;f;){if(f===b)return;f=f._previous}for(;p._next&&p._next!==b;)p=p._next;if(!p._next){for(;b._previous;)b=b._previous;p._next=b,b._previous=p}}function v(p){for(var b=p.length-1;b>=0;b--)p[b].clearHandles()}function g(p,b,f){var y=p&&p.length;if(y){var S=E.each(p,function(ft,dt){this[ft._id]={container:null,winding:ft.isClockwise()?1:-1,index:dt}},{}),I=p.slice().sort(function(ft,dt){return i(dt.getArea())-i(ft.getArea())}),C=I[0],T=K.findItemBoundsCollisions(I,null,J.GEOMETRIC_EPSILON);f==null&&(f=C.isClockwise());for(var M=0;M<y;M++){var z=I[M],D=S[z._id],O=0,V=T[M];if(V){for(var q=null,j=V.length-1;j>=0;j--)if(V[j]<M){q=q||z.getInteriorPoint();var W=I[V[j]];if(W.contains(q)){var Q=S[W._id];O=Q.winding,D.winding+=O,D.container=Q.exclude?Q.container:W;break}}}if(b(D.winding)===b(O))D.exclude=!0,p[D.index]=null;else{var ht=D.container;z.setClockwise(ht?!ht.isClockwise():f)}}}return p}function d(p,b,f){var y=b&&[],S=1e-8,I=1-S,C=!1,T=f||[],M=f&&{},z,D,O;function V(At){return At._path._id+"."+At._segment1._index}for(var q=(f&&f.length)-1;q>=0;q--){var j=f[q];j._path&&(M[V(j)]=!0)}for(var q=p.length-1;q>=0;q--){var W=p[q],Q=W._time,ht=Q,ft=b&&!b(W),j=W._curve,dt;if(j&&(j!==D?(C=!j.hasHandles()||M&&M[V(j)],z=[],O=null,D=j):O>=S&&(Q/=O)),ft){z&&z.push(W);continue}else b&&y.unshift(W);if(O=ht,Q<S)dt=j._segment1;else if(Q>I)dt=j._segment2;else{var yt=j.divideAtTime(Q,!0);C&&T.push(j,yt),dt=yt._segment1;for(var et=z.length-1;et>=0;et--){var rt=z[et];rt._time=(rt._time-Q)/(1-Q)}}W._setSegment(dt);var vt=dt._intersection,xt=W._intersection;if(vt){_(vt,xt);for(var bt=vt;bt;)_(bt._intersection,vt),bt=bt._next}else dt._intersection=xt}return f||v(T),y||p}function w(p,b,f,y,S){var I=Array.isArray(b)?b:b[f?"hor":"ver"],C=f?1:0,T=C^1,M=[p.x,p.y],z=M[C],D=M[T],O=1e-9,V=1e-6,q=z-O,j=z+O,W=0,Q=0,ht=0,ft=0,dt=!1,yt=!1,et=1,rt=[],vt,xt;function bt(Ht){var te=Ht[T+0],_e=Ht[T+6];if(!(D<t(te,_e)||D>e(te,_e))){var he=Ht[C+0],ve=Ht[C+2],Le=Ht[C+4],we=Ht[C+6];if(te===_e){(he<j&&we>q||we<j&&he>q)&&(dt=!0);return}var Ce=D===te?0:D===_e||q>e(he,ve,Le,we)||j<t(he,ve,Le,we)?1:gt.solveCubic(Ht,T,D,rt,0,1)>0?rt[0]:1,de=Ce===0?he:Ce===1?we:gt.getPoint(Ht,Ce)[f?"y":"x"],Mt=te>_e?1:-1,Re=vt[T]>vt[T+6]?1:-1,Se=vt[C+6];return D!==te?(de<q?ht+=Mt:de>j?ft+=Mt:dt=!0,de>z-V&&de<z+V&&(et/=2)):(Mt!==Re?he<q?ht+=Mt:he>j&&(ft+=Mt):he!=Se&&(Se<j&&de>j?(ft+=Mt,dt=!0):Se>q&&de<q&&(ht+=Mt,dt=!0)),et/=4),vt=Ht,!S&&de>q&&de<j&&gt.getTangent(Ht,Ce)[f?"x":"y"]===0&&w(p,b,!f,y,!0)}}function At(Ht){var te=Ht[T+0],_e=Ht[T+2],he=Ht[T+4],ve=Ht[T+6];if(D<=e(te,_e,he,ve)&&D>=t(te,_e,he,ve)){for(var Le=Ht[C+0],we=Ht[C+2],Ce=Ht[C+4],de=Ht[C+6],Mt=q>e(Le,we,Ce,de)||j<t(Le,we,Ce,de)?[Ht]:gt.getMonoCurves(Ht,f),Re,Se=0,ti=Mt.length;Se<ti;Se++)if(Re=bt(Mt[Se]))return Re}}for(var It=0,Nt=I.length;It<Nt;It++){var ct=I[It],Pt=ct._path,ne=ct.getValues(),ue;if((!It||I[It-1]._path!==Pt)&&(vt=null,Pt._closed||(xt=gt.getValues(Pt.getLastCurve().getSegment2(),ct.getSegment1(),null,!y),xt[T]!==xt[T+6]&&(vt=xt)),!vt)){vt=ne;for(var fe=Pt.getLastCurve();fe&&fe!==ct;){var $t=fe.getValues();if($t[T]!==$t[T+6]){vt=$t;break}fe=fe.getPrevious()}}if(ue=At(ne))return ue;if(It+1===Nt||I[It+1]._path!==Pt){if(xt&&(ue=At(xt)))return ue;dt&&!ht&&!ft&&(ht=ft=Pt.isClockwise(y)^f?1:-1),W+=ht,Q+=ft,ht=ft=0,dt&&(yt=!0,dt=!1),xt=null}}return W=i(W),Q=i(Q),{winding:e(W,Q),windingL:W,windingR:Q,quality:et,onPath:yt}}function m(p,b,f,y,S){var I=[],C=p,T=0,O;do{var M=p.getCurve();if(M){var z=M.getLength();I.push({segment:p,curve:M,length:z}),T+=z}p=p.getNext()}while(p&&!p._intersection&&p!==C);for(var D=[.5,.25,.75],O={winding:0,quality:-1},V=.001,q=1-V,j=0;j<D.length&&O.quality<.5;j++)for(var z=T*D[j],W=0,Q=I.length;W<Q;W++){var ht=I[W],ft=ht.length;if(z<=ft){var M=ht.curve,dt=M._path,yt=dt._parent,et=yt instanceof Te?yt:dt,rt=J.clamp(M.getTimeAt(z),V,q),vt=M.getPointAtTime(rt),xt=i(M.getTangentAtTime(rt).y)<Math.SQRT1_2,bt=null;if(S.subtract&&f){var At=et===b?f:b,It=At._getWinding(vt,xt,!0);if(et===b&&It.winding||et===f&&!It.winding){if(It.quality<1)continue;bt={winding:0,quality:1}}}bt=bt||w(vt,y[dt._id][M.getIndex()],xt,!0),bt.quality>O.quality&&(O=bt);break}z-=ft}for(var W=I.length-1;W>=0;W--)I[W].segment._winding=O}function k(p,b){var f=[],y;function S(Nt){var ct;return!!(Nt&&!Nt._visited&&(!b||b[(ct=Nt._winding||{}).winding]&&!(b.unite&&ct.winding===2&&ct.windingL&&ct.windingR)))}function I(Nt){if(Nt){for(var ct=0,Pt=y.length;ct<Pt;ct++)if(Nt===y[ct])return!0}return!1}function C(Nt){for(var ct=Nt._segments,Pt=0,ne=ct.length;Pt<ne;Pt++)ct[Pt]._visited=!0}function T(Nt,ct){var Pt=Nt._intersection,ne=Pt,ue=[];ct&&(y=[Nt]);function fe($t,Ht){for(;$t&&$t!==Ht;){var te=$t._segment,_e=te&&te._path;if(_e){var he=te.getNext()||_e.getFirstSegment(),ve=he._intersection;te!==Nt&&(I(te)||I(he)||he&&S(te)&&(S(he)||ve&&S(ve._segment)))&&ue.push(te),ct&&y.push(te)}$t=$t._next}}if(Pt){for(fe(Pt);Pt&&Pt._previous;)Pt=Pt._previous;fe(Pt,ne)}return ue}p.sort(function(Nt,ct){var Pt=Nt._intersection,ne=ct._intersection,ue=!!(Pt&&Pt._overlap),fe=!!(ne&&ne._overlap),$t=Nt._path,Ht=ct._path;return ue^fe?ue?1:-1:!Pt^!ne?Pt?1:-1:$t!==Ht?$t._id-Ht._id:Nt._index-ct._index});for(var M=0,z=p.length;M<z;M++){var D=p[M],O=S(D),V=null,q=!1,j=!0,W=[],Q,ht,ft;if(O&&D._path._overlapsOnly){var dt=D._path,yt=D._intersection._segment._path;dt.compare(yt)&&(dt.getArea()&&f.push(dt.clone(!1)),C(dt),C(yt),O=!1)}for(;O;){var et=!V,rt=T(D,et),vt=rt.shift(),q=!et&&(I(D)||I(vt)),xt=!q&&vt;if(et&&(V=new Dt(P.NO_INSERT),Q=null),q){(D.isFirst()||D.isLast())&&(j=D._path._closed),D._visited=!0;break}if(xt&&Q&&(W.push(Q),Q=null),Q||(xt&&rt.push(D),Q={start:V._segments.length,crossings:rt,visited:ht=[],handleIn:ft}),xt&&(D=vt),!S(D)){V.removeSegments(Q.start);for(var bt=0,At=ht.length;bt<At;bt++)ht[bt]._visited=!1;ht.length=0;do D=Q&&Q.crossings.shift(),(!D||!D._path)&&(D=null,Q=W.pop(),Q&&(ht=Q.visited,ft=Q.handleIn));while(Q&&!S(D));if(!D)break}var It=D.getNext();V.add(new Tt(D._point,ft,It&&D._handleOut)),D._visited=!0,ht.push(D),D=It||D._path.getFirstSegment(),ft=It&&It._handleIn}q&&(j&&(V.getFirstSegment().setHandleIn(ft),V.setClosed(j)),V.getArea()!==0&&f.push(V))}return f}return{_getWinding:function(p,b,f){return w(p,this.getCurves(),b,f)},unite:function(p,b){return l(this,p,"unite",b)},intersect:function(p,b){return l(this,p,"intersect",b)},subtract:function(p,b){return l(this,p,"subtract",b)},exclude:function(p,b){return l(this,p,"exclude",b)},divide:function(p,b){return b&&(b.trace==!1||b.stroke)?c(this,p,"divide"):h([this.subtract(p,b),this.intersect(p,b)],!0,this,p,b)},resolveCrossings:function(){var p=this._children,b=p||[this];function f(Q,ht){var ft=Q&&Q._intersection;return ft&&ft._overlap&&ft._path===ht}var y=!1,S=!1,I=this.getIntersections(null,function(Q){return Q.hasOverlap()&&(y=!0)||Q.isCrossing()&&(S=!0)}),C=y&&S&&[];if(I=Ie.expand(I),y)for(var T=d(I,function(Q){return Q.hasOverlap()},C),M=T.length-1;M>=0;M--){var z=T[M],D=z._path,O=z._segment,V=O.getPrevious(),q=O.getNext();f(V,D)&&f(q,D)&&(O.remove(),V._handleOut._set(0,0),q._handleIn._set(0,0),V!==O&&!V.getCurve().hasLength()&&(q._handleIn.set(V._handleIn),V.remove()))}S&&(d(I,y&&function(Q){var ht=Q.getCurve(),ft=Q.getSegment(),dt=Q._intersection,yt=dt._curve,et=dt._segment;if(ht&&yt&&ht._path&&yt._path)return!0;ft&&(ft._intersection=null),et&&(et._intersection=null)},C),C&&v(C),b=k(E.each(b,function(Q){E.push(this,Q._segments)},[])));var j=b.length,W;return j>1&&p?(b!==p&&this.setChildren(b),W=this):j===1&&!p&&(b[0]!==this&&this.setSegments(b[0].removeSegments()),W=this),W||(W=new Te(P.NO_INSERT),W.addChildren(b),W=W.reduce(),W.copyAttributes(this),this.replaceWith(W)),W},reorient:function(p,b){var f=this._children;return f&&f.length?this.setChildren(g(this.removeChildren(),function(y){return!!(p?y:y&1)},b)):b!==L&&this.setClockwise(b),this},getInteriorPoint:function(){var p=this.getBounds(),b=p.getCenter(!0);if(!this.contains(b)){for(var f=this.getCurves(),y=b.y,S=[],I=[],C=0,T=f.length;C<T;C++){var M=f[C].getValues(),z=M[1],D=M[3],O=M[5],V=M[7];if(y>=t(z,D,O,V)&&y<=e(z,D,O,V))for(var q=gt.getMonoCurves(M),j=0,W=q.length;j<W;j++){var Q=q[j],ht=Q[1],ft=Q[7];if(ht!==ft&&(y>=ht&&y<=ft||y>=ft&&y<=ht)){var dt=y===ht?Q[0]:y===ft?Q[6]:gt.solveCubic(Q,1,y,I,0,1)===1?gt.getPoint(Q,I[0]).x:(Q[0]+Q[6])/2;S.push(dt)}}}S.length>1&&(S.sort(function(yt,et){return yt-et}),b.x=(S[0]+S[1])/2)}return b}}});var De=E.extend({_class:"PathFlattener",initialize:function(t,e,i,n,s){var a=[],h=[],u=0,l=1/(i||32),c=t._segments,_=c[0],v;function g(k,p){var b=gt.getValues(k,p,s);a.push(b),d(b,k._index,0,1)}function d(k,p,b,f){if(f-b>l&&!(n&&gt.isStraight(k))&&!gt.isFlatEnough(k,e||.25)){var y=gt.subdivide(k,.5),S=(b+f)/2;d(y[0],p,b,S),d(y[1],p,S,f)}else{var I=k[6]-k[0],C=k[7]-k[1],T=Math.sqrt(I*I+C*C);T>0&&(u+=T,h.push({offset:u,curve:k,index:p,time:f}))}}for(var w=1,m=c.length;w<m;w++)v=c[w],g(_,v),_=v;t._closed&&g(v||_,c[0]),this.curves=a,this.parts=h,this.length=u,this.index=0},_get:function(t){for(var e=this.parts,i=e.length,n,s=this.index;n=s,!(!s||e[--s].offset<t););for(;n<i;n++){var a=e[n];if(a.offset>=t){this.index=n;var h=e[n-1],u=h&&h.index===a.index?h.time:0,l=h?h.offset:0;return{index:a.index,time:u+(a.time-u)*(t-l)/(a.offset-l)}}}return{index:e[i-1].index,time:1}},drawPart:function(t,e,i){for(var n=this._get(e),s=this._get(i),a=n.index,h=s.index;a<=h;a++){var u=gt.getPart(this.curves[a],a===n.index?n.time:0,a===s.index?s.time:1);a===n.index&&t.moveTo(u[0],u[1]),t.bezierCurveTo.apply(t,u.slice(2))}}},E.each(gt._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this._get(e);return gt[t](this.curves[i.index],i.time)}},{})),Qe=E.extend({initialize:function(t){for(var e=this.points=[],i=t._segments,n=t._closed,s=0,a,h=i.length;s<h;s++){var u=i[s].point;(!a||!a.equals(u))&&e.push(a=u.clone())}n&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=n},fit:function(t){var e=this.points,i=e.length,n=null;return i>0&&(n=[new Tt(e[0])],i>1&&(this.fitCubic(n,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(t,e,i,n,s,a){var h=this.points;if(n-i===1){var u=h[i],l=h[n],c=u.getDistance(l)/3;this.addCurve(t,[u,u.add(s.normalize(c)),l.add(a.normalize(c)),l]);return}for(var _=this.chordLengthParameterize(i,n),v=Math.max(e,e*e),g,d=!0,w=0;w<=4;w++){var m=this.generateBezier(i,n,_,s,a),k=this.findMaxError(i,n,m,_);if(k.error<e&&d){this.addCurve(t,m);return}if(g=k.index,k.error>=v)break;d=this.reparameterize(i,n,_,m),v=k.error}var p=h[g-1].subtract(h[g+1]);this.fitCubic(t,e,i,g,s,p),this.fitCubic(t,e,g,n,p.negate(),a)},addCurve:function(t,e){var i=t[t.length-1];i.setHandleOut(e[1].subtract(e[0])),t.push(new Tt(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,n,s){for(var a=1e-12,h=Math.abs,u=this.points,l=u[t],c=u[e],_=[[0,0],[0,0]],v=[0,0],g=0,d=e-t+1;g<d;g++){var w=i[g],m=1-w,k=3*w*m,p=m*m*m,b=k*m,f=k*w,y=w*w*w,S=n.normalize(b),I=s.normalize(f),C=u[t+g].subtract(l.multiply(p+b)).subtract(c.multiply(f+y));_[0][0]+=S.dot(S),_[0][1]+=S.dot(I),_[1][0]=_[0][1],_[1][1]+=I.dot(I),v[0]+=S.dot(C),v[1]+=I.dot(C)}var T=_[0][0]*_[1][1]-_[1][0]*_[0][1],M,z;if(h(T)>a){var D=_[0][0]*v[1]-_[1][0]*v[0],O=v[0]*_[1][1]-v[1]*_[0][1];M=O/T,z=D/T}else{var V=_[0][0]+_[0][1],q=_[1][0]+_[1][1];M=z=h(V)>a?v[0]/V:h(q)>a?v[1]/q:0}var j=c.getDistance(l),W=a*j,Q,ht;if(M<W||z<W)M=z=j/3;else{var ft=c.subtract(l);Q=n.normalize(M),ht=s.normalize(z),Q.dot(ft)-ht.dot(ft)>j*j&&(M=z=j/3,Q=ht=null)}return[l,l.add(Q||n.normalize(M)),c.add(ht||s.normalize(z)),c]},reparameterize:function(t,e,i,n){for(var s=t;s<=e;s++)i[s-t]=this.findRoot(n,this.points[s],i[s-t]);for(var s=1,a=i.length;s<a;s++)if(i[s]<=i[s-1])return!1;return!0},findRoot:function(t,e,i){for(var n=[],s=[],a=0;a<=2;a++)n[a]=t[a+1].subtract(t[a]).multiply(3);for(var a=0;a<=1;a++)s[a]=n[a+1].subtract(n[a]).multiply(2);var h=this.evaluate(3,t,i),u=this.evaluate(2,n,i),l=this.evaluate(1,s,i),c=h.subtract(e),_=u.dot(u)+c.dot(l);return J.isMachineZero(_)?i:i-c.dot(u)/_},evaluate:function(t,e,i){for(var n=e.slice(),s=1;s<=t;s++)for(var a=0;a<=t-s;a++)n[a]=n[a].multiply(1-i).add(n[a+1].multiply(i));return n[0]},chordLengthParameterize:function(t,e){for(var i=[0],n=t+1;n<=e;n++)i[n-t]=i[n-t-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,s=e-t;n<=s;n++)i[n]/=i[s];return i},findMaxError:function(t,e,i,n){for(var s=Math.floor((e-t+1)/2),a=0,h=t+1;h<e;h++){var u=this.evaluate(3,i,n[h-t]),l=u.subtract(this.points[h]),c=l.x*l.x+l.y*l.y;c>=a&&(a=c,s=h)}return{error:a,index:s}}}),je=P.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var i=e&&E.isPlainObject(e)&&e.x===L&&e.y===L;this._initialize(i&&e,!i&&R.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),oi=je.extend({_class:"PointText",initialize:function(){je.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new _t(t.x,t.y,this,"setPoint")},setPoint:function(){var t=R.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var n=this._lines,s=this._style,a=s.hasFill(),h=s.hasStroke(),u=s.getLeading(),l=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var c=0,_=n.length;c<_;c++){t.shadowColor=l;var v=n[c];a&&(t.fillText(v,0,0),t.shadowColor="rgba(0,0,0,0)"),h&&t.strokeText(v,0,0),t.translate(0,u)}}},_getBounds:function(t,e){var i=this._style,n=this._lines,s=n.length,a=i.getJustification(),h=i.getLeading(),u=this.getView().getTextWidth(i.getFontStyle(),n),l=0;a!=="left"&&(l-=u/(a==="center"?2:1));var c=new mt(l,s?-.75*h:0,u,s*h);return t?t._transformBounds(c,c):c}}),re=E.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},i={transparent:[0,0,0,0]},n;function s(u){var l=u.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||u.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),c="rgb",_;if(l){var v=l[4]?4:3;_=new Array(v);for(var g=0;g<v;g++){var d=l[g+1];_[g]=parseInt(d.length==1?d+d:d,16)/255}}else if(l=u.match(/^(rgb|hsl)a?\((.*)\)$/)){c=l[1],_=l[2].trim().split(/[,\s]+/g);for(var w=c==="hsl",g=0,m=Math.min(_.length,4);g<m;g++){var k=_[g],d=parseFloat(k);if(w)if(g===0){var p=k.match(/([a-z]*)$/)[1];d*={turn:360,rad:180/Math.PI,grad:.9}[p]||1}else g<3&&(d/=100);else g<3&&(d/=/%$/.test(k)?100:255);_[g]=d}}else{var b=i[u];if(!b)if(U){n||(n=Zt.getContext(1,1,{willReadFrequently:!0}),n.globalCompositeOperation="copy"),n.fillStyle="rgba(0,0,0,0)",n.fillStyle=u,n.fillRect(0,0,1,1);var f=n.getImageData(0,0,1,1).data;b=i[u]=[f[0]/255,f[1]/255,f[2]/255]}else b=[0,0,0];_=b.slice()}return[c,_]}var a=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],h={"rgb-hsb":function(u,l,c){var _=Math.max(u,l,c),v=Math.min(u,l,c),g=_-v,d=g===0?0:(_==u?(l-c)/g+(l<c?6:0):_==l?(c-u)/g+2:(u-l)/g+4)*60;return[d,_===0?0:g/_,_]},"hsb-rgb":function(u,l,c){u=(u/60%6+6)%6;var v=Math.floor(u),_=u-v,v=a[v],g=[c,c*(1-l),c*(1-l*_),c*(1-l*(1-_))];return[g[v[0]],g[v[1]],g[v[2]]]},"rgb-hsl":function(u,l,c){var _=Math.max(u,l,c),v=Math.min(u,l,c),g=_-v,d=g===0,w=d?0:(_==u?(l-c)/g+(l<c?6:0):_==l?(c-u)/g+2:(u-l)/g+4)*60,m=(_+v)/2,k=d?0:m<.5?g/(_+v):g/(2-_-v);return[w,k,m]},"hsl-rgb":function(u,l,c){if(u=(u/360%1+1)%1,l===0)return[c,c,c];for(var _=[u+1/3,u,u-1/3],v=c<.5?c*(1+l):c+l-c*l,g=2*c-v,d=[],w=0;w<3;w++){var m=_[w];m<0&&(m+=1),m>1&&(m-=1),d[w]=6*m<1?g+(v-g)*6*m:2*m<1?v:3*m<2?g+(v-g)*(2/3-m)*6:g}return d},"rgb-gray":function(u,l,c){return[u*.2989+l*.587+c*.114]},"gray-rgb":function(u){return[u,u,u]},"gray-hsb":function(u){return[0,0,u]},"gray-hsl":function(u){return[0,0,u]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return E.each(t,function(u,l){e[l]=[],E.each(u,function(c,_){var v=E.capitalize(c),g=/^(hue|saturation)$/.test(c),d=e[l][_]=l==="gradient"?c==="gradient"?function(w){var m=this._components[0];return w=ui.read(Array.isArray(w)?w:arguments,0,{readNull:!0}),m!==w&&(m&&m._removeOwner(this),w&&w._addOwner(this)),w}:function(){return R.read(arguments,0,{readNull:c==="highlight",clone:!0})}:function(w){return w==null||isNaN(w)?0:+w};this["get"+v]=function(){return this._type===l||g&&/^hs[bl]$/.test(this._type)?this._components[_]:this._convert(l)[_]},this["set"+v]=function(w){this._type!==l&&!(g&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(l),this._properties=t[l],this._type=l),this._components[_]=d.call(this,w),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function u(l){var c=arguments,_=this.__read,v=0,g,d,w,m;Array.isArray(l)&&(c=l,l=c[0]);var k=l!=null&&typeof l;if(k==="string"&&l in t&&(g=l,l=c[1],Array.isArray(l)?(d=l,w=c[2]):(_&&(v=1),c=E.slice(c,1),k=typeof l)),!d){if(m=k==="number"?c:k==="object"&&l.length!=null?l:null,m){g||(g=m.length>=3?"rgb":"gray");var p=t[g].length;w=m[p],_&&(v+=m===arguments?p+(w!=null?1:0):1),m.length>p&&(m=E.slice(m,0,p))}else if(k==="string"){var b=s(l);g=b[0],d=b[1],d.length===4&&(w=d[3],d.length--)}else if(k==="object")if(l.constructor===u){if(g=l._type,d=l._components.slice(),w=l._alpha,g==="gradient")for(var f=1,y=d.length;f<y;f++){var S=d[f];S&&(d[f]=S.clone())}}else if(l.constructor===ui)g="gradient",m=c;else{g="hue"in l?"lightness"in l?"hsl":"hsb":"gradient"in l||"stops"in l||"radial"in l?"gradient":"gray"in l?"gray":"rgb";var I=t[g],C=e[g];this._components=d=[];for(var f=0,y=I.length;f<y;f++){var T=l[I[f]];T==null&&!f&&g==="gradient"&&"stops"in l&&(T={stops:l.stops,radial:l.radial}),T=C[f].call(this,T),T!=null&&(d[f]=T)}w=l.alpha}_&&g&&(v=1)}if(this._type=g||"rgb",!d){this._components=d=[];for(var C=e[this._type],f=0,y=C.length;f<y;f++){var T=C[f].call(this,m&&m[f]);T!=null&&(d[f]=T)}}return this._components=d,this._properties=t[this._type],this._alpha=w,_&&(this.__read=v),this},set:"#initialize",_serialize:function(u,l){var c=this.getComponents();return E.serialize(/^(gray|rgb)$/.test(this._type)?c:[this._type].concat(c),u,!0,l)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(u){var l;return this._type===u?this._components.slice():(l=h[this._type+"-"+u])?l.apply(this,this._components):h["rgb-"+u].apply(this,h[this._type+"-rgb"].apply(this,this._components))},convert:function(u){return new re(u,this._convert(u),this._alpha)},getType:function(){return this._type},setType:function(u){this._components=this._convert(u),this._properties=t[u],this._type=u},getComponents:function(){var u=this._components.slice();return this._alpha!=null&&u.push(this._alpha),u},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(u){this._alpha=u==null?null:Math.min(Math.max(u,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(u){var l=E.isPlainValue(u,!0)?re.read(arguments):u;return l===this||l&&this._class===l._class&&this._type===l._type&&this.getAlpha()===l.getAlpha()&&E.equals(this._components,l._components)||!1},toString:function(){for(var u=this._properties,l=[],c=this._type==="gradient",_=G.instance,v=0,g=u.length;v<g;v++){var d=this._components[v];d!=null&&l.push(u[v]+": "+(c?d:_.number(d)))}return this._alpha!=null&&l.push("alpha: "+_.number(this._alpha)),"{ "+l.join(", ")+" }"},toCSS:function(u){var l=this._convert("rgb"),c=u||this._alpha==null?1:this._alpha;function _(v){return Math.round((v<0?0:v>1?1:v)*255)}return l=[_(l[0]),_(l[1]),_(l[2])],c<1&&l.push(c<0?0:c),u?"#"+((1<<24)+(l[0]<<16)+(l[1]<<8)+l[2]).toString(16).slice(1):(l.length==4?"rgba(":"rgb(")+l.join(",")+")"},toCanvasStyle:function(u,l){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var c=this._components,_=c[0],v=_._stops,g=c[1],d=c[2],w=c[3],m=l&&l.inverted(),k;if(m&&(g=m._transformPoint(g),d=m._transformPoint(d),w&&(w=m._transformPoint(w))),_._radial){var p=d.getDistance(g);if(w){var b=w.subtract(g);b.getLength()>p&&(w=g.add(b.normalize(p-.1)))}var f=w||g;k=u.createRadialGradient(f.x,f.y,0,g.x,g.y,p)}else k=u.createLinearGradient(g.x,g.y,d.x,d.y);for(var y=0,S=v.length;y<S;y++){var I=v[y],C=I._offset;k.addColorStop(C??y/(S-1),I._color.toCanvasStyle())}return this._canvasStyle=k},transform:function(u){if(this._type==="gradient"){for(var l=this._components,c=1,_=l.length;c<_;c++){var v=l[c];u._transformPoint(v,v,!0)}this._changed()}},statics:{_types:t,random:function(){var u=Math.random;return new re(u(),u(),u())},_setOwner:function(u,l,c){return u&&(u._owner&&l&&u._owner!==l&&(u=u.clone()),!u._owner^!l&&(u._owner=l||null,u._setter=c||null)),u}}})},new function(){var t={add:function(e,i){return e+i},subtract:function(e,i){return e-i},multiply:function(e,i){return e*i},divide:function(e,i){return e/i}};return E.each(t,function(e,i){this[i]=function(n){n=re.read(arguments);for(var s=this._type,a=this._components,h=n._convert(s),u=0,l=a.length;u<l;u++)h[u]=e(a[u],h[u]);return new re(s,h,this._alpha!=null?e(this._alpha,n.getAlpha()):null)}},{})}),ui=E.extend({_class:"Gradient",initialize:function(e,i){this._id=st.get(),e&&E.isPlainObject(e)&&(this.set(e),e=i=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof i=="string"&&i==="radial"||i||!1)},_serialize:function(t,e){return e.add(this,function(){return E.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=L))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new ui(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,n=e.length;i<n;i++)e[i]._owner=L;e=this._stops=mi.readList(t,0,{clone:!0});for(var i=0,n=e.length;i<n;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,n=e.length;if(n===i.length){for(var s=0;s<n;s++)if(!e[s].equals(i[s]))return!1;return!0}}return!1}}),mi=E.extend({_class:"GradientStop",initialize:function(e,i){var n=e,s=i;typeof e=="object"&&i===L&&(Array.isArray(e)&&typeof e[0]!="number"?(n=e[0],s=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(n=e.color,s=e.offset||e.rampPoint||0)),this.setColor(n),this.setOffset(s)},clone:function(){return new mi(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,n=this._offset;return E.serialize(n==null?[i]:[i,n],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){re._setOwner(this._color,null),this._color=re._setOwner(re.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),qe=E.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new R,selectedColor:null},e=E.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=E.set({},e,{fillColor:new re}),n={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},a={_class:"Style",beans:!0,initialize:function(u,l,c){this._values={},this._owner=l,this._project=l&&l._project||c||St.project,this._defaults=!l||l instanceof Kt?e:l instanceof je?i:t,u&&this.set(u)}};return E.each(e,function(h,u){var l=/Color$/.test(u),c=u==="shadowOffset",_=E.capitalize(u),v=n[u],g="set"+_,d="get"+_;a[g]=function(w){var m=this._owner,k=m&&m._children,p=k&&k.length>0&&!(m instanceof Te);if(p)for(var b=0,f=k.length;b<f;b++)k[b]._style[g](w);if((u==="selectedColor"||!p)&&u in this._defaults){var y=this._values[u];y!==w&&(l&&(y&&(re._setOwner(y,null),y._canvasStyle=null),w&&w.constructor===re&&(w=re._setOwner(w,m,p&&g))),this._values[u]=w,m&&m._changed(v||129))}},a[d]=function(w){var m=this._owner,k=m&&m._children,p=k&&k.length>0&&!(m instanceof Te),b;if(p&&!w)for(var f=0,y=k.length;f<y;f++){var S=k[f]._style[d]();if(!f)b=S;else if(!E.equals(b,S))return L}else if(u in this._defaults){var b=this._values[u];if(b===L)b=this._defaults[u],b&&b.clone&&(b=b.clone());else{var I=l?re:c?R:null;I&&!(b&&b.constructor===I)&&(this._values[u]=b=I.read([b],0,{readNull:!0,clone:!0}))}}return b&&l&&(b=re._setOwner(b,m,p&&g)),b},s[d]=function(w){return this._style[d](w)},s[g]=function(w){this._style[g](w)}}),E.each({Font:"FontFamily",WindingRule:"FillRule"},function(h,u){var l="get"+u,c="set"+u;a[l]=s[l]="#get"+h,a[c]=s[c]="#set"+h}),P.inject(s),a},{set:function(t){var e=t instanceof qe,i=e?t._values:t;if(i){for(var n in i)if(n in this._defaults){var s=i[n];this[n]=s&&e&&s.clone?s.clone():s}}},equals:function(t){function e(i,n,s){var a=i._values,h=n._values,u=n._defaults;for(var l in a){var c=a[l],_=h[l];if(!(s&&l in h)&&!E.equals(c,_===L?u[l]:_))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),e??i*1.2}}),Xt=new function(){function t(e,i,n,s){for(var a=["","webkit","moz","Moz","ms","o"],h=i[0].toUpperCase()+i.substring(1),u=0;u<6;u++){var l=a[u],c=l?l+h:i;if(c in e){if(n)e[c]=s;else return e[c];break}}}return{getStyles:function(e){var i=e&&e.nodeType!==9?e.ownerDocument:e,n=i&&i.defaultView;return n&&n.getComputedStyle(e,"")},getBounds:function(e,i){var n=e.ownerDocument,s=n.body,a=n.documentElement,h;try{h=e.getBoundingClientRect()}catch{h={left:0,top:0,width:0,height:0}}var u=h.left-(a.clientLeft||s.clientLeft||0),l=h.top-(a.clientTop||s.clientTop||0);if(!i){var c=n.defaultView;u+=c.pageXOffset||a.scrollLeft||s.scrollLeft,l+=c.pageYOffset||a.scrollTop||s.scrollTop}return new mt(u,l,h.width,h.height)},getViewportBounds:function(e){var i=e.ownerDocument,n=i.defaultView,s=i.documentElement;return new mt(0,0,n.innerWidth||s.clientWidth,n.innerHeight||s.clientHeight)},getOffset:function(e,i){return Xt.getBounds(e,i).getPoint()},getSize:function(e){return Xt.getBounds(e,!0).getSize()},isInvisible:function(e){return Xt.getSize(e).equals(new ot(0,0))},isInView:function(e){return!Xt.isInvisible(e)&&Xt.getViewportBounds(e).intersects(Xt.getBounds(e,!0))},isInserted:function(e){return X.body.contains(e)},getPrefixed:function(e,i){return e&&t(e,i)},setPrefixed:function(e,i,n){if(typeof i=="object")for(var s in i)t(e,s,!0,i[s]);else t(e,i,!0,n)}}},Jt={add:function(t,e){if(t)for(var i in e)for(var n=e[i],s=i.split(/[\s,]+/g),a=0,h=s.length;a<h;a++){var u=s[a],l=t===X&&(u==="touchstart"||u==="touchmove")?{passive:!1}:!1;t.addEventListener(u,n,l)}},remove:function(t,e){if(t)for(var i in e)for(var n=e[i],s=i.split(/[\s,]+/g),a=0,h=s.length;a<h;a++)t.removeEventListener(s[a],n,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new R(e.pageX||e.clientX+X.documentElement.scrollLeft,e.pageY||e.clientY+X.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Jt.getPoint(t).subtract(Xt.getOffset(e||Jt.getTarget(t)))}};Jt.requestAnimationFrame=new function(){var t=Xt.getPrefixed(U,"requestAnimationFrame"),e=!1,i=[],n;function s(){var a=i;i=[];for(var h=0,u=a.length;h<u;h++)a[h]();e=t&&i.length,e&&t(s)}return function(a){i.push(a),t?e||(t(s),e=!0):n||(n=setInterval(s,1e3/60))}};var Yt=E.extend(nt,{_class:"View",initialize:function t(e,i){function n(v){return i[v]||parseInt(i.getAttribute(v),10)}function s(){var v=Xt.getSize(i);return v.isNaN()||v.isZero()?new ot(n("width"),n("height")):v}var a;if(U&&i){this._id=i.getAttribute("id"),this._id==null&&i.setAttribute("id",this._id="paper-view-"+t._id++),Jt.add(i,this._viewEvents);var h="none";if(Xt.setPrefixed(i.style,{userDrag:h,userSelect:h,touchCallout:h,contentZooming:h,tapHighlightColor:"rgba(0,0,0,0)"}),F.hasAttribute(i,"resize")){var u=this;Jt.add(U,this._windowEvents={resize:function(){u.setViewSize(s())}})}if(a=s(),F.hasAttribute(i,"stats")&&typeof Stats<"u"){this._stats=new Stats;var l=this._stats.domElement,c=l.style,_=Xt.getOffset(i);c.position="absolute",c.left=_.x+"px",c.top=_.y+"px",X.body.appendChild(l)}}else a=new ot(i),i=null;this._project=e,this._scope=e._scope,this._element=i,this._pixelRatio||(this._pixelRatio=U&&U.devicePixelRatio||1),this._setElementSize(a.width,a.height),this._viewSize=a,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new kt)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!St.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Yt._focused===this&&(Yt._focused=null),Yt._views.splice(Yt._views.indexOf(this),1),delete Yt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Jt.remove(this._element,this._viewEvents),Jt.remove(U,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:E.each(P._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Jt.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;(!Xt.getPrefixed(X,"hidden")||F.getAttribute(e,"keepalive")==="true")&&Xt.isInView(e)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){St=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new E({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete i[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new E(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=L},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new Ct(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=ot.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new mt(new R,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Xt.isInView(this._element)},isInserted:function(){return Xt.isInserted(this._element)},getPixelSize:function(t){var e=this._element,i;if(e){var n=e.parentNode,s=X.createElement("div");s.style.fontSize=t,n.appendChild(s),i=parseFloat(Xt.getStyles(s).fontSize),n.removeChild(s)}else i=parseFloat(i);return i},getTextWidth:function(t,e){return 0}},E.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var i=arguments,n=(e?E:R).read(i),s=R.read(i,0,{readNull:!0});return this.transform(new kt()[t](n,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new kt;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=R.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new kt().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();e!=null&&t!=null&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new _t(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=R.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(R.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(R.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(R.read(arguments))},getEventPoint:function(t){return this.viewToProject(Jt.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){X&&typeof e=="string"&&(e=X.getElementById(e));var i=U?Ti:Yt;return new i(t,e)}}},new function(){if(!U)return;var t,e,i=!1,n=!1;function s(O){var V=Jt.getTarget(O);return V.getAttribute&&Yt._viewsById[V.getAttribute("id")]}function a(){var O=Yt._focused;if(!O||!O.isVisible()){for(var V=0,q=Yt._views.length;V<q;V++)if((O=Yt._views[V]).isVisible()){Yt._focused=e=O;break}}}function h(O,V,q){O._handleMouseEvent("mousemove",V,q)}var u=U.navigator,l,c,_;u.pointerEnabled||u.msPointerEnabled?(l="pointerdown MSPointerDown",c="pointermove MSPointerMove",_="pointerup pointercancel MSPointerUp MSPointerCancel"):(l="touchstart",c="touchmove",_="touchend touchcancel","ontouchstart"in U&&u.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(l+=" mousedown",c+=" mousemove",_+=" mouseup"));var v={},g={mouseout:function(O){var V=Yt._focused,q=Jt.getRelatedTarget(O);if(V&&(!q||q.nodeName==="HTML")){var j=Jt.getOffset(O,V._element),W=j.x,Q=Math.abs,ht=Q(W),ft=1<<25,dt=ht-ft;j.x=Q(dt)<ht?dt*(W<0?-1:1):W,h(V,O,V.viewToProject(j))}},scroll:a};v[l]=function(O){var V=Yt._focused=s(O);i||(i=!0,V._handleMouseEvent("mousedown",O))},g[c]=function(O){var V=Yt._focused;if(!n){var q=s(O);q?V!==q&&(V&&h(V,O),t||(t=V),V=Yt._focused=e=q):e&&e===V&&(t&&!t.isInserted()&&(t=null),V=Yt._focused=t,t=null,a())}V&&h(V,O)},g[l]=function(){n=!0},g[_]=function(O){var V=Yt._focused;V&&i&&V._handleMouseEvent("mouseup",O),n=i=!1},Jt.add(X,g),Jt.add(U,{load:a});var d=!1,w=!1,m={doubleclick:"click",mousedrag:"mousemove"},k=!1,p,b,f,y,S,I,C,T;function M(O,V,q,j,W,Q,ht){var ft=!1,dt;function yt(et,rt){if(et.responds(rt)){if(dt||(dt=new Je(rt,j,W,V||et,Q?W.subtract(Q):null)),et.emit(rt,dt)&&(d=!0,dt.prevented&&(w=!0),dt.stopped))return ft=!0}else{var vt=m[rt];if(vt)return yt(et,vt)}}for(;O&&O!==ht&&!yt(O,q);)O=O._parent;return ft}function z(O,V,q,j,W,Q){return O._project.removeOn(q),w=d=!1,S&&M(S,null,q,j,W,Q)||V&&V!==S&&!V.isDescendant(S)&&M(V,null,q==="mousedrag"?"mousemove":q,j,W,Q,S)||M(O,S||V||O,q,j,W,Q)}var D={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:v,_handleMouseEvent:function(O,V,q){var j=this._itemEvents,W=j.native[O],Q=O==="mousemove",ht=this._scope.tool,ft=this;function dt(At){return j.virtual[At]||ft.responds(At)||ht&&ht.responds(At)}Q&&i&&dt("mousedrag")&&(O="mousedrag"),q||(q=this.getEventPoint(V));var yt=this.getBounds().contains(q),et=W&&yt&&ft._project.hitTest(q,{tolerance:0,fill:!0,stroke:!0}),rt=et&&et.item||null,vt=!1,xt={};if(xt[O.substr(5)]=!0,W&&rt!==y&&(y&&M(y,null,"mouseleave",V,q),rt&&M(rt,null,"mouseenter",V,q),y=rt),k^yt&&(M(this,null,yt?"mouseenter":"mouseleave",V,q),vt=!0),(yt||xt.drag)&&!q.equals(b)&&(z(this,rt,Q?O:"mousemove",V,q,b),vt=!0),k=yt,xt.down&&yt||xt.up&&p){if(z(this,rt,O,V,q,p),xt.down){if(T=rt===I&&Date.now()-C<300,f=I=rt,!w&&rt){for(var bt=rt;bt&&!bt.responds("mousedrag");)bt=bt._parent;bt&&(S=rt)}p=q}else xt.up&&(!w&&rt===f&&(C=Date.now(),z(this,rt,T?"doubleclick":"click",V,q,p),T=!1),f=S=null);k=!1,vt=!0}b=q,vt&&ht&&(d=ht._handleMouseEvent(O,V,q,xt)||d),V.cancelable!==!1&&(d&&!xt.move||xt.down&&dt("mouseup"))&&V.preventDefault()},_handleKeyEvent:function(O,V,q,j){var W=this._scope,Q=W.tool,ht;function ft(dt){dt.responds(O)&&(St=W,dt.emit(O,ht=ht||new yi(O,V,q,j)))}this.isVisible()&&(ft(this),Q&&Q.responds(O)&&ft(Q))},_countItemEvent:function(O,V){var q=this._itemEvents,j=q.native,W=q.virtual;for(var Q in D)j[Q]=(j[Q]||0)+(D[Q][O]||0)*V;W[O]=(W[O]||0)+V},statics:{updateFocus:a,_resetState:function(){i=n=d=k=!1,t=e=p=b=f=y=S=I=C=T=null}}}}),Ti=Yt.extend({_class:"CanvasView",initialize:function(e,i){if(!(i instanceof U.HTMLCanvasElement)){var n=ot.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+E.slice(arguments,1));i=Zt.getCanvas(n)}var s=this._context=i.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(F.getAttribute(i,"hidpi"))){var a=U.devicePixelRatio||1,h=Xt.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=a/h}Yt.call(this,e,i),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,i){var n=this._pixelRatio;if(t.base.call(this,e*n,i*n),n!==1){var s=this._element,a=this._context;if(!F.hasAttribute(s,"resize")){var h=s.style;h.width=e+"px",h.height=i+"px"}a.restore(),a.save(),a.scale(n,n)}},getContext:function(){return this._context},getPixelSize:function t(e){var i=St.agent,n;if(i&&i.firefox)n=t.base.call(this,e);else{var s=this._context,a=s.font;s.font=e+" serif",n=parseFloat(s.font),s.font=a}return n},getTextWidth:function(t,e){var i=this._context,n=i.font,s=0;i.font=t;for(var a=0,h=e.length;a<h;a++)s=Math.max(s,i.measureText(e[a]).width);return i.font=n,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),$e=E.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return xi.modifiers}}),yi=$e.extend({_class:"KeyEvent",initialize:function(e,i,n,s){this.type=e,this.event=i,this.key=n,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),xi=new function(){var t={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},i={},n={},s,a,h=new E({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var c=St&&St.agent;return c&&c.mac?this.meta:this.control}}});function u(c){var _=c.key||c.keyIdentifier;return _=/^U\+/.test(_)?String.fromCharCode(parseInt(_.substr(2),16)):/^Arrow[A-Z]/.test(_)?_.substr(5):_==="Unidentified"||_===L?String.fromCharCode(c.keyCode):_,t[_]||(_.length>1?E.hyphenate(_):_.toLowerCase())}function l(c,_,v,g){var d=Yt._focused,w;if(i[_]=c,c?n[_]=v:delete n[_],_.length>1&&(w=E.camelize(_))in h){h[w]=c;var m=St&&St.agent;if(w==="meta"&&m&&m.mac)if(c)s={};else{for(var k in s)k in n&&l(!1,k,s[k],g);s=null}}else c&&s&&(s[_]=v);d&&d._handleKeyEvent(c?"keydown":"keyup",g,_,v)}return Jt.add(X,{keydown:function(c){var _=u(c),v=St&&St.agent;_.length>1||v&&v.chrome&&(c.altKey||v.mac&&c.metaKey||!v.mac&&c.ctrlKey)?l(!0,_,e[_]||(_.length>1?"":_),c):a=_},keypress:function(c){if(a){var _=u(c),v=c.charCode,g=v>=32?String.fromCharCode(v):_.length>1?"":_;_!==a&&(_=g.toLowerCase()),l(!0,_,g,c),a=null}},keyup:function(c){var _=u(c);_ in n&&l(!1,_,n[_],c)}}),Jt.add(U,{blur:function(c){for(var _ in n)l(!1,_,n[_],c)}}),{modifiers:h,isDown:function(c){return!!i[c]}}},Je=$e.extend({_class:"MouseEvent",initialize:function(e,i,n,s,a){this.type=e,this.event=i,this.point=n,this.target=s,this.delta=a},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),bi=$e.extend({_class:"ToolEvent",_item:null,initialize:function(e,i,n){this.tool=e,this.type=i,this.event=n},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),wi=Y.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){Y.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,i,n){St=this._scope,n.drag&&!this.responds(t)&&(t="mousemove");var s=n.move||n.drag,a=this.responds(t),h=this.minDistance,u=this.maxDistance,l=!1,c=this;function _(g,d){var w=i,m=s?c._point:c._downPoint||w;if(s){if(c._moveCount>=0&&w.equals(m))return!1;if(m&&(g!=null||d!=null)){var k=w.subtract(m),p=k.getLength();if(p<(g||0))return!1;d&&(w=m.add(k.normalize(Math.min(p,d))))}c._moveCount++}return c._point=w,c._lastPoint=m||w,n.down&&(c._moveCount=-1,c._downPoint=w,c._downCount++),!0}function v(){a&&(l=c.emit(t,new bi(c,t,e))||l)}if(n.down)_(),v();else if(n.up)_(null,u),v();else if(a)for(;_(h,u);)v();return l}}),hi=E.extend(nt,{_class:"Tween",statics:{easings:new E({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,i,n,s,a,h){this.object=e;var u=typeof a,l=u==="function";this.type=l?u:u==="string"?a:"linear",this.easing=l?a:t.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var c=i||n;this._keys=c?Object.keys(c):[],this._parsedKeys=this._parseKeys(this._keys),this._from=c&&this._getState(i),this._to=c&&this._getState(n),h!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),i=this._keys,n=function(_){return typeof _=="function"?_(e,t):_},s=0,a=i&&i.length;s<a;s++){var h=i[s],u=n(this._from[h]),l=n(this._to[h]),c=u&&l&&u.__add&&l.__add?l.__subtract(u).__multiply(e).__add(u):(l-u)*e+u;this._setProperty(this._parsedKeys[h],c)}this.responds("update")&&this.emit("update",new E({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,i=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(i)},_getState:function(t){for(var e=this._keys,i={},n=0,s=e.length;n<s;n++){var a=e[n],h=this._parsedKeys[a],u=this._getProperty(h),l;if(t){var c=this._resolveValue(u,t[a]);this._setProperty(h,c),l=this._getProperty(h),l=l&&l.clone?l.clone():l,this._setProperty(h,u)}else l=u&&u.clone?u.clone():u;i[a]=l}return i},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&e.length===2){var i=e[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(t,i[0],e[1]):e}else if(typeof e=="string"){var n=e.match(/^[+\-*/]=(.*)/);if(n){var s=JSON.parse(n[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],s)}}}return e},_calculate:function(t,e,i){return St.PaperScript.calculateBinary(t,e,i)},_parseKeys:function(t){for(var e={},i=0,n=t.length;i<n;i++){var s=t[i],a=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[s]=a.split("/")}return e},_getProperty:function(t,e){for(var i=this.object,n=0,s=t.length-(e||0);n<s&&i;n++)i=i[t[n]];return i},_setProperty:function(t,e){var i=this._getProperty(t,1);i&&(i[t[t.length-1]]=e)}}),li={request:function(t){var e=new ut.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,E.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var i=e.status;i===0||i===200?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var i=e.status,n='Could not load "'+t.url+'" (Status: '+i+")";if(t.onError)t.onError(n,i);else throw new Error(n)},e.send(null)}},Zt=E.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,i){if(!U)return null;var n,s=!0;typeof t=="object"&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=X.createElement("canvas"),s=!1);var a=n.getContext("2d",i||{});if(!a)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?s&&a.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),a.save(),n},getContext:function(t,e,i){var n=this.getCanvas(t,e,i);return n?n.getContext("2d",i||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},ci=new function(){var t=Math.min,e=Math.max,i=Math.abs,n,s,a,h,u,l,c,_,v,g,d;function w(S,I,C){return .2989*S+.587*I+.114*C}function m(S,I,C,z){var M=z-w(S,I,C);v=S+M,g=I+M,d=C+M;var z=w(v,g,d),D=t(v,g,d),O=e(v,g,d);if(D<0){var V=z-D;v=z+(v-z)*z/V,g=z+(g-z)*z/V,d=z+(d-z)*z/V}if(O>255){var q=255-z,j=O-z;v=z+(v-z)*q/j,g=z+(g-z)*q/j,d=z+(d-z)*q/j}}function k(S,I,C){return e(S,I,C)-t(S,I,C)}function p(S,I,C,T){var M=[S,I,C],z=e(S,I,C),D=t(S,I,C),O;D=D===S?0:D===I?1:2,z=z===S?0:z===I?1:2,O=t(D,z)===0?e(D,z)===1?2:1:0,M[z]>M[D]?(M[O]=(M[O]-M[D])*T/(M[z]-M[D]),M[z]=T):M[O]=M[z]=0,M[D]=0,v=M[0],g=M[1],d=M[2]}var b={multiply:function(){v=u*n/255,g=l*s/255,d=c*a/255},screen:function(){v=u+n-u*n/255,g=l+s-l*s/255,d=c+a-c*a/255},overlay:function(){v=u<128?2*u*n/255:255-2*(255-u)*(255-n)/255,g=l<128?2*l*s/255:255-2*(255-l)*(255-s)/255,d=c<128?2*c*a/255:255-2*(255-c)*(255-a)/255},"soft-light":function(){var S=n*u/255;v=S+u*(255-(255-u)*(255-n)/255-S)/255,S=s*l/255,g=S+l*(255-(255-l)*(255-s)/255-S)/255,S=a*c/255,d=S+c*(255-(255-c)*(255-a)/255-S)/255},"hard-light":function(){v=n<128?2*n*u/255:255-2*(255-n)*(255-u)/255,g=s<128?2*s*l/255:255-2*(255-s)*(255-l)/255,d=a<128?2*a*c/255:255-2*(255-a)*(255-c)/255},"color-dodge":function(){v=u===0?0:n===255?255:t(255,255*u/(255-n)),g=l===0?0:s===255?255:t(255,255*l/(255-s)),d=c===0?0:a===255?255:t(255,255*c/(255-a))},"color-burn":function(){v=u===255?255:n===0?0:e(0,255-(255-u)*255/n),g=l===255?255:s===0?0:e(0,255-(255-l)*255/s),d=c===255?255:a===0?0:e(0,255-(255-c)*255/a)},darken:function(){v=u<n?u:n,g=l<s?l:s,d=c<a?c:a},lighten:function(){v=u>n?u:n,g=l>s?l:s,d=c>a?c:a},difference:function(){v=u-n,v<0&&(v=-v),g=l-s,g<0&&(g=-g),d=c-a,d<0&&(d=-d)},exclusion:function(){v=u+n*(255-u-u)/255,g=l+s*(255-l-l)/255,d=c+a*(255-c-c)/255},hue:function(){p(n,s,a,k(u,l,c)),m(v,g,d,w(u,l,c))},saturation:function(){p(u,l,c,k(n,s,a)),m(v,g,d,w(u,l,c))},luminosity:function(){m(u,l,c,w(n,s,a))},color:function(){m(n,s,a,w(u,l,c))},add:function(){v=t(u+n,255),g=t(l+s,255),d=t(c+a,255)},subtract:function(){v=e(u-n,0),g=e(l-s,0),d=e(c-a,0)},average:function(){v=(u+n)/2,g=(l+s)/2,d=(c+a)/2},negation:function(){v=255-i(255-n-u),g=255-i(255-s-l),d=255-i(255-a-c)}},f=this.nativeModes=E.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(S){this[S]=!0},{}),y=Zt.getContext(1,1,{willReadFrequently:!0});y&&(E.each(b,function(S,I){var C=I==="darken",T=!1;y.save();try{y.fillStyle=C?"#300":"#a00",y.fillRect(0,0,1,1),y.globalCompositeOperation=I,y.globalCompositeOperation===I&&(y.fillStyle=C?"#a00":"#300",y.fillRect(0,0,1,1),T=y.getImageData(0,0,1,1).data[0]!==C?170:51)}catch{}y.restore(),f[I]=T}),Zt.release(y)),this.process=function(S,I,C,T,M){var z=I.canvas,D=S==="normal";if(D||f[S])C.save(),C.setTransform(1,0,0,1,0,0),C.globalAlpha=T,D||(C.globalCompositeOperation=S),C.drawImage(z,M.x,M.y),C.restore();else{var O=b[S];if(!O)return;for(var V=C.getImageData(M.x,M.y,z.width,z.height),q=V.data,j=I.getImageData(0,0,z.width,z.height).data,W=0,Q=q.length;W<Q;W+=4){n=j[W],u=q[W],s=j[W+1],l=q[W+1],a=j[W+2],c=q[W+2],h=j[W+3],_=q[W+3],O();var ht=h*T/255,ft=1-ht;q[W]=ht*v+ft*u,q[W+1]=ht*g+ft*l,q[W+2]=ht*d+ft*c,q[W+3]=h*T+ft*_}C.putImageData(V,M.x,M.y)}}},Qt=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",n={href:i,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function s(u,l,c){return h(X.createElementNS(t,u),l,c)}function a(u,l){var c=n[l],_=c?u.getAttributeNS(c,l):u.getAttribute(l);return _==="null"?null:_}function h(u,l,c){for(var _ in l){var v=l[_],g=n[_];typeof v=="number"&&c&&(v=c.number(v)),g?u.setAttributeNS(g,_,v):u.setAttribute(_,v)}return u}return{svg:t,xmlns:e,xlink:i,create:s,get:a,set:h}},Ci=E.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof be||t instanceof ae||t instanceof je)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=E.capitalize(e),n=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:n,fromSVG:n&&E.each(n,function(s,a){this[s]=a},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});new function(){var t;function e(b,f,y){var S=new E,I=b.getTranslation();if(f){var C;b.isInvertible()?(b=b._shiftless(),C=b._inverseTransform(I),I=null):C=new R,S[y?"cx":"x"]=C.x,S[y?"cy":"y"]=C.y}if(!b.isIdentity()){var T=b.decompose();if(T){var M=[],z=T.rotation,D=T.scaling,O=T.skewing;I&&!I.isZero()&&M.push("translate("+t.point(I)+")"),z&&M.push("rotate("+t.number(z)+")"),(!J.isZero(D.x-1)||!J.isZero(D.y-1))&&M.push("scale("+t.point(D)+")"),O.x&&M.push("skewX("+t.number(O.x)+")"),O.y&&M.push("skewY("+t.number(O.y)+")"),S.transform=M.join(" ")}else S.transform="matrix("+b.getValues().join(",")+")"}return S}function i(b,f){for(var y=e(b._matrix),S=b._children,I=Qt.create("g",y,t),C=0,T=S.length;C<T;C++){var M=S[C],z=k(M,f);if(z)if(M.isClipMask()){var D=Qt.create("clipPath");D.appendChild(z),w(M,D,"clip"),Qt.set(I,{"clip-path":"url(#"+D.id+")"})}else I.appendChild(z)}return I}function n(b,f){var y=e(b._matrix,!0),S=b.getSize(),I=b.getImage();return y.x-=S.width/2,y.y-=S.height/2,y.width=S.width,y.height=S.height,y.href=f.embedImages==!1&&I&&I.src||b.toDataURL(),Qt.create("image",y,t)}function s(b,f){var y=f.matchShapes;if(y){var S=b.toShape(!1);if(S)return a(S)}var I=b._segments,C=I.length,T,M=e(b._matrix);if(y&&C>=2&&!b.hasHandles())if(C>2){T=b._closed?"polygon":"polyline";for(var z=[],D=0;D<C;D++)z.push(t.point(I[D]._point));M.points=z.join(" ")}else{T="line";var O=I[0]._point,V=I[1]._point;M.set({x1:O.x,y1:O.y,x2:V.x,y2:V.y})}else T="path",M.d=b.getPathData(null,f.precision);return Qt.create(T,M,t)}function a(b){var f=b._type,y=b._radius,S=e(b._matrix,!0,f!=="rectangle");if(f==="rectangle"){f="rect";var I=b._size,C=I.width,T=I.height;S.x-=C/2,S.y-=T/2,S.width=C,S.height=T,y.isZero()&&(y=null)}return y&&(f==="circle"?S.r=y:(S.rx=y.width,S.ry=y.height)),Qt.create(f,S,t)}function h(b,f){var y=e(b._matrix),S=b.getPathData(null,f.precision);return S&&(y.d=S),Qt.create("path",y,t)}function u(b,f){var y=e(b._matrix,!0),S=b._definition,I=d(S,"symbol"),C=S._item,T=C.getStrokeBounds();return I||(I=Qt.create("symbol",{viewBox:t.rectangle(T)}),I.appendChild(k(C,f)),w(S,I,"symbol")),y.href="#"+I.id,y.x+=T.x,y.y+=T.y,y.width=T.width,y.height=T.height,y.overflow="visible",Qt.create("use",y,t)}function l(b){var f=d(b,"color");if(!f){var y=b.getGradient(),S=y._radial,I=b.getOrigin(),C=b.getDestination(),T;if(S){T={cx:I.x,cy:I.y,r:I.getDistance(C)};var M=b.getHighlight();M&&(T.fx=M.x,T.fy=M.y)}else T={x1:I.x,y1:I.y,x2:C.x,y2:C.y};T.gradientUnits="userSpaceOnUse",f=Qt.create((S?"radial":"linear")+"Gradient",T,t);for(var z=y._stops,D=0,O=z.length;D<O;D++){var V=z[D],q=V._color,j=q.getAlpha(),W=V._offset;T={offset:W??D/(O-1)},q&&(T["stop-color"]=q.toCSS(!0)),j<1&&(T["stop-opacity"]=j),f.appendChild(Qt.create("stop",T,t))}w(b,f,"color")}return"url(#"+f.id+")"}function c(b){var f=Qt.create("text",e(b._matrix,!0),t);return f.textContent=b._content,f}var _={Group:i,Layer:i,Raster:n,Path:s,Shape:a,CompoundPath:h,SymbolItem:u,PointText:c};function v(b,f,y){var S={},I=!y&&b.getParent(),C=[];return b._name!=null&&(S.id=b._name),E.each(Ci,function(T){var M=T.get,z=T.type,D=b[M]();if(T.exportFilter?T.exportFilter(b,D):!I||!E.equals(I[M](),D)){if(z==="color"&&D!=null){var O=D.getAlpha();O<1&&(S[T.attribute+"-opacity"]=O)}z==="style"?C.push(T.attribute+": "+D):S[T.attribute]=D==null?"none":z==="color"?D.gradient?l(D):D.toCSS(!0):z==="array"?D.join(","):z==="lookup"?T.toSVG[D]:D}}),C.length&&(S.style=C.join(";")),S.opacity===1&&delete S.opacity,b._visible||(S.visibility="hidden"),Qt.set(f,S,t)}var g;function d(b,f){return g||(g={ids:{},svgs:{}}),b&&g.svgs[f+"-"+(b._id||b.__id||(b.__id=st.get("svg")))]}function w(b,f,y){g||d();var S=g.ids[y]=(g.ids[y]||0)+1;f.id=y+"-"+S,g.svgs[y+"-"+(b._id||b.__id)]=f}function m(b,f){var y=b,S=null;if(g){y=b.nodeName.toLowerCase()==="svg"&&b;for(var I in g.svgs)S||(y||(y=Qt.create("svg"),y.appendChild(b)),S=y.insertBefore(Qt.create("defs"),y.firstChild)),S.appendChild(g.svgs[I]);g=null}return f.asString?new ut.XMLSerializer().serializeToString(y):y}function k(b,f,y){var S=_[b._class],I=S&&S(b,f);if(I){var C=f.onExport;C&&(I=C(b,I,f)||I);var T=JSON.stringify(b._data);T&&T!=="{}"&&T!=="null"&&I.setAttribute("data-paper-data",T)}return I&&v(b,I,y)}function p(b){return b||(b={}),t=new G(b.precision),b}P.inject({exportSVG:function(b){return b=p(b),m(k(this,b,!0),b)}}),Et.inject({exportSVG:function(b){b=p(b);var f=this._children,y=this.getView(),S=E.pick(b.bounds,"view"),I=b.matrix||S==="view"&&y._matrix,C=I&&kt.read([I]),T=S==="view"?new mt([0,0],y.getViewSize()):S==="content"?P._getBounds(f,C,{stroke:!0}).rect:mt.read([S],0,{readNull:!0}),M={version:"1.1",xmlns:Qt.svg,"xmlns:xlink":Qt.xlink};T&&(M.width=T.width,M.height=T.height,(T.x||T.x===0||T.y||T.y===0)&&(M.viewBox=t.rectangle(T)));var z=Qt.create("svg",M,t),D=z;C&&!C.isIdentity()&&(D=z.appendChild(Qt.create("g",e(C),t)));for(var O=0,V=f.length;O<V;O++)D.appendChild(k(f[O],b,!0));return m(z,b)}})},new function(){var t={},e;function i(f,y,S,I,C,T){var M=Qt.get(f,y)||T,z=M==null?I?null:S?"":0:S?M:parseFloat(M);return/%\s*$/.test(M)?z/100*(C?1:e[/x|^width/.test(y)?"width":"height"]):z}function n(f,y,S,I,C,T,M){return y=i(f,y||"x",!1,I,C,T),S=i(f,S||"y",!1,I,C,M),I&&(y==null||S==null)?null:new R(y,S)}function s(f,y,S,I,C){return y=i(f,y||"width",!1,I,C),S=i(f,S||"height",!1,I,C),I&&(y==null||S==null)?null:new ot(y,S)}function a(f,y,S){return f==="none"?null:y==="number"?parseFloat(f):y==="array"?f?f.split(/[\s,]+/g).map(parseFloat):[]:y==="color"?k(f)||f:y==="lookup"?S[f]:f}function h(f,y,S,I){var C=f.childNodes,T=y==="clippath",M=y==="defs",z=new Kt,D=z._project,O=D._currentStyle,V=[];if(!T&&!M&&(z=m(z,f,I),D._currentStyle=z._style.clone()),I)for(var q=f.querySelectorAll("defs"),j=0,W=q.length;j<W;j++)p(q[j],S,!1);for(var j=0,W=C.length;j<W;j++){var Q=C[j],ht;Q.nodeType===1&&!/^defs$/i.test(Q.nodeName)&&(ht=p(Q,S,!1))&&!(ht instanceof oe)&&V.push(ht)}return z.addChildren(V),T&&(z=m(z.reduce(),f,I)),D._currentStyle=O,(T||M)&&(z.remove(),z=null),z}function u(f,y){for(var S=f.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),I=[],C=0,T=S.length;C<T;C+=2)I.push(new R(parseFloat(S[C]),parseFloat(S[C+1])));var M=new Dt(I);return y==="polygon"&&M.closePath(),M}function l(f){return be.create(f.getAttribute("d"))}function c(f,y){var S=(i(f,"href",!0)||"").substring(1),I=y==="radialgradient",C;if(S)C=t[S].getGradient(),C._radial^I&&(C=C.clone(),C._radial=I);else{for(var T=f.childNodes,M=[],z=0,D=T.length;z<D;z++){var O=T[z];O.nodeType===1&&M.push(m(new mi,O))}C=new ui(M,I)}var V,q,j,W=i(f,"gradientUnits",!0)!=="userSpaceOnUse";I?(V=n(f,"cx","cy",!1,W,"50%","50%"),q=V.add(i(f,"r",!1,!1,W,"50%"),0),j=n(f,"fx","fy",!0,W)):(V=n(f,"x1","y1",!1,W,"0%","0%"),q=n(f,"x2","y2",!1,W,"100%","0%"));var Q=m(new re(C,V,q,j),f);return Q._scaleToBounds=W,null}var _={"#document":function(f,y,S,I){for(var C=f.childNodes,T=0,M=C.length;T<M;T++){var z=C[T];if(z.nodeType===1)return p(z,S,I)}},g:h,svg:h,clippath:h,polygon:u,polyline:u,path:l,lineargradient:c,radialgradient:c,image:function(f){var y=new Ge(i(f,"href",!0));return y.on("load",function(){var S=s(f);this.setSize(S);var I=n(f).add(S.divide(2));this._matrix.append(new kt().translate(I))}),y},symbol:function(f,y,S,I){return new oe(h(f,y,S,I),!0)},defs:h,use:function(f){var y=(i(f,"href",!0)||"").substring(1),S=t[y],I=n(f);return S?S instanceof oe?S.place(I):S.clone().translate(I):null},circle:function(f){return new ae.Circle(n(f,"cx","cy"),i(f,"r"))},ellipse:function(f){return new ae.Ellipse({center:n(f,"cx","cy"),radius:s(f,"rx","ry")})},rect:function(f){return new ae.Rectangle(new mt(n(f),s(f)),s(f,"rx","ry"))},line:function(f){return new Dt.Line(n(f,"x1","y1"),n(f,"x2","y2"))},text:function(f){var y=new oi(n(f).add(n(f,"dx","dy")));return y.setContent(f.textContent.trim()||""),y},switch:h};function v(f,y,S,I){if(f.transform){for(var C=(I.getAttribute(S)||"").split(/\)\s*/g),T=new kt,M=0,z=C.length;M<z;M++){var D=C[M];if(!D)break;for(var O=D.split(/\(\s*/),V=O[0],q=O[1].split(/[\s,]+/g),j=0,W=q.length;j<W;j++)q[j]=parseFloat(q[j]);switch(V){case"matrix":T.append(new kt(q[0],q[1],q[2],q[3],q[4],q[5]));break;case"rotate":T.rotate(q[0],q[1]||0,q[2]||0);break;case"translate":T.translate(q[0],q[1]||0);break;case"scale":T.scale(q);break;case"skewX":T.skew(q[0],0);break;case"skewY":T.skew(0,q[0]);break}}f.transform(T)}}function g(f,y,S){var I=S==="fill-opacity"?"getFillColor":"getStrokeColor",C=f[I]&&f[I]();C&&C.setAlpha(parseFloat(y))}var d=E.set(E.each(Ci,function(f){this[f.attribute]=function(y,S){if(y[f.set]&&(y[f.set](a(S,f.type,f.fromSVG)),f.type==="color")){var I=y[f.get]();if(I&&I._scaleToBounds){var C=y.getBounds();I.transform(new kt().translate(C.getPoint()).scale(C.getSize()))}}}},{}),{id:function(f,y){t[y]=f,f.setName&&f.setName(y)},"clip-path":function(f,y){var S=k(y);if(S)if(S=S.clone(),S.setClipMask(!0),f instanceof Kt)f.insertChild(0,S);else return new Kt(S,f)},gradientTransform:v,transform:v,"fill-opacity":g,"stroke-opacity":g,visibility:function(f,y){f.setVisible&&f.setVisible(y==="visible")},display:function(f,y){f.setVisible&&f.setVisible(y!==null)},"stop-color":function(f,y){f.setColor&&f.setColor(y)},"stop-opacity":function(f,y){f._color&&f._color.setAlpha(parseFloat(y))},offset:function(f,y){if(f.setOffset){var S=y.match(/(.*)%$/);f.setOffset(S?S[1]/100:parseFloat(y))}},viewBox:function(f,y,S,I,C){var T=new mt(a(y,"array")),M=s(I,null,null,!0),z,D;if(f instanceof Kt){var O=M?M.divide(T.getSize()):1,D=new kt().scale(O).translate(T.getPoint().negate());z=f}else f instanceof oe&&(M&&T.setSize(M),z=f._item);if(z){if(w(I,"overflow",C)!=="visible"){var V=new ae.Rectangle(T);V.setClipMask(!0),z.addChild(V)}D&&z.transform(D)}}});function w(f,y,S){var I=f.attributes[y],C=I&&I.value;if(!C&&f.style){var T=E.camelize(y);C=f.style[T],!C&&S.node[T]!==S.parent[T]&&(C=S.node[T])}return C?C==="none"?null:C:L}function m(f,y,S){var I=y.parentNode,C={node:Xt.getStyles(y)||{},parent:!S&&!/^defs$/i.test(I.tagName)&&Xt.getStyles(I)||{}};return E.each(d,function(T,M){var z=w(y,M,C);f=z!==L&&T(f,z,M,y,C)||f}),f}function k(f){var y=f&&f.match(/\((?:["'#]*)([^"')]+)/),S=y&&y[1],I=S&&t[U?S.replace(U.location.href.split("#")[0]+"#",""):S];return I&&I._scaleToBounds&&(I=I.clone(),I._scaleToBounds=!0),I}function p(f,y,S){var I=f.nodeName.toLowerCase(),C=I!=="#document",T=X.body,M,z,D;S&&C&&(e=St.getView().getSize(),e=s(f,null,null,!0)||e,M=Qt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),z=f.parentNode,D=f.nextSibling,M.appendChild(f),T.appendChild(M));var O=St.settings,V=O.applyMatrix,q=O.insertItems;O.applyMatrix=!1,O.insertItems=!1;var j=_[I],W=j&&j(f,I,y,S)||null;if(O.insertItems=q,O.applyMatrix=V,W){C&&!(W instanceof Kt)&&(W=m(W,f,S));var Q=y.onImport,ht=C&&f.getAttribute("data-paper-data");Q&&(W=Q(f,W,y)||W),y.expandShapes&&W instanceof ae&&(W.remove(),W=W.toPath()),ht&&(W._data=JSON.parse(ht))}return M&&(T.removeChild(M),z&&(D?z.insertBefore(f,D):z.appendChild(f))),S&&(t={},W&&E.pick(y.applyMatrix,V)&&W.matrix.apply(!0,!0)),W}function b(f,y,S){if(!f)return null;y=typeof y=="function"?{onLoad:y}:y||{};var I=St,C=null;function T(O){try{var V=typeof O=="object"?O:new ut.DOMParser().parseFromString(O.trim(),"image/svg+xml");if(!V.nodeName)throw V=null,new Error("Unsupported SVG source: "+f);St=I,C=p(V,y,!0),(!y||y.insert!==!1)&&S._insertItem(L,C);var q=y.onLoad;q&&q(C,O)}catch(j){M(j)}}function M(O,V){var q=y.onError;if(q)q(O,V);else throw new Error(O)}if(typeof f=="string"&&!/^[\s\S]*</.test(f)){var z=X.getElementById(f);z?T(z):li.request({url:f,async:!0,onLoad:T,onError:M})}else if(typeof File<"u"&&f instanceof File){var D=new FileReader;return D.onload=function(){T(D.result)},D.onerror=function(){M(D.error)},D.readAsText(f)}else T(f);return C}P.inject({importSVG:function(f,y){return b(f,y,this)}}),Et.inject({importSVG:function(f,y){return this.activate(),b(f,y,this)}})},E.exports.PaperScript=function(){var t=this,e=t.acorn;if(!e&&typeof go<"u")try{e=mo()}catch{}if(!e){var i,n;e=i=n={},function(m,k){if(typeof i=="object"&&typeof n=="object")return k(i);if(typeof L=="function"&&L.amd)return L(["exports"],k);k(m.acorn||(m.acorn={}))}(this,function(m){m.version="0.5.0";var k,p,b,f;m.parse=function(B,H){return p=String(B),b=p.length,S(H),Rr(),Jn(k.program)};var y=m.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function S(B){k=B||{};for(var H in y)Object.prototype.hasOwnProperty.call(k,H)||(k[H]=y[H]);f=k.sourceFile||null}var I=m.getLineInfo=function(B,H){for(var tt=1,at=0;;){fi.lastIndex=at;var zt=fi.exec(B);if(zt&&zt.index<H)++tt,at=zt.index+zt[0].length;else break}return{line:tt,column:H-at}};m.tokenize=function(B,H){p=String(B),b=p.length,S(H),Rr();var tt={};function at(zt){return ht=M,ii(zt),tt.start=T,tt.end=M,tt.startLoc=z,tt.endLoc=D,tt.type=O,tt.value=V,tt}return at.jumpTo=function(zt,Bt){if(C=zt,k.locations){j=1,W=fi.lastIndex=0;for(var Vt;(Vt=fi.exec(p))&&Vt.index<zt;)++j,W=Vt.index+Vt[0].length}q=Bt,di()},at};var C,T,M,z,D,O,V,q,j,W,Q,ht,ft,dt,yt,et;function rt(B,H){var tt=I(p,B);H+=" ("+tt.line+":"+tt.column+")";var at=new SyntaxError(H);throw at.pos=B,at.loc=tt,at.raisedAt=C,at}var vt=[],xt={type:"num"},bt={type:"regexp"},At={type:"string"},It={type:"name"},Nt={type:"eof"},ct={keyword:"break"},Pt={keyword:"case",beforeExpr:!0},ne={keyword:"catch"},ue={keyword:"continue"},fe={keyword:"debugger"},$t={keyword:"default"},Ht={keyword:"do",isLoop:!0},te={keyword:"else",beforeExpr:!0},_e={keyword:"finally"},he={keyword:"for",isLoop:!0},ve={keyword:"function"},Le={keyword:"if"},we={keyword:"return",beforeExpr:!0},Ce={keyword:"switch"},de={keyword:"throw",beforeExpr:!0},Mt={keyword:"try"},Re={keyword:"var"},Se={keyword:"while",isLoop:!0},ti={keyword:"with"},Si={keyword:"new",beforeExpr:!0},Li={keyword:"this"},Oi={keyword:"null",atomValue:null},Mi={keyword:"true",atomValue:!0},r={keyword:"false",atomValue:!1},o={keyword:"in",binop:7,beforeExpr:!0},x={break:ct,case:Pt,catch:ne,continue:ue,debugger:fe,default:$t,do:Ht,else:te,finally:_e,for:he,function:ve,if:Le,return:we,switch:Ce,throw:de,try:Mt,var:Re,while:Se,with:ti,null:Oi,true:Mi,false:r,new:Si,in:o,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Li,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},A={type:"[",beforeExpr:!0},N={type:"]"},Z={type:"{",beforeExpr:!0},$={type:"}"},lt={type:"(",beforeExpr:!0},pt={type:")"},Lt={type:",",beforeExpr:!0},Rt={type:";",beforeExpr:!0},ee={type:":",beforeExpr:!0},Oe={type:"."},Ue={type:"?",beforeExpr:!0},Be={binop:10,beforeExpr:!0},We={isAssign:!0,beforeExpr:!0},ke={isAssign:!0,beforeExpr:!0},Ke={postfix:!0,prefix:!0,isUpdate:!0},Ar={prefix:!0,beforeExpr:!0},Er={binop:1,beforeExpr:!0},Tr={binop:2,beforeExpr:!0},In={binop:3,beforeExpr:!0},An={binop:4,beforeExpr:!0},En={binop:5,beforeExpr:!0},Tn={binop:6,beforeExpr:!0},Ln={binop:7,beforeExpr:!0},On={binop:8,beforeExpr:!0},Mn={binop:9,prefix:!0,beforeExpr:!0},zn={binop:10,beforeExpr:!0};m.tokTypes={bracketL:A,bracketR:N,braceL:Z,braceR:$,parenL:lt,parenR:pt,comma:Lt,semi:Rt,colon:ee,dot:Oe,question:Ue,slash:Be,eq:We,name:It,eof:Nt,num:xt,regexp:bt,string:At};for(var Lr in x)m.tokTypes["_"+Lr]=x[Lr];function ki(B){B=B.split(" ");var H="",tt=[];t:for(var at=0;at<B.length;++at){for(var zt=0;zt<tt.length;++zt)if(tt[zt][0].length==B[at].length){tt[zt].push(B[at]);continue t}tt.push([B[at]])}function Bt(Gt){if(Gt.length==1)return H+="return str === "+JSON.stringify(Gt[0])+";";H+="switch(str){";for(var ze=0;ze<Gt.length;++ze)H+="case "+JSON.stringify(Gt[ze])+":";H+="return true}return false;"}if(tt.length>3){tt.sort(function(Gt,ze){return ze.length-Gt.length}),H+="switch(str.length){";for(var at=0;at<tt.length;++at){var Vt=tt[at];H+="case "+Vt[0].length+":",Bt(Vt)}H+="}"}else Bt(B);return new Function("str",H)}var Nn=ki("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Rn=ki("class enum extends super const export import"),Or=ki("implements interface let package private protected public static yield"),zi=ki("eval arguments"),Bn=ki("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Vn=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Mr="ÂªÂµÂºÃ€-Ã–Ã˜-Ã¶Ã¸-ËË†-Ë‘Ë -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Î†Îˆ-ÎŠÎŒÎŽ-Î¡Î£-ÏµÏ·-ÒÒŠ-Ô§Ô±-Õ–Õ™Õ¡-Ö‡×-×ª×°-×²Ø -ÙŠÙ®Ù¯Ù±-Û“Û•Û¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ’-Ü¯Ý-Þ¥Þ±ßŠ-ßªß´ßµßºà €-à •à šà ¤à ¨à¡€-à¡˜à¢ à¢¢-à¢¬à¤„-à¤¹à¤½à¥à¥˜-à¥¡à¥±-à¥·à¥¹-à¥¿à¦…-à¦Œà¦à¦à¦“-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§Žà§œà§à§Ÿ-à§¡à§°à§±à¨…-à¨Šà¨à¨à¨“-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©™-à©œà©žà©²-à©´àª…-àªàª-àª‘àª“-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬…-à¬Œà¬à¬à¬“-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­œà­à­Ÿ-à­¡à­±à®ƒà®…-à®Šà®Ž-à®à®’-à®•à®™à®šà®œà®žà®Ÿà®£à®¤à®¨-à®ªà®®-à®¹à¯à°…-à°Œà°Ž-à°à°’-à°¨à°ª-à°³à°µ-à°¹à°½à±˜à±™à± à±¡à²…-à²Œà²Ž-à²à²’-à²¨à²ª-à²³à²µ-à²¹à²½à³žà³ à³¡à³±à³²à´…-à´Œà´Ž-à´à´’-à´ºà´½àµŽàµ àµ¡àµº-àµ¿à¶…-à¶–à¶š-à¶±à¶³-à¶»à¶½à·€-à·†à¸-à¸°à¸²à¸³à¹€-à¹†àºàº‚àº„àº‡àºˆàºŠàºàº”-àº—àº™-àºŸàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»€-à»„à»†à»œ-à»Ÿà¼€à½€-à½‡à½‰-à½¬à¾ˆ-à¾Œá€€-á€ªá€¿á-á•áš-áá¡á¥á¦á®-á°áµ-á‚á‚Žá‚ -áƒ…áƒ‡áƒáƒ-áƒºáƒ¼-á‰ˆá‰Š-á‰á‰-á‰–á‰˜á‰š-á‰á‰ -áŠˆáŠŠ-áŠáŠ-áŠ°áŠ²-áŠµáŠ¸-áŠ¾á‹€á‹‚-á‹…á‹ˆ-á‹–á‹˜-áŒáŒ’-áŒ•áŒ˜-ášáŽ€-áŽáŽ -á´á-á™¬á™¯-á™¿áš-áššáš -á›ªá›®-á›°áœ€-áœŒáœŽ-áœ‘áœ -áœ±á€-á‘á -á¬á®-á°áž€-áž³áŸ—áŸœá  -á¡·á¢€-á¢¨á¢ªá¢°-á£µá¤€-á¤œá¥-á¥­á¥°-á¥´á¦€-á¦«á§-á§‡á¨€-á¨–á¨ -á©”áª§á¬…-á¬³á­…-á­‹á®ƒ-á® á®®á®¯á®º-á¯¥á°€-á°£á±-á±á±š-á±½á³©-á³¬á³®-á³±á³µá³¶á´€-á¶¿á¸€-á¼•á¼˜-á¼á¼ -á½…á½ˆ-á½á½-á½—á½™á½›á½á½Ÿ-á½½á¾€-á¾´á¾¶-á¾¼á¾¾á¿‚-á¿„á¿†-á¿Œá¿-á¿“á¿–-á¿›á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â‚-â‚œâ„‚â„‡â„Š-â„“â„•â„™-â„â„¤â„¦â„¨â„ª-â„­â„¯-â„¹â„¼-â„¿â……-â…‰â…Žâ… -â†ˆâ°€-â°®â°°-â±žâ± -â³¤â³«-â³®â³²â³³â´€-â´¥â´§â´­â´°-âµ§âµ¯â¶€-â¶–â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·€-â·†â·ˆ-â·Žâ·-â·–â·˜-â·žâ¸¯ã€…-ã€‡ã€¡-ã€©ã€±-ã€µã€¸-ã€¼ã-ã‚–ã‚-ã‚Ÿã‚¡-ãƒºãƒ¼-ãƒ¿ã„…-ã„­ã„±-ã†Žã† -ã†ºã‡°-ã‡¿ã€-ä¶µä¸€-é¿Œê€€-ê’Œê“-ê“½ê”€-ê˜Œê˜-ê˜Ÿê˜ªê˜«ê™€-ê™®ê™¿-êš—êš -ê›¯êœ—-êœŸêœ¢-êžˆêž‹-êžŽêž-êž“êž -êžªêŸ¸-ê ê ƒ-ê …ê ‡-ê Šê Œ-ê ¢ê¡€-ê¡³ê¢‚-ê¢³ê£²-ê£·ê£»ê¤Š-ê¤¥ê¤°-ê¥†ê¥ -ê¥¼ê¦„-ê¦²ê§ê¨€-ê¨¨ê©€-ê©‚ê©„-ê©‹ê© -ê©¶ê©ºêª€-êª¯êª±êªµêª¶êª¹-êª½ê«€ê«‚ê«›-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬†ê¬‰-ê¬Žê¬‘-ê¬–ê¬ -ê¬¦ê¬¨-ê¬®ê¯€-ê¯¢ê°€-íž£íž°-íŸ†íŸ‹-íŸ»ï¤€-ï©­ï©°-ï«™ï¬€-ï¬†ï¬“-ï¬—ï¬ï¬Ÿ-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­€ï­ï­ƒï­„ï­†-ï®±ï¯“-ï´½ïµ-ï¶ï¶’-ï·‡ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½šï½¦-ï¾¾ï¿‚-ï¿‡ï¿Š-ï¿ï¿’-ï¿—ï¿š-ï¿œ",Fn="Ì€-Í¯Òƒ-Ò‡Ö‘-Ö½Ö¿××‚×„×…×‡Ø-ØšØ -Ù‰Ù²-Û“Û§-Û¨Û»-Û¼Ü°-ÝŠà €-à ”à ›-à £à ¥-à §à ©-à ­à¡€-à¡—à£¤-à£¾à¤€-à¤ƒà¤º-à¤¼à¤¾-à¥à¥‘-à¥—à¥¢-à¥£à¥¦-à¥¯à¦-à¦ƒà¦¼à¦¾-à§„à§‡à§ˆà§—à§Ÿ-à§ à¨-à¨ƒà¨¼à¨¾-à©‚à©‡à©ˆà©‹-à©à©‘à©¦-à©±à©µàª-àªƒàª¼àª¾-à«…à«‡-à«‰à«‹-à«à«¢-à«£à«¦-à«¯à¬-à¬ƒà¬¼à¬¾-à­„à­‡à­ˆà­‹-à­à­–à­—à­Ÿ-à­ à­¦-à­¯à®‚à®¾-à¯‚à¯†-à¯ˆà¯Š-à¯à¯—à¯¦-à¯¯à°-à°ƒà±†-à±ˆà±Š-à±à±•à±–à±¢-à±£à±¦-à±¯à²‚à²ƒà²¼à²¾-à³„à³†-à³ˆà³Š-à³à³•à³–à³¢-à³£à³¦-à³¯à´‚à´ƒàµ†-àµˆàµ—àµ¢-àµ£àµ¦-àµ¯à¶‚à¶ƒà·Šà·-à·”à·–à·˜-à·Ÿà·²à·³à¸´-à¸ºà¹€-à¹…à¹-à¹™àº´-àº¹à»ˆ-à»à»-à»™à¼˜à¼™à¼ -à¼©à¼µà¼·à¼¹à½-à½‡à½±-à¾„à¾†-à¾‡à¾-à¾—à¾™-à¾¼à¿†á€€-á€©á€-á‰á§-á­á±-á´á‚‚-á‚á‚-á‚á-áŸáœŽ-áœáœ -áœ°á€-áá²á³áž€-áž²áŸáŸ -áŸ©á ‹-á á -á ™á¤ -á¤«á¤°-á¤»á¥‘-á¥­á¦°-á§€á§ˆ-á§‰á§-á§™á¨€-á¨•á¨ -á©“á© -á©¼á©¿-áª‰áª-áª™á­†-á­‹á­-á­™á­«-á­³á®°-á®¹á¯¦-á¯³á°€-á°¢á±€-á±‰á±›-á±½á³-á³’á´€-á¶¾á¸-á¼•â€Œâ€â€¿â€â”âƒ-âƒœâƒ¡âƒ¥-âƒ°â¶-â¶–â· -â·¿ã€¡-ã€¨ã‚™ã‚šê™€-ê™­ê™´-ê™½êšŸê›°-ê›±êŸ¸-ê €ê †ê ‹ê £-ê §ê¢€-ê¢ê¢´-ê£„ê£-ê£™ê£³-ê£·ê¤€-ê¤‰ê¤¦-ê¤­ê¤°-ê¥…ê¦€-ê¦ƒê¦³-ê§€ê¨€-ê¨§ê©€-ê©ê©Œ-ê©ê©-ê©™ê©»ê« -ê«©ê«²-ê«³ê¯€-ê¯¡ê¯¬ê¯­ê¯°-ê¯¹ï¬ -ï¬¨ï¸€-ï¸ï¸ -ï¸¦ï¸³ï¸´ï¹-ï¹ï¼-ï¼™ï¼¿",zr=new RegExp("["+Mr+"]"),Dn=new RegExp("["+Mr+Fn+"]"),Ni=/[\n\r\u2028\u2029]/,fi=/\r\n|[\n\r\u2028\u2029]/g,Ri=m.isIdentifierStart=function(B){return B<65?B===36:B<91?!0:B<97?B===95:B<123?!0:B>=170&&zr.test(String.fromCharCode(B))},Nr=m.isIdentifierChar=function(B){return B<48?B===36:B<58?!0:B<65?!1:B<91?!0:B<97?B===95:B<123?!0:B>=170&&Dn.test(String.fromCharCode(B))};function ei(){this.line=j,this.column=C-W}function Rr(){j=1,C=W=0,q=!0,di()}function pe(B,H){M=C,k.locations&&(D=new ei),O=B,di(),V=H,q=B.beforeExpr}function qn(){var B=k.onComment&&k.locations&&new ei,H=C,tt=p.indexOf("*/",C+=2);if(tt===-1&&rt(C-2,"Unterminated comment"),C=tt+2,k.locations){fi.lastIndex=H;for(var at;(at=fi.exec(p))&&at.index<C;)++j,W=at.index+at[0].length}k.onComment&&k.onComment(!0,p.slice(H+2,tt),H,C,B,k.locations&&new ei)}function Ki(){for(var B=C,H=k.onComment&&k.locations&&new ei,tt=p.charCodeAt(C+=2);C<b&&tt!==10&&tt!==13&&tt!==8232&&tt!==8233;)++C,tt=p.charCodeAt(C);k.onComment&&k.onComment(!1,p.slice(B+2,C),B,C,H,k.locations&&new ei)}function di(){for(;C<b;){var B=p.charCodeAt(C);if(B===32)++C;else if(B===13){++C;var H=p.charCodeAt(C);H===10&&++C,k.locations&&(++j,W=C)}else if(B===10||B===8232||B===8233)++C,k.locations&&(++j,W=C);else if(B>8&&B<14)++C;else if(B===47){var H=p.charCodeAt(C+1);if(H===42)qn();else if(H===47)Ki();else break}else if(B===160)++C;else if(B>=5760&&Vn.test(String.fromCharCode(B)))++C;else break}}function Un(){var B=p.charCodeAt(C+1);return B>=48&&B<=57?Vr(!0):(++C,pe(Oe))}function Hn(){var B=p.charCodeAt(C+1);return q?(++C,Br()):B===61?ge(ke,2):ge(Be,1)}function Gn(){var B=p.charCodeAt(C+1);return B===61?ge(ke,2):ge(zn,1)}function jn(B){var H=p.charCodeAt(C+1);return H===B?ge(B===124?Er:Tr,2):H===61?ge(ke,2):ge(B===124?In:En,1)}function Wn(){var B=p.charCodeAt(C+1);return B===61?ge(ke,2):ge(An,1)}function Kn(B){var H=p.charCodeAt(C+1);return H===B?H==45&&p.charCodeAt(C+2)==62&&Ni.test(p.slice(ht,C))?(C+=3,Ki(),di(),ii()):ge(Ke,2):H===61?ge(ke,2):ge(Mn,1)}function Zn(B){var H=p.charCodeAt(C+1),tt=1;return H===B?(tt=B===62&&p.charCodeAt(C+2)===62?3:2,p.charCodeAt(C+tt)===61?ge(ke,tt+1):ge(On,tt)):H==33&&B==60&&p.charCodeAt(C+2)==45&&p.charCodeAt(C+3)==45?(C+=4,Ki(),di(),ii()):(H===61&&(tt=p.charCodeAt(C+2)===61?3:2),ge(Ln,tt))}function Xn(B){var H=p.charCodeAt(C+1);return H===61?ge(Tn,p.charCodeAt(C+2)===61?3:2):ge(B===61?We:Ar,1)}function Yn(B){switch(B){case 46:return Un();case 40:return++C,pe(lt);case 41:return++C,pe(pt);case 59:return++C,pe(Rt);case 44:return++C,pe(Lt);case 91:return++C,pe(A);case 93:return++C,pe(N);case 123:return++C,pe(Z);case 125:return++C,pe($);case 58:return++C,pe(ee);case 63:return++C,pe(Ue);case 48:var H=p.charCodeAt(C+1);if(H===120||H===88)return Qn();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Vr(!1);case 34:case 39:return $n(B);case 47:return Hn();case 37:case 42:return Gn();case 124:case 38:return jn(B);case 94:return Wn();case 43:case 45:return Kn(B);case 60:case 62:return Zn(B);case 61:case 33:return Xn(B);case 126:return ge(Ar,1)}return!1}function ii(B){if(B?C=T+1:T=C,k.locations&&(z=new ei),B)return Br();if(C>=b)return pe(Nt);var H=p.charCodeAt(C);if(Ri(H)||H===92)return Dr();var tt=Yn(H);if(tt===!1){var at=String.fromCharCode(H);if(at==="\\"||zr.test(at))return Dr();rt(C,"Unexpected character '"+at+"'")}return tt}function ge(B,H){var tt=p.slice(C,C+H);C+=H,pe(B,tt)}function Br(){for(var zt="",B,H,tt=C;;){C>=b&&rt(tt,"Unterminated regular expression");var at=p.charAt(C);if(Ni.test(at)&&rt(tt,"Unterminated regular expression"),B)B=!1;else{if(at==="[")H=!0;else if(at==="]"&&H)H=!1;else if(at==="/"&&!H)break;B=at==="\\"}++C}var zt=p.slice(tt,C);++C;var Bt=Fr();Bt&&!/^[gmsiy]*$/.test(Bt)&&rt(tt,"Invalid regexp flag");try{var Vt=new RegExp(zt,Bt)}catch(Gt){Gt instanceof SyntaxError&&rt(tt,Gt.message),rt(Gt)}return pe(bt,Vt)}function Pi(B,H){for(var tt=C,at=0,zt=0,Bt=H??1/0;zt<Bt;++zt){var Vt=p.charCodeAt(C),Gt;if(Vt>=97?Gt=Vt-97+10:Vt>=65?Gt=Vt-65+10:Vt>=48&&Vt<=57?Gt=Vt-48:Gt=1/0,Gt>=B)break;++C,at=at*B+Gt}return C===tt||H!=null&&C-tt!==H?null:at}function Qn(){C+=2;var B=Pi(16);return B==null&&rt(T+2,"Expected hexadecimal number"),Ri(p.charCodeAt(C))&&rt(C,"Identifier directly after number"),pe(xt,B)}function Vr(B){var H=C,tt=!1,at=p.charCodeAt(C)===48;!B&&Pi(10)===null&&rt(H,"Invalid number"),p.charCodeAt(C)===46&&(++C,Pi(10),tt=!0);var zt=p.charCodeAt(C);(zt===69||zt===101)&&(zt=p.charCodeAt(++C),(zt===43||zt===45)&&++C,Pi(10)===null&&rt(H,"Invalid number"),tt=!0),Ri(p.charCodeAt(C))&&rt(C,"Identifier directly after number");var Bt=p.slice(H,C),Vt;return tt?Vt=parseFloat(Bt):!at||Bt.length===1?Vt=parseInt(Bt,10):/[89]/.test(Bt)||et?rt(H,"Invalid number"):Vt=parseInt(Bt,8),pe(xt,Vt)}function $n(B){C++;for(var H="";;){C>=b&&rt(T,"Unterminated string constant");var tt=p.charCodeAt(C);if(tt===B)return++C,pe(At,H);if(tt===92){tt=p.charCodeAt(++C);var at=/^[0-7]+/.exec(p.slice(C,C+3));for(at&&(at=at[0]);at&&parseInt(at,8)>255;)at=at.slice(0,-1);if(at==="0"&&(at=null),++C,at)et&&rt(C-2,"Octal literal in strict mode"),H+=String.fromCharCode(parseInt(at,8)),C+=at.length-1;else switch(tt){case 110:H+=`
`;break;case 114:H+="\r";break;case 120:H+=String.fromCharCode(Bi(2));break;case 117:H+=String.fromCharCode(Bi(4));break;case 85:H+=String.fromCharCode(Bi(8));break;case 116:H+="	";break;case 98:H+="\b";break;case 118:H+="\v";break;case 102:H+="\f";break;case 48:H+="\0";break;case 13:p.charCodeAt(C)===10&&++C;case 10:k.locations&&(W=C,++j);break;default:H+=String.fromCharCode(tt);break}}else(tt===13||tt===10||tt===8232||tt===8233)&&rt(T,"Unterminated string constant"),H+=String.fromCharCode(tt),++C}}function Bi(B){var H=Pi(16,B);return H===null&&rt(T,"Bad character escape sequence"),H}var pi;function Fr(){pi=!1;for(var B,H=!0,tt=C;;){var at=p.charCodeAt(C);if(Nr(at))pi&&(B+=p.charAt(C)),++C;else if(at===92){pi||(B=p.slice(tt,C)),pi=!0,p.charCodeAt(++C)!=117&&rt(C,"Expecting Unicode escape sequence \\uXXXX"),++C;var zt=Bi(4),Bt=String.fromCharCode(zt);Bt||rt(C-1,"Invalid Unicode escape"),(H?Ri(zt):Nr(zt))||rt(C-4,"Invalid Unicode escape"),B+=Bt}else break;H=!1}return pi?B:p.slice(tt,C)}function Dr(){var B=Fr(),H=It;return!pi&&Bn(B)&&(H=x[B]),pe(H,B)}function Ut(){Q=T,ht=M,ft=D,ii()}function Zi(B){if(et=B,C=T,k.locations)for(;C<W;)W=p.lastIndexOf(`
`,W-2)+1,--j;di(),ii()}function qr(){this.type=null,this.start=T,this.end=null}function Ur(){this.start=z,this.end=null,f!==null&&(this.source=f)}function me(){var B=new qr;return k.locations&&(B.loc=new Ur),k.directSourceFile&&(B.sourceFile=k.directSourceFile),k.ranges&&(B.range=[T,0]),B}function Ze(B){var H=new qr;return H.start=B.start,k.locations&&(H.loc=new Ur,H.loc.start=B.loc.start),k.ranges&&(H.range=[B.range[0],0]),H}function qt(B,H){return B.type=H,B.end=ht,k.locations&&(B.loc.end=ft),k.ranges&&(B.range[1]=ht),B}function Xi(B){return k.ecmaVersion>=5&&B.type==="ExpressionStatement"&&B.expression.type==="Literal"&&B.expression.value==="use strict"}function ie(B){if(O===B)return Ut(),!0}function Vi(){return!k.strictSemicolons&&(O===Nt||O===$||Ni.test(p.slice(ht,T)))}function ri(){!ie(Rt)&&!Vi()&&He()}function ce(B){O===B?Ut():He()}function He(){rt(T,"Unexpected token")}function Fi(B){B.type!=="Identifier"&&B.type!=="MemberExpression"&&rt(B.start,"Assigning to rvalue"),et&&B.type==="Identifier"&&zi(B.name)&&rt(B.start,"Assigning to "+B.name+" in strict mode")}function Jn(B){Q=ht=C,k.locations&&(ft=new ei),dt=et=null,yt=[],ii();var H=B||me(),tt=!0;for(B||(H.body=[]);O!==Nt;){var at=Me();H.body.push(at),tt&&Xi(at)&&Zi(!0),tt=!1}return qt(H,"Program")}var Yi={kind:"loop"},ts={kind:"switch"};function Me(){(O===Be||O===ke&&V=="/=")&&ii(!0);var B=O,H=me();switch(B){case ct:case ue:Ut();var tt=B===ct;ie(Rt)||Vi()?H.label=null:O!==It?He():(H.label=Xe(),ri());for(var at=0;at<yt.length;++at){var zt=yt[at];if((H.label==null||zt.name===H.label.name)&&(zt.kind!=null&&(tt||zt.kind==="loop")||H.label&&tt))break}return at===yt.length&&rt(H.start,"Unsyntactic "+B.keyword),qt(H,tt?"BreakStatement":"ContinueStatement");case fe:return Ut(),ri(),qt(H,"DebuggerStatement");case Ht:return Ut(),yt.push(Yi),H.body=Me(),yt.pop(),ce(Se),H.test=Ii(),ri(),qt(H,"DoWhileStatement");case he:if(Ut(),yt.push(Yi),ce(lt),O===Rt)return Qi(H,null);if(O===Re){var Bt=me();return Ut(),Gr(Bt,!0),qt(Bt,"VariableDeclaration"),Bt.declarations.length===1&&ie(o)?Hr(H,Bt):Qi(H,Bt)}var Bt=ye(!1,!0);return ie(o)?(Fi(Bt),Hr(H,Bt)):Qi(H,Bt);case ve:return Ut(),ir(H,!0);case Le:return Ut(),H.test=Ii(),H.consequent=Me(),H.alternate=ie(te)?Me():null,qt(H,"IfStatement");case we:return!dt&&!k.allowReturnOutsideFunction&&rt(T,"'return' outside of function"),Ut(),ie(Rt)||Vi()?H.argument=null:(H.argument=ye(),ri()),qt(H,"ReturnStatement");case Ce:Ut(),H.discriminant=Ii(),H.cases=[],ce(Z),yt.push(ts);for(var Vt,Gt;O!=$;)if(O===Pt||O===$t){var ze=O===Pt;Vt&&qt(Vt,"SwitchCase"),H.cases.push(Vt=me()),Vt.consequent=[],Ut(),ze?Vt.test=ye():(Gt&&rt(Q,"Multiple default clauses"),Gt=!0,Vt.test=null),ce(ee)}else Vt||He(),Vt.consequent.push(Me());return Vt&&qt(Vt,"SwitchCase"),Ut(),yt.pop(),qt(H,"SwitchStatement");case de:return Ut(),Ni.test(p.slice(ht,T))&&rt(ht,"Illegal newline after throw"),H.argument=ye(),ri(),qt(H,"ThrowStatement");case Mt:if(Ut(),H.block=Ai(),H.handler=null,O===ne){var ni=me();Ut(),ce(lt),ni.param=Xe(),et&&zi(ni.param.name)&&rt(ni.param.start,"Binding "+ni.param.name+" in strict mode"),ce(pt),ni.guard=null,ni.body=Ai(),H.handler=qt(ni,"CatchClause")}return H.guardedHandlers=vt,H.finalizer=ie(_e)?Ai():null,!H.handler&&!H.finalizer&&rt(H.start,"Missing catch or finally clause"),qt(H,"TryStatement");case Re:return Ut(),Gr(H),ri(),qt(H,"VariableDeclaration");case Se:return Ut(),H.test=Ii(),yt.push(Yi),H.body=Me(),yt.pop(),qt(H,"WhileStatement");case ti:return et&&rt(T,"'with' in strict mode"),Ut(),H.object=Ii(),H.body=Me(),qt(H,"WithStatement");case Z:return Ai();case Rt:return Ut(),qt(H,"EmptyStatement");default:var nr=V,Di=ye();if(B===It&&Di.type==="Identifier"&&ie(ee)){for(var at=0;at<yt.length;++at)yt[at].name===nr&&rt(Di.start,"Label '"+nr+"' is already declared");var as=O.isLoop?"loop":O===Ce?"switch":null;return yt.push({name:nr,kind:as}),H.body=Me(),yt.pop(),H.label=Di,qt(H,"LabeledStatement")}else return H.expression=Di,ri(),qt(H,"ExpressionStatement")}}function Ii(){ce(lt);var B=ye();return ce(pt),B}function Ai(B){var H=me(),tt=!0,at=!1,zt;for(H.body=[],ce(Z);!ie($);){var Bt=Me();H.body.push(Bt),tt&&B&&Xi(Bt)&&(zt=at,Zi(at=!0)),tt=!1}return at&&!zt&&Zi(!1),qt(H,"BlockStatement")}function Qi(B,H){return B.init=H,ce(Rt),B.test=O===Rt?null:ye(),ce(Rt),B.update=O===pt?null:ye(),ce(pt),B.body=Me(),yt.pop(),qt(B,"ForStatement")}function Hr(B,H){return B.left=H,B.right=ye(),ce(pt),B.body=Me(),yt.pop(),qt(B,"ForInStatement")}function Gr(B,H){for(B.declarations=[],B.kind="var";;){var tt=me();if(tt.id=Xe(),et&&zi(tt.id.name)&&rt(tt.id.start,"Binding "+tt.id.name+" in strict mode"),tt.init=ie(We)?ye(!0,H):null,B.declarations.push(qt(tt,"VariableDeclarator")),!ie(Lt))break}return B}function ye(B,H){var tt=$i(H);if(!B&&O===Lt){var at=Ze(tt);for(at.expressions=[tt];ie(Lt);)at.expressions.push($i(H));return qt(at,"SequenceExpression")}return tt}function $i(B){var H=es(B);if(O.isAssign){var tt=Ze(H);return tt.operator=V,tt.left=H,Ut(),tt.right=$i(B),Fi(H),qt(tt,"AssignmentExpression")}return H}function es(B){var H=is(B);if(ie(Ue)){var tt=Ze(H);return tt.test=H,tt.consequent=ye(!0),ce(ee),tt.alternate=ye(!0,B),qt(tt,"ConditionalExpression")}return H}function is(B){return Ji(tr(),-1,B)}function Ji(B,H,tt){var at=O.binop;if(at!=null&&(!tt||O!==o)&&at>H){var zt=Ze(B);zt.left=B,zt.operator=V;var Bt=O;Ut(),zt.right=Ji(tr(),at,tt);var Vt=qt(zt,Bt===Er||Bt===Tr?"LogicalExpression":"BinaryExpression");return Ji(Vt,H,tt)}return B}function tr(){if(O.prefix){var B=me(),H=O.isUpdate;return B.operator=V,B.prefix=!0,q=!0,Ut(),B.argument=tr(),H?Fi(B.argument):et&&B.operator==="delete"&&B.argument.type==="Identifier"&&rt(B.start,"Deleting local variable in strict mode"),qt(B,H?"UpdateExpression":"UnaryExpression")}for(var tt=rs();O.postfix&&!Vi();){var B=Ze(tt);B.operator=V,B.prefix=!1,B.argument=tt,Fi(tt),Ut(),tt=qt(B,"UpdateExpression")}return tt}function rs(){return Ei(er())}function Ei(B,H){if(ie(Oe)){var tt=Ze(B);return tt.object=B,tt.property=Xe(!0),tt.computed=!1,Ei(qt(tt,"MemberExpression"),H)}else if(ie(A)){var tt=Ze(B);return tt.object=B,tt.property=ye(),tt.computed=!0,ce(N),Ei(qt(tt,"MemberExpression"),H)}else if(!H&&ie(lt)){var tt=Ze(B);return tt.callee=B,tt.arguments=rr(pt,!1),Ei(qt(tt,"CallExpression"),H)}else return B}function er(){switch(O){case Li:var at=me();return Ut(),qt(at,"ThisExpression");case It:return Xe();case xt:case At:case bt:var at=me();return at.value=V,at.raw=p.slice(T,M),Ut(),qt(at,"Literal");case Oi:case Mi:case r:var at=me();return at.value=O.atomValue,at.raw=O.keyword,Ut(),qt(at,"Literal");case lt:var B=z,H=T;Ut();var tt=ye();return tt.start=H,tt.end=M,k.locations&&(tt.loc.start=B,tt.loc.end=D),k.ranges&&(tt.range=[H,M]),ce(pt),tt;case A:var at=me();return Ut(),at.elements=rr(N,!0,!0),qt(at,"ArrayExpression");case Z:return ss();case ve:var at=me();return Ut(),ir(at,!1);case Si:return ns();default:He()}}function ns(){var B=me();return Ut(),B.callee=Ei(er(),!0),ie(lt)?B.arguments=rr(pt,!1):B.arguments=vt,qt(B,"NewExpression")}function ss(){var B=me(),H=!0,tt=!1;for(B.properties=[],Ut();!ie($);){if(H)H=!1;else if(ce(Lt),k.allowTrailingCommas&&ie($))break;var at={key:jr()},zt=!1,Bt;if(ie(ee)?(at.value=ye(!0),Bt=at.kind="init"):k.ecmaVersion>=5&&at.key.type==="Identifier"&&(at.key.name==="get"||at.key.name==="set")?(zt=tt=!0,Bt=at.kind=at.key.name,at.key=jr(),O!==lt&&He(),at.value=ir(me(),!1)):He(),at.key.type==="Identifier"&&(et||tt))for(var Vt=0;Vt<B.properties.length;++Vt){var Gt=B.properties[Vt];if(Gt.key.name===at.key.name){var ze=Bt==Gt.kind||zt&&Gt.kind==="init"||Bt==="init"&&(Gt.kind==="get"||Gt.kind==="set");ze&&!et&&Bt==="init"&&Gt.kind==="init"&&(ze=!1),ze&&rt(at.key.start,"Redefinition of property")}}B.properties.push(at)}return qt(B,"ObjectExpression")}function jr(){return O===xt||O===At?er():Xe(!0)}function ir(B,H){O===It?B.id=Xe():H?He():B.id=null,B.params=[];var tt=!0;for(ce(lt);!ie(pt);)tt?tt=!1:ce(Lt),B.params.push(Xe());var at=dt,zt=yt;if(dt=!0,yt=[],B.body=Ai(!0),dt=at,yt=zt,et||B.body.body.length&&Xi(B.body.body[0]))for(var Bt=B.id?-1:0;Bt<B.params.length;++Bt){var Vt=Bt<0?B.id:B.params[Bt];if((Or(Vt.name)||zi(Vt.name))&&rt(Vt.start,"Defining '"+Vt.name+"' in strict mode"),Bt>=0)for(var Gt=0;Gt<Bt;++Gt)Vt.name===B.params[Gt].name&&rt(Vt.start,"Argument name clash in strict mode")}return qt(B,H?"FunctionDeclaration":"FunctionExpression")}function rr(B,H,tt){for(var at=[],zt=!0;!ie(B);){if(zt)zt=!1;else if(ce(Lt),H&&k.allowTrailingCommas&&ie(B))break;tt&&O===Lt?at.push(null):at.push(ye(!0))}return at}function Xe(B){var H=me();return B&&k.forbidReserved=="everywhere"&&(B=!1),O===It?(!B&&(k.forbidReserved&&(k.ecmaVersion===3?Nn:Rn)(V)||et&&Or(V))&&p.slice(T,M).indexOf("\\")==-1&&rt(T,"The keyword '"+V+"' is reserved"),H.name=V):B&&O.keyword?H.name=O.keyword:He(),q=!1,Ut(),qt(H,"Identifier")}}),e.version||(e=null)}function s(m,k){return(t.acorn||e).parse(m,k)}var a={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},h={"-":"__negate","+":"__self"},u=E.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(m){this["__"+m]="#"+m},{__self:function(){return this}});R.inject(u),ot.inject(u),re.inject(u);function l(m,k,p){var b=a[k];if(m&&m[b]){var f=m[b](p);return k==="!="?!f:f}switch(k){case"+":return m+p;case"-":return m-p;case"*":return m*p;case"/":return m/p;case"%":return m%p;case"==":return m==p;case"!=":return m!=p}}function c(m,k){var p=h[m];if(k&&k[p])return k[p]();switch(m){case"+":return+k;case"-":return-k}}function _(m,k){if(!m)return"";k=k||{};var p=[];function b(et){for(var rt=0,vt=p.length;rt<vt;rt++){var xt=p[rt];if(xt[0]>=et)break;et+=xt[1]}return et}function f(et){return m.substring(b(et.range[0]),b(et.range[1]))}function y(et,rt){return m.substring(b(et.range[1]),b(rt.range[0]))}function S(et,rt){for(var vt=b(et.range[0]),xt=b(et.range[1]),bt=0,At=p.length-1;At>=0;At--)if(vt>p[At][0]){bt=At+1;break}p.splice(bt,0,[vt,rt.length-xt+vt]),m=m.substring(0,vt)+rt+m.substring(xt)}function I(et,rt){switch(et.type){case"UnaryExpression":if(et.operator in h&&et.argument.type!=="Literal"){var vt=f(et.argument);S(et,'$__("'+et.operator+'", '+vt+")")}break;case"BinaryExpression":if(et.operator in a&&et.left.type!=="Literal"){var xt=f(et.left),bt=f(et.right),At=y(et.left,et.right),It=et.operator;S(et,"__$__("+xt+","+At.replace(new RegExp("\\"+It),'"'+It+'"')+", "+bt+")")}break;case"UpdateExpression":case"AssignmentExpression":var Nt=rt&&rt.type;if(!(Nt==="ForStatement"||Nt==="BinaryExpression"&&/^[=!<>]/.test(rt.operator)||Nt==="MemberExpression"&&rt.computed)){if(et.type==="UpdateExpression"){var vt=f(et.argument),ct="__$__("+vt+', "'+et.operator[0]+'", 1)',Pt=vt+" = "+ct;et.prefix?Pt="("+Pt+")":(Nt==="AssignmentExpression"||Nt==="VariableDeclarator"||Nt==="BinaryExpression")&&(f(rt.left||rt.id)===vt&&(Pt=ct),Pt=vt+"; "+Pt),S(et,Pt)}else if(/^.=$/.test(et.operator)&&et.left.type!=="Literal"){var xt=f(et.left),bt=f(et.right),ct=xt+" = __$__("+xt+', "'+et.operator[0]+'", '+bt+")";S(et,/^\(.*\)$/.test(f(et))?"("+ct+")":ct)}}break}}function C(et){switch(et.type){case"ExportDefaultDeclaration":S({range:[et.start,et.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var rt=et.declaration,vt=et.specifiers;if(rt){var xt=rt.declarations;xt&&(xt.forEach(function(At){S(At,"module.exports."+f(At))}),S({range:[et.start,rt.start+rt.kind.length]},""))}else if(vt){var bt=vt.map(function(At){var It=f(At);return"module.exports."+It+" = "+It+"; "}).join("");bt&&S(et,bt)}break}}function T(et,rt,vt){if(et){for(var xt in et)if(xt!=="range"&&xt!=="loc"){var bt=et[xt];if(Array.isArray(bt))for(var At=0,It=bt.length;At<It;At++)T(bt[At],et,vt);else bt&&typeof bt=="object"&&T(bt,et,vt)}vt.operatorOverloading!==!1&&I(et,rt),vt.moduleExports!==!1&&C(et)}}function M(et){var rt="",vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(et=(Math.abs(et)<<1)+(et<0?1:0);et||!rt;){var xt=et&31;et>>=5,et&&(xt|=32),rt+=vt[xt]}return rt}var z=k.url||"",D=k.sourceMaps,O=k.paperFeatures||{},V=k.source||m,q=k.offset||0,j=St.agent,W=j.versionNumber,Q=!1,ht=/\r\n|\n|\r/mg,ft;if(D&&(j.chrome&&W>=30||j.webkit&&W>=537.76||j.firefox&&W>=23||j.node)){if(j.node)q-=2;else if(U&&z&&!U.location.href.indexOf(z)){var dt=X.getElementsByTagName("html")[0].innerHTML;q=dt.substr(0,dt.indexOf(m)+1).match(ht).length+1}Q=q>0&&!(j.chrome&&W>=36||j.safari&&W>=600||j.firefox&&W>=40||j.node);var yt=["AA"+M(Q?0:q)+"A"];yt.length=(m.match(ht)||[]).length+1+(Q?q:0),ft={version:3,file:z,names:[],mappings:yt.join(";AACA"),sourceRoot:"",sources:[z],sourcesContent:[V]}}return(O.operatorOverloading!==!1||O.moduleExports!==!1)&&T(s(m,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,O),ft&&(Q&&(m=new Array(q+1).join(`
`)+m),/^(inline|both)$/.test(D)&&(m+=`
//# sourceMappingURL=data:application/json;base64,`+ut.btoa(unescape(encodeURIComponent(JSON.stringify(ft))))),m+=`
//# sourceURL=`+(z||"paperscript")),{url:z,source:V,code:m,map:ft}}function v(m,k,p){St=k;var b=k.getView(),f=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(m)&&!/\bnew\s+Tool\b/.test(m)?new wi:null,y=f?f._events:[],S=["onFrame","onResize"].concat(y),I=[],C=[],T,M=typeof m=="object"?m:_(m,p);m=M.code;function z(W,Q){for(var ht in W)(Q||!/^_/.test(ht))&&new RegExp("([\\b\\s\\W]|^)"+ht.replace(/\$/g,"\\$")+"\\b").test(m)&&(I.push(ht),C.push(W[ht]))}z({__$__:l,$__:c,paper:k,tool:f},!0),z(k),m="var module = { exports: {} }; "+m;var q=E.each(S,function(W){new RegExp("\\s+"+W+"\\b").test(m)&&(I.push(W),this.push("module.exports."+W+" = "+W+";"))},[]).join(`
`);q&&(m+=`
`+q),m+=`
return module.exports;`;var D=St.agent;if(X&&(D.chrome||D.firefox&&D.versionNumber<40)){var O=X.createElement("script"),V=X.head||X.getElementsByTagName("head")[0];D.firefox&&(m=`
`+m),O.appendChild(X.createTextNode("document.__paperscript__ = function("+I+") {"+m+`
}`)),V.appendChild(O),T=X.__paperscript__,delete X.__paperscript__,V.removeChild(O)}else T=Function(I,m);var q=T&&T.apply(k,C),j=q||{};return E.each(y,function(W){var Q=j[W];Q&&(f[W]=Q)}),b&&(j.onResize&&b.setOnResize(j.onResize),b.emit("resize",{size:b.size,delta:new R}),j.onFrame&&b.setOnFrame(j.onFrame),b.requestUpdate()),q}function g(m){if(/^text\/(?:x-|)paperscript$/.test(m.type)&&F.getAttribute(m,"ignore")!=="true"){var k=F.getAttribute(m,"canvas"),p=X.getElementById(k),b=m.src||m.getAttribute("data-src"),f=F.hasAttribute(m,"async"),y="data-paper-scope";if(!p)throw new Error('Unable to find canvas with id "'+k+'"');var S=F.get(p.getAttribute(y))||new F().setup(p);return p.setAttribute(y,S._id),b?li.request({url:b,async:f,mimeType:"text/plain",onLoad:function(I){v(I,S,b)}}):v(m.innerHTML,S,m.baseURI),m.setAttribute("data-paper-ignore","true"),S}}function d(){E.each(X&&X.getElementsByTagName("script"),g)}function w(m){return m?g(m):d()}return U&&(X.readyState==="complete"?setTimeout(d):Jt.add(U,{load:d})),{compile:_,execute:v,load:w,parse:s,calculateBinary:l,calculateUnary:c}}.call(this);var St=new(F.inject(E.exports,{Base:E,Numerical:J,Key:xi,DomEvent:Jt,DomElement:Xt,document:X,window:U,Symbol:oe,PlacedSymbol:Ye}));return St.agent.node&&cn(St),typeof L=="function"&&L.amd?L("paper",St):it&&(it.exports=St),St}).call(le,typeof self=="object"?self:null)})(kn);var yo=kn.exports;const xo=gn(yo);const Pn=it=>(Ui("data-v-cc828d00"),it=it(),Hi(),it),bo={class:"flex flex-col items-center"},wo=Pn(()=>Ot("svg",{id:"tsoop-logo",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"400",height:"108px",viewBox:"0 0 400 108",space:"preserve"},[Ot("line",{class:"st2",x1:"12.4",y1:"34.5",x2:"40.3",y2:"34.5"}),Ot("path",{class:"st2",d:"M26.4,8.9l-0.2,73.7c0,0,0,10.5,13.3,6.9"}),Ot("path",{class:"st2",d:"M51.8,78.7c6.6,14.2,39.3,13.6,40.3-2.8c1.2-20-38.7-10.1-38.2-27.8c0.4-15.7,26.9-19.2,38.1-5.4"}),Ot("circle",{class:"st2",cx:"129.7",cy:"62.1",r:"27.4"}),Ot("circle",{class:"st2",cx:"192.9",cy:"62.1",r:"27.4"}),Ot("line",{class:"st2",x1:"231",y1:"33.9",x2:"231",y2:"115.4"}),Ot("circle",{class:"st2",cx:"258.3",cy:"62.1",r:"27.4"}),Ot("line",{class:"st4",x1:"12.4",y1:"34.5",x2:"40.3",y2:"34.5"}),Ot("path",{class:"st4",d:"M26.4,8.9l-0.2,73.7c0,0,0,10.5,13.3,6.9"}),Ot("path",{class:"st4",d:"M51.8,78.7c6.6,14.2,39.3,13.6,40.3-2.8c1.2-20-38.7-10.1-38.2-27.8c0.4-15.7,26.9-19.2,38.1-5.4"}),Ot("circle",{class:"st4",cx:"129.7",cy:"62.1",r:"27.4"}),Ot("circle",{class:"st4",cx:"192.9",cy:"62.1",r:"27.4"}),Ot("line",{class:"st4",x1:"231",y1:"33.9",x2:"231",y2:"115.4"}),Ot("circle",{class:"st4",cx:"258.3",cy:"62.1",r:"27.4"}),Ot("line",{class:"st3",x1:"12.4",y1:"34.5",x2:"40.3",y2:"34.5"}),Ot("path",{class:"st3",d:"M26.4,8.9l-0.2,73.7c0,0,0,10.5,13.3,6.9"}),Ot("path",{class:"st3",d:"M51.8,78.7c6.6,14.2,39.3,13.6,40.3-2.8c1.2-20-38.7-10.1-38.2-27.8c0.4-15.7,26.9-19.2,38.1-5.4"}),Ot("circle",{class:"st3",cx:"129.7",cy:"62.1",r:"27.4"}),Ot("circle",{class:"st3",cx:"192.9",cy:"62.1",r:"27.4"}),Ot("line",{class:"st3",x1:"231",y1:"33.9",x2:"231",y2:"115.4"}),Ot("circle",{class:"st3",cx:"258.3",cy:"62.1",r:"27.4"})],-1)),Co=Pn(()=>Ot("canvas",{class:"zdog-canvas",id:"tsoop",width:"360",height:"200"},null,-1)),So=[wo,Co],ko={__name:"TopLogo",setup(it){const{paper:ut}=xo;return us(()=>{var L=document.getElementById("tsoop-logo");L.style.visibility="hidden",L.style.position="absolute";var U={width:L.getBBox().width,height:L.getBBox().width},X={x:-U.width/2,y:-U.height/2},E=new ut.Project([U.width,U.height]);E.importSVG(L,{import:!1});var nt=E.layers[0].children[0];nt.parent.insertChildren(nt.index,nt.removeChildren()),nt.remove(),E.layers[0].children[0].remove();var Y=new Ne.Illustration({element:".zdog-canvas",zoom:1,translate:{y:60,x:-10},onPrerender:function(wt){}}),K=4;let G=new Ne.Anchor({addTo:Y});E.layers[0].children.forEach(function(wt){var kt=(wt.index-wt.parent.children.length/2)*K,jt={Path(){var Et=[];for(var P of wt.segments)P.index==0?Et.push({x:P.point.x,y:P.point.y}):(Et.push({bezier:[{x:P.previous.point.x+P.previous.handleOut.x,y:P.previous.point.y+P.previous.handleOut.y},{x:P.point.x+P.handleIn.x,y:P.point.y+P.handleIn.y},{x:P.point.x,y:P.point.y}]}),wt.closed&&P.index==wt.segments.length-1&&Et.push({bezier:[{x:P.point.x+P.handleOut.x,y:P.point.y+P.handleOut.y},{x:P.next.point.x+P.next.handleIn.x,y:P.next.point.y+P.next.handleIn.y},{x:P.next.point.x,y:P.next.point.y}]}));new Ne.Shape({addTo:G,path:Et,closed:wt.closed,stroke:wt.strokeWidth,fill:wt.fillColor!=null,color:wt.strokeColor?wt.strokeColor.toCSS(!0):wt.fillColor.toCSS(!0),translate:{x:X.x,y:X.y,z:kt}})},Shape(){var Et={rectangle(){new Ne.Rect({addTo:G,width:wt.size.width,height:wt.size.height,translate:{x:wt.position.x+X.x,y:wt.position.y+X.y,z:wt.index*K},fill:wt.fillColor!=null,stroke:wt.strokeWidth,color:wt.strokeColor?wt.strokeColor.toCSS(!0):wt.fillColor.toCSS(!0)})},ellipse(){new Ne.Ellipse({addTo:G,width:wt.size.width,height:wt.size.height,translate:{x:wt.position.x+X.x,y:wt.position.y+X.y,z:kt},fill:wt.fillColor!=null,stroke:wt.strokeWidth,color:wt.strokeColor?wt.strokeColor.toCSS(!0):wt.fillColor.toCSS(!0)})},circle(){new Ne.Ellipse({addTo:G,diameter:wt.radius*2,translate:{x:wt.position.x+X.x,y:wt.position.y+X.y,z:kt},fill:wt.fillColor!=null,stroke:wt.strokeWidth,color:wt.strokeColor?wt.strokeColor.toCSS(!0):wt.fillColor.toCSS(!0)})},default(){console.log(`Shape ${wt.type} not supported`)}};return(Et[wt.type]||Et.default)()},default(){console.log(`${wt.className} ${wt.type} not supported`)}};return(jt[wt.className]||jt.default)()});const J=Ne.TAU;let st=new Ne.Vector,R,_t;new Ne.Dragger({startElement:".zdog-canvas",onDragStart:()=>{R=st.x,_t=st.y},onDragMove:function(wt,kt,jt){let Et=jt/Y.width*J,P=kt/Y.width*J;st.x=R-Et,st.y=_t-P}});let ot=0,Ct=200;function mt(){let wt=ot/Ct,kt=Ne.easeInOut(wt%3,20);Y.rotate.y=kt*Ne.TAU,ot++,G.rotate.set(st),Y.updateRenderGraph(),requestAnimationFrame(mt)}mt()}),(L,U)=>(Ft(),Wt("div",bo,So))}},Po=Ve(ko,[["__scopeId","data-v-cc828d00"]]),Io=it=>(Ui("data-v-0ce44abc"),it=it(),Hi(),it),Ao={class:"row"},Eo=Io(()=>Ot("div",{class:"title"},"live multimedia generation",-1));function To(it,ut){const L=Po;return Ft(),Wt("div",Ao,[se(L,{class:"flex-1"}),Eo])}const Lo={},Oo=Ve(Lo,[["render",To],["__scopeId","data-v-0ce44abc"]]),Mo={class:"row"},zo=Gi('<div class="link text-2xl" data-v-4864a6f4>Experiments:</div><a class="link" href="/exp/wave/" data-v-4864a6f4>Distorted waves</a><a class="link" href="/exp/blob/" data-v-4864a6f4>Morphing blob</a><a class="link" href="/exp/simplex/" data-v-4864a6f4>Simplex noise</a><a class="link" href="/exp/hydra/" data-v-4864a6f4>Hydra synth</a>',5),No=[zo];function Ro(it,ut){return Ft(),Wt("div",Mo,No)}const Bo={},Vo=Ve(Bo,[["render",Ro],["__scopeId","data-v-4864a6f4"]]),Ko=JSON.parse(`{"title":"live media generation","description":"","frontmatter":{"title":"live media generation","home":true,"mainLinks":{"instagram":"https://www.instagram.com/tsoop.music","bandcamp":"https://tsoop.bandcamp.com/","github":"https://github.com/tsoop-com","youtube":"https://www.youtube.com/@tsoop","spotify":"https://open.spotify.com/artist/0y3vCTnY6F5UROyBnOAPuF?si=TTC8BaneT0egl9Ek9Z11Hw","apple":"https://music.apple.com/us/artist/tsoop/1473343646"},"albums":{"best_exit":{"title":"Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ð²Ñ‹Ñ…Ð¾Ð´ Ð²ÑÐµÐ³Ð´Ð° Ð½Ð°ÑÐºÐ²Ð¾Ð·ÑŒ","description":"ÐÐ¾Ð²Ð°Ñ ÐºÐ¾Ð»Ð»Ð°Ð±Ð¾Ñ€Ð°Ñ†Ð¸Ñ Ñ Ð”Ð°Ñ€ÑŒÐµÐ¹ Ð¢Ð¸ÑˆÐ¸Ð½Ð¾Ð¹. Ð’Ð¿ÐµÑ€Ð²Ñ‹Ðµ Ð¸ÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¾ Ð²Ð¶Ð¸Ð²ÑƒÑŽ Ð½Ð° Ð§Ñ‚ÐµÑ†Ð°Ñ… Ð²ÐµÑÐ½Ð¾Ð¹ 2022 Ð³Ð¾Ð´Ð°.","released":"16.09.2022","background":"#2a5781","cover":"/img/exit.jpg","bandcamp":"https://bandcamp.com/EmbeddedPlayer/album=2214815470/size=large/bgcol=ffffff/linkcol=0687f5/artwork=none/transparent=true/","links":{"apple":"https://music.apple.com/us/album/%D0%BB%D1%83%D1%87%D1%88%D0%B8%D0%B9-%D0%B2%D1%8B%D1%85%D0%BE%D0%B4-%D0%B2%D1%81%D0%B5%D0%B3%D0%B4%D0%B0-%D0%BD%D0%B0%D1%81%D0%BA%D0%B2%D0%BE%D0%B7%D1%8C-feat-daria-tishina-single/1646003822","spotify":"https://open.spotify.com/album/1vbMoZrprMVDxnQCVGZDa4","youtube":"https://music.youtube.com/playlist?list=OLAK5uy_m4-odKCOlPlX08_btp1iqsJldAY34TaDg","yandex":"https://music.yandex.ru/album/23431950","vk":"https://vk.com/music/playlist/129086_50020682_3221ed49369036f3a4","amazon":"https://music.amazon.com/albums/B0BD7J52CD","boomplay":"https://www.boomplay.com/albums/54303101","deezer":"https://www.deezer.com/ru/album/354247257"}},"joy_collab":{"title":"joy of collaboration","description":"A remix collaboration of 6 producers from Russia. Their takes on the Circle of Joy single - diverse, fun and very intense. Let's dance!","bandcamp":"https://bandcamp.com/EmbeddedPlayer/album=3718915413/size=large/bgcol=ffffff/linkcol=0687f5/artwork=none/transparent=true/","cover":"/img/rmx.jpg","background":"#75cdaa","released":"20.06.2021","links":{"apple":"https://music.apple.com/us/album/joy-of-collaboration/1571038664","spotify":"https://open.spotify.com/album/7ed9anWgxTL6ur5uufTxF2","youtube":"https://music.youtube.com/playlist?list=OLAK5uy_lEf_okwpcVgDxw1ApY9U2wYQe8e1eV1II","yandex":"https://music.yandex.ru/album/15766107","amazon":"https://music.amazon.com/albums/B095N8FLYH","boomplay":"https://www.boomplay.com/albums/26006180","deezer":"https://www.deezer.com/ru/album/232350852"}},"circle":{"title":"circle of joy","description":"A song about the structure of any creative process. Weâ€™re noting all the steps tou need to go through in order to realise any idea. From just a simple sketch to the final presentation. And having fun with every step made in this beautiful journey.","bandcamp":"https://bandcamp.com/EmbeddedPlayer/album=1151967928/size=large/bgcol=ffffff/linkcol=0687f5/artwork=none/transparent=true/","cover":"/img/circle.jpg","background":"#2d8ea4","released":"02.04.2021","video":["5aSf6ik05aY","h09USuZoeHM"],"links":{"spotify":"https://open.spotify.com/album/7zpJFhhJ65WA25H4yGyqL2","apple":"https://music.apple.com/us/album/circle-of-joy-single/1560696968","youtube":"https://music.youtube.com/playlist?list=OLAK5uy_kXQ7Sa9y7Rm-xTqHgEn7jYaBwTtQ26ptc","yandex":"https://music.yandex.ru/album/14413149","vk":"https://vk.com/music/playlist/129086_50020677_90cae49f028bed02d8","amazon":"https://music.amazon.com/albums/B08YZBNXDP","boomplay":"https://www.boomplay.com/albums/22816238","deezer":"https://www.deezer.com/ru/album/215195452"}},"drops":{"title":"drops","description":"colorful blobs moving freely in the unlimited space","link":"https://drops.tsoop.com","bandcamp":"https://bandcamp.com/EmbeddedPlayer/album=3829524105/size=large/bgcol=ffffff/linkcol=0687f5/artwork=none/transparent=true/","cover":"/img/drops.jpg","background":"#b77fb0","released":"20.10.2020","video":["_qNixUQ2ka8","XolLvOAoejo","SoT7O82cjWA","F_55F__x-SI","h-Vwh9Jhr88"],"links":{"spotify":"https://open.spotify.com/album/2NDJPHtTYKTxaGEbROyCTu?si=zMtr_Bw-TmKTC1QoB61AOw","apple":"https://music.apple.com/ru/album/drops/1540753447","youtube":"https://music.youtube.com/playlist?list=OLAK5uy_km3FiWVOIj91gJ7-okHSn8XUsKl0T1YW8","yandex":"https://music.yandex.ru/album/12666310","vk":"https://vk.com/music/playlist/129086_50020670_f65a1ff6463168a5fc","amazon":"https://music.amazon.com/albums/B08ML4BCGT","boomplay":"https://www.boomplay.com/albums/17750669?from=search","deezer":"https://www.deezer.com/ru/album/184036962"}},"spring":{"title":"spring steam","description":"shades of blooming flowers, melting ice and sounds of our soulsâ€™ inner strings","bandcamp":"https://bandcamp.com/EmbeddedPlayer/album=3010274316/size=large/bgcol=ffffff/linkcol=0687f5/artwork=none/transparent=true/","cover":"/img/spring.jpg","background":"#b0da97","released":"01.05.2020","video":["Vwt57rGZUWg","ZwuDowhVtaI"]},"miracle":{"title":"miracle mechanism live feat. daria dubovik","description":"live performance @ 7th WAFEst festival","cover":"/img/miracle.png","bandcamp":"https://bandcamp.com/EmbeddedPlayer/album=3719716987/size=large/bgcol=89adb2/linkcol=0687f5/artwork=none/transparent=true/","background":"#89adb2","released":"17.07.2019","links":{"spotify":"https://open.spotify.com/album/19fRx1rV4uAmjNaQfOhRmL?si=ub-kiO77Q-mrk-X8sRTLPQ","apple":"https://music.apple.com/us/album/miracle-mechanism-live/1483671339","youtube":"https://music.youtube.com/playlist?list=OLAK5uy_kl_vb-pjGJRV3v5fBA1ZtbvERuit87vsk","yandex":"https://music.yandex.ru/album/8877544","vk":"https://vk.com/music/album/129086_50020659","amazon":"https://www.amazon.com/Miracle-Mechanism-tsoop/dp/B07YNC3KBX/ref=sr_1_1?keywords=tsoop&qid=1577706006&s=dmusic&sr=1-1","boomplay":"https://www.boomplay.com/albums/4542412?from=search&srModel=COPYLINK&srList=WEB","deezer":"https://www.deezer.com/ru/album/113259752"}},"cassini":{"title":"cassini dreams","description":"Tribute to the Cassini-Huygnes Saturn exploration space mission","cover":"/img/cassini.png","coverClass":"bounce","background":"url('/img/saturn.jpg') no-repeat center","released":"01.09.2017","bandcamp":"https://bandcamp.com/EmbeddedPlayer/album=3099555767/size=large/bgcol=ffffff/linkcol=0687f5/artwork=none/transparent=true/","links":{"spotify":"https://open.spotify.com/album/6yU61kt9BTiKsy4CHoS29v","apple":"https://music.apple.com/us/album/cassini-dreams/1500023423","youtube":"https://music.youtube.com/playlist?list=OLAK5uy_np3dWefMN3gkTgpdhz5FyaInVb3z5-MZk","yandex":"https://music.yandex.ru/album/9847367","vk":"https://vk.com/music/album/129086_50020668","amazon":"https://www.amazon.com/Cassini-Dreams-tsoop/dp/B084J78HQF","boomplay":"https://www.boomplay.com/albums/7454561","deezer":"https://www.deezer.com/ru/album/130687022"}}},"impro":{"video":["_p0WiIEkknQ","X4Jh3f8Hmp4","l8b2_6i3sSE"]},"openSource":{"video":["K2MwpOd8vEI","eLXAFOZaaTw","yq9eTAs3BX8"]}},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":1686031751000}`),Fo={name:"index.md"},Zo=Object.assign(Fo,{setup(it){return(ut,L)=>{const U=Oo,X=so,E=vn,nt=$a,F=Za,Y=ja,K=ks,G=_s;return Ft(),Wt("div",null,[se(U),se(X),se(E,{color:"#709c65",class:"text-4xl py-16 row",links:ut.$frontmatter.mainLinks},null,8,["links"]),se(nt,{class:"row"}),se(ls,{folder:"/events/mgm/"}),se(F,{list:ut.$frontmatter.openSource.video},null,8,["list"]),se(Y,{id:"best_exit",album:ut.$frontmatter.albums.best_exit},null,8,["album"]),se(F,{list:ut.$frontmatter.impro.video},null,8,["list"]),se(Y,{album:ut.$frontmatter.albums.circle},null,8,["album"]),se(F,{list:ut.$frontmatter.albums.circle.video},null,8,["list"]),se(Y,{album:ut.$frontmatter.albums.joy_collab},null,8,["album"]),se(Y,{album:ut.$frontmatter.albums.drops},null,8,["album"]),se(F,{list:ut.$frontmatter.albums.drops.video},null,8,["list"]),se(Y,{album:ut.$frontmatter.albums.spring},null,8,["album"]),se(F,{list:ut.$frontmatter.albums.spring.video},null,8,["list"]),se(Y,{album:ut.$frontmatter.albums.miracle},null,8,["album"]),se(K),se(Y,{album:ut.$frontmatter.albums.cassini},null,8,["album"]),se(G),se(Vo)])}}});export{Ko as __pageData,Zo as default};
