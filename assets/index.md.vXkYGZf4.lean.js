import{_ as Qi,k as Ni,l as Ri,$ as Hn,x as Wn,m as Kt,o as jn,B as Li,y as Kn,u as Xn}from"./chunks/framework.Bnlfk2kj.js";import{_ as Zn}from"./chunks/Links.B6KIdiIm.js";import{c as oe,g as fn,a as Yn}from"./chunks/commonjsHelpers.BosuxZz1.js";const Qn={__name:"AboutUs",props:{color:{type:String,default:"#88485d"}},setup(wt){return(vt,N)=>(Ni(),Ri("div",{class:"flex flex-wrap text-light-800 bg-dark-500 py-16 gap-2",style:Wn({backgroundColor:wt.color})},N[0]||(N[0]=[Hn("",3)]),4))}},Jn=Qi(Qn,[["__scopeId","data-v-84bb3caf"]]),$n={class:"row"};function ts(wt,vt){return Ni(),Ri("div",$n,vt[0]||(vt[0]=[Kt("div",{class:"panel"},[Kt("div",{class:"text-4xl"},"collaborative arts improvisation project"),Kt("div",{class:"text-xl my-4"},"We design and practice friendly music and art cocreation")],-1),Kt("div",{class:"panel"},"We believe that everyone is an artist. It means any ideas are worth being expressed. So we search for new ways to bring us together to play, create and experience art. ",-1)]))}const es={},is=Qi(es,[["render",ts],["__scopeId","data-v-9618aca6"]]);var cn={exports:{}},cr={exports:{}};/*!
 * Zdog v1.1.3
 * Round, flat, designer-friendly pseudo-3D engine
 * Licensed MIT
 * https://zzz.dog
 * Copyright 2020 Metafizzy
 */var Hr;function Be(){return Hr||(Hr=1,function(wt){(function(vt,N){wt.exports?wt.exports=N():vt.Zdog=N()})(oe,function(){var N={};N.TAU=Math.PI*2,N.extend=function(Q,E){for(var at in E)Q[at]=E[at];return Q},N.lerp=function(Q,E,at){return(E-Q)*at+Q},N.modulo=function(Q,E){return(Q%E+E)%E};var G={2:function(Q){return Q*Q},3:function(Q){return Q*Q*Q},4:function(Q){return Q*Q*Q*Q},5:function(Q){return Q*Q*Q*Q*Q}};return N.easeInOut=function(Q,E){if(E==1)return Q;Q=Math.max(0,Math.min(1,Q));var at=Q<.5,D=at?Q:1-Q;D/=.5;var J=G[E]||G[2],X=J(D);return X/=2,at?X:1-X},N})}(cr)),cr.exports}var dr={exports:{}},Wr;function dn(){return Wr||(Wr=1,function(wt){(function(vt,N){wt.exports?wt.exports=N():vt.Zdog.CanvasRenderer=N()})(oe,function(){var N={isCanvas:!0};return N.begin=function(G){G.beginPath()},N.move=function(G,Q,E){G.moveTo(E.x,E.y)},N.line=function(G,Q,E){G.lineTo(E.x,E.y)},N.bezier=function(G,Q,E,at,D){G.bezierCurveTo(E.x,E.y,at.x,at.y,D.x,D.y)},N.closePath=function(G){G.closePath()},N.setPath=function(){},N.renderPath=function(G,Q,E,at){this.begin(G,Q),E.forEach(function(D){D.render(G,Q,N)}),at&&this.closePath(G,Q)},N.stroke=function(G,Q,E,at,D){E&&(G.strokeStyle=at,G.lineWidth=D,G.stroke())},N.fill=function(G,Q,E,at){E&&(G.fillStyle=at,G.fill())},N.end=function(){},N})}(dr)),dr.exports}var pr={exports:{}},jr;function pn(){return jr||(jr=1,function(wt){(function(vt,N){wt.exports?wt.exports=N():vt.Zdog.SvgRenderer=N()})(oe,function(){var N={isSvg:!0},G=N.round=function(E){return Math.round(E*1e3)/1e3};function Q(E){return G(E.x)+","+G(E.y)+" "}return N.begin=function(){},N.move=function(E,at,D){return"M"+Q(D)},N.line=function(E,at,D){return"L"+Q(D)},N.bezier=function(E,at,D,J,X){return"C"+Q(D)+Q(J)+Q(X)},N.closePath=function(){return"Z"},N.setPath=function(E,at,D){at.setAttribute("d",D)},N.renderPath=function(E,at,D,J){var X="";D.forEach(function(W){X+=W.render(E,at,N)}),J&&(X+=this.closePath(E,at)),this.setPath(E,at,X)},N.stroke=function(E,at,D,J,X){D&&(at.setAttribute("stroke",J),at.setAttribute("stroke-width",X))},N.fill=function(E,at,D,J){var X=D?J:"none";at.setAttribute("fill",X)},N.end=function(E,at){E.appendChild(at)},N})}(pr)),pr.exports}var gr={exports:{}},Kr;function vi(){return Kr||(Kr=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(Be());else{var G=vt.Zdog;G.Vector=N(G)}})(oe,function(N){function G(D){this.set(D)}var Q=N.TAU;G.prototype.set=function(D){return this.x=D&&D.x||0,this.y=D&&D.y||0,this.z=D&&D.z||0,this},G.prototype.write=function(D){return D?(this.x=D.x!=null?D.x:this.x,this.y=D.y!=null?D.y:this.y,this.z=D.z!=null?D.z:this.z,this):this},G.prototype.rotate=function(D){if(D)return this.rotateZ(D.z),this.rotateY(D.y),this.rotateX(D.x),this},G.prototype.rotateZ=function(D){E(this,D,"x","y")},G.prototype.rotateX=function(D){E(this,D,"y","z")},G.prototype.rotateY=function(D){E(this,D,"x","z")};function E(D,J,X,W){if(!(!J||J%Q===0)){var $=Math.cos(J),st=Math.sin(J),z=D[X],pt=D[W];D[X]=z*$-pt*st,D[W]=pt*$+z*st}}G.prototype.isSame=function(D){return D?this.x===D.x&&this.y===D.y&&this.z===D.z:!1},G.prototype.add=function(D){return D?(this.x+=D.x||0,this.y+=D.y||0,this.z+=D.z||0,this):this},G.prototype.subtract=function(D){return D?(this.x-=D.x||0,this.y-=D.y||0,this.z-=D.z||0,this):this},G.prototype.multiply=function(D){return D==null?this:(typeof D=="number"?(this.x*=D,this.y*=D,this.z*=D):(this.x*=D.x!=null?D.x:1,this.y*=D.y!=null?D.y:1,this.z*=D.z!=null?D.z:1),this)},G.prototype.transform=function(D,J,X){return this.multiply(X),this.rotate(J),this.add(D),this},G.prototype.lerp=function(D,J){return this.x=N.lerp(this.x,D.x||0,J),this.y=N.lerp(this.y,D.y||0,J),this.z=N.lerp(this.z,D.z||0,J),this},G.prototype.magnitude=function(){var D=this.x*this.x+this.y*this.y+this.z*this.z;return at(D)};function at(D){return Math.abs(D-1)<1e-8?1:Math.sqrt(D)}return G.prototype.magnitude2d=function(){var D=this.x*this.x+this.y*this.y;return at(D)},G.prototype.copy=function(){return new G(this)},G})}(gr)),gr.exports}var _r={exports:{}},Xr;function hi(){return Xr||(Xr=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(Be(),vi(),dn(),pn());else{var G=vt.Zdog;G.Anchor=N(G,G.Vector,G.CanvasRenderer,G.SvgRenderer)}})(oe,function(N,G,Q,E){var at=N.TAU,D={x:1,y:1,z:1};function J(W){this.create(W||{})}J.prototype.create=function(W){this.children=[],N.extend(this,this.constructor.defaults),this.setOptions(W),this.translate=new G(W.translate),this.rotate=new G(W.rotate),this.scale=new G(D).multiply(this.scale),this.origin=new G,this.renderOrigin=new G,this.addTo&&this.addTo.addChild(this)},J.defaults={},J.optionKeys=Object.keys(J.defaults).concat(["rotate","translate","scale","addTo"]),J.prototype.setOptions=function(W){var $=this.constructor.optionKeys;for(var st in W)$.indexOf(st)!=-1&&(this[st]=W[st])},J.prototype.addChild=function(W){this.children.indexOf(W)==-1&&(W.remove(),W.addTo=this,this.children.push(W))},J.prototype.removeChild=function(W){var $=this.children.indexOf(W);$!=-1&&this.children.splice($,1)},J.prototype.remove=function(){this.addTo&&this.addTo.removeChild(this)},J.prototype.update=function(){this.reset(),this.children.forEach(function(W){W.update()}),this.transform(this.translate,this.rotate,this.scale)},J.prototype.reset=function(){this.renderOrigin.set(this.origin)},J.prototype.transform=function(W,$,st){this.renderOrigin.transform(W,$,st),this.children.forEach(function(z){z.transform(W,$,st)})},J.prototype.updateGraph=function(){this.update(),this.updateFlatGraph(),this.flatGraph.forEach(function(W){W.updateSortValue()}),this.flatGraph.sort(J.shapeSorter)},J.shapeSorter=function(W,$){return W.sortValue-$.sortValue},Object.defineProperty(J.prototype,"flatGraph",{get:function(){return this._flatGraph||this.updateFlatGraph(),this._flatGraph},set:function(W){this._flatGraph=W}}),J.prototype.updateFlatGraph=function(){this.flatGraph=this.getFlatGraph()},J.prototype.getFlatGraph=function(){var W=[this];return this.addChildFlatGraph(W)},J.prototype.addChildFlatGraph=function(W){return this.children.forEach(function($){var st=$.getFlatGraph();Array.prototype.push.apply(W,st)}),W},J.prototype.updateSortValue=function(){this.sortValue=this.renderOrigin.z},J.prototype.render=function(){},J.prototype.renderGraphCanvas=function(W){if(!W)throw new Error("ctx is "+W+". Canvas context required for render. Check .renderGraphCanvas( ctx ).");this.flatGraph.forEach(function($){$.render(W,Q)})},J.prototype.renderGraphSvg=function(W){if(!W)throw new Error("svg is "+W+". SVG required for render. Check .renderGraphSvg( svg ).");this.flatGraph.forEach(function($){$.render(W,E)})},J.prototype.copy=function(W){var $={},st=this.constructor.optionKeys;st.forEach(function(pt){$[pt]=this[pt]},this),N.extend($,W);var z=this.constructor;return new z($)},J.prototype.copyGraph=function(W){var $=this.copy(W);return this.children.forEach(function(st){st.copyGraph({addTo:$})}),$},J.prototype.normalizeRotate=function(){this.rotate.x=N.modulo(this.rotate.x,at),this.rotate.y=N.modulo(this.rotate.y,at),this.rotate.z=N.modulo(this.rotate.z,at)};function X(W){return function($){function st(z){this.create(z||{})}return st.prototype=Object.create(W.prototype),st.prototype.constructor=st,st.defaults=N.extend({},W.defaults),N.extend(st.defaults,$),st.optionKeys=W.optionKeys.slice(0),Object.keys(st.defaults).forEach(function(z){!st.optionKeys.indexOf(z)!=1&&st.optionKeys.push(z)}),st.subclass=X(st),st}}return J.subclass=X(J),J})}(_r)),_r.exports}var vr={exports:{}},Zr;function gn(){return Zr||(Zr=1,function(wt){(function(vt,N){wt.exports?wt.exports=N():vt.Zdog.Dragger=N()})(oe,function(){var N=typeof window<"u",G="mousedown",Q="mousemove",E="mouseup";N&&(window.PointerEvent?(G="pointerdown",Q="pointermove",E="pointerup"):"ontouchstart"in window&&(G="touchstart",Q="touchmove",E="touchend"));function at(){}function D(J){this.create(J||{})}return D.prototype.create=function(J){this.onDragStart=J.onDragStart||at,this.onDragMove=J.onDragMove||at,this.onDragEnd=J.onDragEnd||at,this.bindDrag(J.startElement)},D.prototype.bindDrag=function(J){J=this.getQueryElement(J),J&&(J.style.touchAction="none",J.addEventListener(G,this))},D.prototype.getQueryElement=function(J){return typeof J=="string"&&(J=document.querySelector(J)),J},D.prototype.handleEvent=function(J){var X=this["on"+J.type];X&&X.call(this,J)},D.prototype.onmousedown=D.prototype.onpointerdown=function(J){this.dragStart(J,J)},D.prototype.ontouchstart=function(J){this.dragStart(J,J.changedTouches[0])},D.prototype.dragStart=function(J,X){J.preventDefault(),this.dragStartX=X.pageX,this.dragStartY=X.pageY,N&&(window.addEventListener(Q,this),window.addEventListener(E,this)),this.onDragStart(X)},D.prototype.ontouchmove=function(J){this.dragMove(J,J.changedTouches[0])},D.prototype.onmousemove=D.prototype.onpointermove=function(J){this.dragMove(J,J)},D.prototype.dragMove=function(J,X){J.preventDefault();var W=X.pageX-this.dragStartX,$=X.pageY-this.dragStartY;this.onDragMove(X,W,$)},D.prototype.onmouseup=D.prototype.onpointerup=D.prototype.ontouchend=D.prototype.dragEnd=function(){window.removeEventListener(Q,this),window.removeEventListener(E,this),this.onDragEnd()},D})}(vr)),vr.exports}var mr={exports:{}},Yr;function rs(){return Yr||(Yr=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(Be(),hi(),gn());else{var G=vt.Zdog;G.Illustration=N(G,G.Anchor,G.Dragger)}})(oe,function(N,G,Q){function E(){}var at=N.TAU,D=G.subclass({element:void 0,centered:!0,zoom:1,dragRotate:!1,resize:!1,onPrerender:E,onDragStart:E,onDragMove:E,onDragEnd:E,onResize:E});N.extend(D.prototype,Q.prototype),D.prototype.create=function(X){G.prototype.create.call(this,X),Q.prototype.create.call(this,X),this.setElement(this.element),this.setDragRotate(this.dragRotate),this.setResize(this.resize)},D.prototype.setElement=function(X){if(X=this.getQueryElement(X),!X)throw new Error("Zdog.Illustration element required. Set to "+X);var W=X.nodeName.toLowerCase();W=="canvas"?this.setCanvas(X):W=="svg"&&this.setSvg(X)},D.prototype.setSize=function(X,W){X=Math.round(X),W=Math.round(W),this.isCanvas?this.setSizeCanvas(X,W):this.isSvg&&this.setSizeSvg(X,W)},D.prototype.setResize=function(X){this.resize=X,this.resizeListener||(this.resizeListener=this.onWindowResize.bind(this)),X?(window.addEventListener("resize",this.resizeListener),this.onWindowResize()):window.removeEventListener("resize",this.resizeListener)},D.prototype.onWindowResize=function(){this.setMeasuredSize(),this.onResize(this.width,this.height)},D.prototype.setMeasuredSize=function(){var X,W,$=this.resize=="fullscreen";if($)X=window.innerWidth,W=window.innerHeight;else{var st=this.element.getBoundingClientRect();X=st.width,W=st.height}this.setSize(X,W)},D.prototype.renderGraph=function(X){this.isCanvas?this.renderGraphCanvas(X):this.isSvg&&this.renderGraphSvg(X)},D.prototype.updateRenderGraph=function(X){this.updateGraph(),this.renderGraph(X)},D.prototype.setCanvas=function(X){this.element=X,this.isCanvas=!0,this.ctx=this.element.getContext("2d"),this.setSizeCanvas(X.width,X.height)},D.prototype.setSizeCanvas=function(X,W){this.width=X,this.height=W;var $=this.pixelRatio=window.devicePixelRatio||1;this.element.width=this.canvasWidth=X*$,this.element.height=this.canvasHeight=W*$;var st=$>1&&!this.resize;st&&(this.element.style.width=X+"px",this.element.style.height=W+"px")},D.prototype.renderGraphCanvas=function(X){X=X||this,this.prerenderCanvas(),G.prototype.renderGraphCanvas.call(X,this.ctx),this.postrenderCanvas()},D.prototype.prerenderCanvas=function(){var X=this.ctx;if(X.lineCap="round",X.lineJoin="round",X.clearRect(0,0,this.canvasWidth,this.canvasHeight),X.save(),this.centered){var W=this.width/2*this.pixelRatio,$=this.height/2*this.pixelRatio;X.translate(W,$)}var st=this.pixelRatio*this.zoom;X.scale(st,st),this.onPrerender(X)},D.prototype.postrenderCanvas=function(){this.ctx.restore()},D.prototype.setSvg=function(X){this.element=X,this.isSvg=!0,this.pixelRatio=1;var W=X.getAttribute("width"),$=X.getAttribute("height");this.setSizeSvg(W,$)},D.prototype.setSizeSvg=function(X,W){this.width=X,this.height=W;var $=X/this.zoom,st=W/this.zoom,z=this.centered?-$/2:0,pt=this.centered?-st/2:0;this.element.setAttribute("viewBox",z+" "+pt+" "+$+" "+st),this.resize?(this.element.removeAttribute("width"),this.element.removeAttribute("height")):(this.element.setAttribute("width",X),this.element.setAttribute("height",W))},D.prototype.renderGraphSvg=function(X){X=X||this,J(this.element),this.onPrerender(this.element),G.prototype.renderGraphSvg.call(X,this.element)};function J(X){for(;X.firstChild;)X.removeChild(X.firstChild)}return D.prototype.setDragRotate=function(X){if(X)X===!0&&(X=this);else return;this.dragRotate=X,this.bindDrag(this.element)},D.prototype.dragStart=function(){this.dragStartRX=this.dragRotate.rotate.x,this.dragStartRY=this.dragRotate.rotate.y,Q.prototype.dragStart.apply(this,arguments)},D.prototype.dragMove=function(X,W){var $=W.pageX-this.dragStartX,st=W.pageY-this.dragStartY,z=Math.min(this.width,this.height),pt=$/z*at,nt=st/z*at;this.dragRotate.rotate.x=this.dragStartRX-nt,this.dragRotate.rotate.y=this.dragStartRY-pt,Q.prototype.dragMove.apply(this,arguments)},D})}(mr)),mr.exports}var xr={exports:{}},Qr;function Ji(){return Qr||(Qr=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(vi());else{var G=vt.Zdog;G.PathCommand=N(G.Vector)}})(oe,function(N){function G(D,J,X){this.method=D,this.points=J.map(Q),this.renderPoints=J.map(E),this.previousPoint=X,this.endRenderPoint=this.renderPoints[this.renderPoints.length-1],D=="arc"&&(this.controlPoints=[new N,new N])}function Q(D){return D instanceof N?D:new N(D)}function E(D){return new N(D)}G.prototype.reset=function(){var D=this.points;this.renderPoints.forEach(function(J,X){var W=D[X];J.set(W)})},G.prototype.transform=function(D,J,X){this.renderPoints.forEach(function(W){W.transform(D,J,X)})},G.prototype.render=function(D,J,X){return this[this.method](D,J,X)},G.prototype.move=function(D,J,X){return X.move(D,J,this.renderPoints[0])},G.prototype.line=function(D,J,X){return X.line(D,J,this.renderPoints[0])},G.prototype.bezier=function(D,J,X){var W=this.renderPoints[0],$=this.renderPoints[1],st=this.renderPoints[2];return X.bezier(D,J,W,$,st)};var at=9/16;return G.prototype.arc=function(D,J,X){var W=this.previousPoint,$=this.renderPoints[0],st=this.renderPoints[1],z=this.controlPoints[0],pt=this.controlPoints[1];return z.set(W).lerp($,at),pt.set(st).lerp($,at),X.bezier(D,J,z,pt,st)},G})}(xr)),xr.exports}var yr={exports:{}},Jr;function li(){return Jr||(Jr=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(Be(),vi(),Ji(),hi());else{var G=vt.Zdog;G.Shape=N(G,G.Vector,G.PathCommand,G.Anchor)}})(oe,function(N,G,Q,E){var at=E.subclass({stroke:1,fill:!1,color:"#333",closed:!0,visible:!0,path:[{}],front:{z:1},backface:!0});at.prototype.create=function(W){E.prototype.create.call(this,W),this.updatePath(),this.front=new G(W.front||this.front),this.renderFront=new G(this.front),this.renderNormal=new G};var D=["move","line","bezier","arc"];at.prototype.updatePath=function(){this.setPath(),this.updatePathCommands()},at.prototype.setPath=function(){},at.prototype.updatePathCommands=function(){var W;this.pathCommands=this.path.map(function($,st){var z=Object.keys($),pt=z[0],nt=$[pt],Ct=z.length==1&&D.indexOf(pt)!=-1;Ct||(pt="line",nt=$);var gt=pt=="line"||pt=="move",bt=Array.isArray(nt);gt&&!bt&&(nt=[nt]),pt=st===0?"move":pt;var St=new Q(pt,nt,W);return W=St.endRenderPoint,St})},at.prototype.reset=function(){this.renderOrigin.set(this.origin),this.renderFront.set(this.front),this.pathCommands.forEach(function(W){W.reset()})},at.prototype.transform=function(W,$,st){this.renderOrigin.transform(W,$,st),this.renderFront.transform(W,$,st),this.renderNormal.set(this.renderOrigin).subtract(this.renderFront),this.pathCommands.forEach(function(z){z.transform(W,$,st)}),this.children.forEach(function(z){z.transform(W,$,st)})},at.prototype.updateSortValue=function(){var W=this.pathCommands.length,$=this.pathCommands[0].endRenderPoint,st=this.pathCommands[W-1].endRenderPoint,z=W>2&&$.isSame(st);z&&(W-=1);for(var pt=0,nt=0;nt<W;nt++)pt+=this.pathCommands[nt].endRenderPoint.z;this.sortValue=pt/W},at.prototype.render=function(W,$){var st=this.pathCommands.length;if(!(!this.visible||!st)&&(this.isFacingBack=this.renderNormal.z>0,!(!this.backface&&this.isFacingBack))){if(!$)throw new Error("Zdog renderer required. Set to "+$);var z=st==1;$.isCanvas&&z?this.renderCanvasDot(W,$):this.renderPath(W,$)}};var J=N.TAU;at.prototype.renderCanvasDot=function(W){var $=this.getLineWidth();if($){W.fillStyle=this.getRenderColor();var st=this.pathCommands[0].endRenderPoint;W.beginPath();var z=$/2;W.arc(st.x,st.y,z,0,J),W.fill()}},at.prototype.getLineWidth=function(){return this.stroke?this.stroke==!0?1:this.stroke:0},at.prototype.getRenderColor=function(){var W=typeof this.backface=="string"&&this.isFacingBack,$=W?this.backface:this.color;return $},at.prototype.renderPath=function(W,$){var st=this.getRenderElement(W,$),z=this.pathCommands.length==2&&this.pathCommands[1].method=="line",pt=!z&&this.closed,nt=this.getRenderColor();$.renderPath(W,st,this.pathCommands,pt),$.stroke(W,st,this.stroke,nt,this.getLineWidth()),$.fill(W,st,this.fill,nt),$.end(W,st)};var X="http://www.w3.org/2000/svg";return at.prototype.getRenderElement=function(W,$){if($.isSvg)return this.svgElement||(this.svgElement=document.createElementNS(X,"path"),this.svgElement.setAttribute("stroke-linecap","round"),this.svgElement.setAttribute("stroke-linejoin","round")),this.svgElement},at})}(yr)),yr.exports}var br={exports:{}},$r;function _n(){return $r||($r=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(hi());else{var G=vt.Zdog;G.Group=N(G.Anchor)}})(oe,function(N){var G=N.subclass({updateSort:!1,visible:!0});return G.prototype.updateSortValue=function(){var Q=0;this.flatGraph.forEach(function(E){E.updateSortValue(),Q+=E.sortValue}),this.sortValue=Q/this.flatGraph.length,this.updateSort&&this.flatGraph.sort(N.shapeSorter)},G.prototype.render=function(Q,E){this.visible&&this.flatGraph.forEach(function(at){at.render(Q,E)})},G.prototype.updateFlatGraph=function(){var Q=[];this.flatGraph=this.addChildFlatGraph(Q)},G.prototype.getFlatGraph=function(){return[this]},G})}(br)),br.exports}var wr={exports:{}},tn;function vn(){return tn||(tn=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(li());else{var G=vt.Zdog;G.Rect=N(G.Shape)}})(oe,function(N){var G=N.subclass({width:1,height:1});return G.prototype.setPath=function(){var Q=this.width/2,E=this.height/2;this.path=[{x:-Q,y:-E},{x:Q,y:-E},{x:Q,y:E},{x:-Q,y:E}]},G})}(wr)),wr.exports}var Cr={exports:{}},en;function ns(){return en||(en=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(li());else{var G=vt.Zdog;G.RoundedRect=N(G.Shape)}})(oe,function(N){var G=N.subclass({width:1,height:1,cornerRadius:.25,closed:!1});return G.prototype.setPath=function(){var Q=this.width/2,E=this.height/2,at=Math.min(Q,E),D=Math.min(this.cornerRadius,at),J=Q-D,X=E-D,W=[{x:J,y:-E},{arc:[{x:Q,y:-E},{x:Q,y:-X}]}];X&&W.push({x:Q,y:X}),W.push({arc:[{x:Q,y:E},{x:J,y:E}]}),J&&W.push({x:-J,y:E}),W.push({arc:[{x:-Q,y:E},{x:-Q,y:X}]}),X&&W.push({x:-Q,y:-X}),W.push({arc:[{x:-Q,y:-E},{x:-J,y:-E}]}),J&&W.push({x:J,y:-E}),this.path=W},G})}(Cr)),Cr.exports}var Sr={exports:{}},rn;function $i(){return rn||(rn=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(li());else{var G=vt.Zdog;G.Ellipse=N(G.Shape)}})(oe,function(N){var G=N.subclass({diameter:1,width:void 0,height:void 0,quarters:4,closed:!1});return G.prototype.setPath=function(){var Q=this.width!=null?this.width:this.diameter,E=this.height!=null?this.height:this.diameter,at=Q/2,D=E/2;this.path=[{x:0,y:-D},{arc:[{x:at,y:-D},{x:at,y:0}]}],this.quarters>1&&this.path.push({arc:[{x:at,y:D},{x:0,y:D}]}),this.quarters>2&&this.path.push({arc:[{x:-at,y:D},{x:-at,y:0}]}),this.quarters>3&&this.path.push({arc:[{x:-at,y:-D},{x:0,y:-D}]})},G})}(Sr)),Sr.exports}var kr={exports:{}},nn;function ss(){return nn||(nn=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(Be(),li());else{var G=vt.Zdog;G.Polygon=N(G,G.Shape)}})(oe,function(N,G){var Q=G.subclass({sides:3,radius:.5}),E=N.TAU;return Q.prototype.setPath=function(){this.path=[];for(var at=0;at<this.sides;at++){var D=at/this.sides*E-E/4,J=Math.cos(D)*this.radius,X=Math.sin(D)*this.radius;this.path.push({x:J,y:X})}},Q})}(kr)),kr.exports}var Pr={exports:{}},sn;function as(){return sn||(sn=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(Be(),vi(),hi(),$i());else{var G=vt.Zdog;G.Hemisphere=N(G,G.Vector,G.Anchor,G.Ellipse)}})(oe,function(N,G,Q,E){var at=E.subclass({fill:!0}),D=N.TAU;at.prototype.create=function(){E.prototype.create.apply(this,arguments),this.apex=new Q({addTo:this,translate:{z:this.diameter/2}}),this.renderCentroid=new G},at.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,3/8),this.sortValue=this.renderCentroid.z},at.prototype.render=function(X,W){this.renderDome(X,W),E.prototype.render.apply(this,arguments)},at.prototype.renderDome=function(X,W){if(this.visible){var $=this.getDomeRenderElement(X,W),st=Math.atan2(this.renderNormal.y,this.renderNormal.x),z=this.diameter/2*this.renderNormal.magnitude(),pt=this.renderOrigin.x,nt=this.renderOrigin.y;if(W.isCanvas){var Ct=st+D/4,gt=st-D/4;X.beginPath(),X.arc(pt,nt,z,Ct,gt)}else W.isSvg&&(st=(st-D/4)/D*360,this.domeSvgElement.setAttribute("d","M "+-z+",0 A "+z+","+z+" 0 0 1 "+z+",0"),this.domeSvgElement.setAttribute("transform","translate("+pt+","+nt+" ) rotate("+st+")"));W.stroke(X,$,this.stroke,this.color,this.getLineWidth()),W.fill(X,$,this.fill,this.color),W.end(X,$)}};var J="http://www.w3.org/2000/svg";return at.prototype.getDomeRenderElement=function(X,W){if(W.isSvg)return this.domeSvgElement||(this.domeSvgElement=document.createElementNS(J,"path"),this.domeSvgElement.setAttribute("stroke-linecap","round"),this.domeSvgElement.setAttribute("stroke-linejoin","round")),this.domeSvgElement},at})}(Pr)),Pr.exports}var Ir={exports:{}},an;function us(){return an||(an=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(Be(),Ji(),li(),_n(),$i());else{var G=vt.Zdog;G.Cylinder=N(G,G.PathCommand,G.Shape,G.Group,G.Ellipse)}})(oe,function(N,G,Q,E,at){function D(){}var J=E.subclass({color:"#333",updateSort:!0});J.prototype.create=function(){E.prototype.create.apply(this,arguments),this.pathCommands=[new G("move",[{}]),new G("line",[{}])]},J.prototype.render=function(pt,nt){this.renderCylinderSurface(pt,nt),E.prototype.render.apply(this,arguments)},J.prototype.renderCylinderSurface=function(pt,nt){if(this.visible){var Ct=this.getRenderElement(pt,nt),gt=this.frontBase,bt=this.rearBase,St=gt.renderNormal.magnitude(),Wt=gt.diameter*St+gt.getLineWidth();this.pathCommands[0].renderPoints[0].set(gt.renderOrigin),this.pathCommands[1].renderPoints[0].set(bt.renderOrigin),nt.isCanvas&&(pt.lineCap="butt"),nt.renderPath(pt,Ct,this.pathCommands),nt.stroke(pt,Ct,!0,this.color,Wt),nt.end(pt,Ct),nt.isCanvas&&(pt.lineCap="round")}};var X="http://www.w3.org/2000/svg";J.prototype.getRenderElement=function(pt,nt){if(nt.isSvg)return this.svgElement||(this.svgElement=document.createElementNS(X,"path")),this.svgElement},J.prototype.copyGraph=D;var W=at.subclass();W.prototype.copyGraph=D;var $=Q.subclass({diameter:1,length:1,frontFace:void 0,fill:!0}),st=N.TAU;$.prototype.create=function(){Q.prototype.create.apply(this,arguments),this.group=new J({addTo:this,color:this.color,visible:this.visible});var pt=this.length/2,nt=this.backface||!0;this.frontBase=this.group.frontBase=new at({addTo:this.group,diameter:this.diameter,translate:{z:pt},rotate:{y:st/2},color:this.color,stroke:this.stroke,fill:this.fill,backface:this.frontFace||nt,visible:this.visible}),this.rearBase=this.group.rearBase=this.frontBase.copy({translate:{z:-pt},rotate:{y:0},backface:nt})},$.prototype.render=function(){};var z=["stroke","fill","color","visible"];return z.forEach(function(pt){var nt="_"+pt;Object.defineProperty($.prototype,pt,{get:function(){return this[nt]},set:function(Ct){this[nt]=Ct,this.frontBase&&(this.frontBase[pt]=Ct,this.rearBase[pt]=Ct,this.group[pt]=Ct)}})}),$})}(Ir)),Ir.exports}var Ar={exports:{}},un;function os(){return un||(un=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(Be(),vi(),Ji(),hi(),$i());else{var G=vt.Zdog;G.Cone=N(G,G.Vector,G.PathCommand,G.Anchor,G.Ellipse)}})(oe,function(N,G,Q,E,at){var D=at.subclass({length:1,fill:!0}),J=N.TAU;D.prototype.create=function(){at.prototype.create.apply(this,arguments),this.apex=new E({addTo:this,translate:{z:this.length}}),this.renderApex=new G,this.renderCentroid=new G,this.tangentA=new G,this.tangentB=new G,this.surfacePathCommands=[new Q("move",[{}]),new Q("line",[{}]),new Q("line",[{}])]},D.prototype.updateSortValue=function(){this.renderCentroid.set(this.renderOrigin).lerp(this.apex.renderOrigin,1/3),this.sortValue=this.renderCentroid.z},D.prototype.render=function(W,$){this.renderConeSurface(W,$),at.prototype.render.apply(this,arguments)},D.prototype.renderConeSurface=function(W,$){if(this.visible){this.renderApex.set(this.apex.renderOrigin).subtract(this.renderOrigin);var st=this.renderNormal.magnitude(),z=this.renderApex.magnitude2d(),pt=this.renderNormal.magnitude2d(),nt=Math.acos(pt/st),Ct=Math.sin(nt),gt=this.diameter/2*st,bt=gt*Ct<z;if(bt){var St=Math.atan2(this.renderNormal.y,this.renderNormal.x)+J/2,Wt=z/Ct,It=Math.acos(gt/Wt),k=this.tangentA,jt=this.tangentB;k.x=Math.cos(It)*gt*Ct,k.y=Math.sin(It)*gt,jt.set(this.tangentA),jt.y*=-1,k.rotateZ(St),jt.rotateZ(St),k.add(this.renderOrigin),jt.add(this.renderOrigin),this.setSurfaceRenderPoint(0,k),this.setSurfaceRenderPoint(1,this.apex.renderOrigin),this.setSurfaceRenderPoint(2,jt);var Ce=this.getSurfaceRenderElement(W,$);$.renderPath(W,Ce,this.surfacePathCommands),$.stroke(W,Ce,this.stroke,this.color,this.getLineWidth()),$.fill(W,Ce,this.fill,this.color),$.end(W,Ce)}}};var X="http://www.w3.org/2000/svg";return D.prototype.getSurfaceRenderElement=function(W,$){if($.isSvg)return this.surfaceSvgElement||(this.surfaceSvgElement=document.createElementNS(X,"path"),this.surfaceSvgElement.setAttribute("stroke-linecap","round"),this.surfaceSvgElement.setAttribute("stroke-linejoin","round")),this.surfaceSvgElement},D.prototype.setSurfaceRenderPoint=function(W,$){var st=this.surfacePathCommands[W].renderPoints[0];st.set($)},D})}(Ar)),Ar.exports}var Er={exports:{}},on;function hs(){return on||(on=1,function(wt){(function(vt,N){if(wt.exports)wt.exports=N(Be(),hi(),li(),vn());else{var G=vt.Zdog;G.Box=N(G,G.Anchor,G.Shape,G.Rect)}})(oe,function(N,G,Q,E){var at=E.subclass();at.prototype.copyGraph=function(){};var D=N.TAU,J=["frontFace","rearFace","leftFace","rightFace","topFace","bottomFace"],X=N.extend({},Q.defaults);delete X.path,J.forEach(function(st){X[st]=!0}),N.extend(X,{width:1,height:1,depth:1,fill:!0});var W=G.subclass(X);W.prototype.create=function(st){G.prototype.create.call(this,st),this.updatePath(),this.fill=this.fill},W.prototype.updatePath=function(){J.forEach(function(st){this[st]=this[st]},this)},J.forEach(function(st){var z="_"+st;Object.defineProperty(W.prototype,st,{get:function(){return this[z]},set:function(pt){this[z]=pt,this.setFace(st,pt)}})}),W.prototype.setFace=function(st,z){var pt=st+"Rect",nt=this[pt];if(!z){this.removeChild(nt);return}var Ct=this.getFaceOptions(st);Ct.color=typeof z=="string"?z:this.color,nt?nt.setOptions(Ct):nt=this[pt]=new at(Ct),nt.updatePath(),this.addChild(nt)},W.prototype.getFaceOptions=function(st){return{frontFace:{width:this.width,height:this.height,translate:{z:this.depth/2}},rearFace:{width:this.width,height:this.height,translate:{z:-this.depth/2},rotate:{y:D/2}},leftFace:{width:this.depth,height:this.height,translate:{x:-this.width/2},rotate:{y:-D/4}},rightFace:{width:this.depth,height:this.height,translate:{x:this.width/2},rotate:{y:D/4}},topFace:{width:this.width,height:this.depth,translate:{y:-this.height/2},rotate:{x:-D/4}},bottomFace:{width:this.width,height:this.depth,translate:{y:this.height/2},rotate:{x:D/4}}}[st]};var $=["color","stroke","fill","backface","front","visible"];return $.forEach(function(st){var z="_"+st;Object.defineProperty(W.prototype,st,{get:function(){return this[z]},set:function(pt){this[z]=pt,J.forEach(function(nt){var Ct=this[nt+"Rect"],gt=typeof this[nt]=="string",bt=st=="color"&&gt;Ct&&!bt&&(Ct[st]=pt)},this)}})}),W})}(Er)),Er.exports}(function(wt){(function(vt,N){wt.exports&&(wt.exports=N(Be(),dn(),pn(),vi(),hi(),gn(),rs(),Ji(),li(),_n(),vn(),ns(),$i(),ss(),as(),us(),os(),hs()))})(oe,function(N,G,Q,E,at,D,J,X,W,$,st,z,pt,nt,Ct,gt,bt,St){return N.CanvasRenderer=G,N.SvgRenderer=Q,N.Vector=E,N.Anchor=at,N.Dragger=D,N.Illustration=J,N.PathCommand=X,N.Shape=W,N.Group=$,N.Rect=st,N.RoundedRect=z,N.Ellipse=pt,N.Polygon=nt,N.Hemisphere=Ct,N.Cylinder=gt,N.Cone=bt,N.Box=St,N})})(cn);var ls=cn.exports;const Me=fn(ls);function fs(wt){throw new Error('Could not dynamically require "'+wt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mn={exports:{}};const cs={},ds=Object.freeze(Object.defineProperty({__proto__:null,default:cs},Symbol.toStringTag,{value:"Module"})),hn=Yn(ds);var Yi={exports:{}},ln;function ps(){return ln||(ln=1,function(wt,vt){(function(N,G){G(vt)})(oe,function(N){var G=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],Q=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],E="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",at="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",D={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},J="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",X={5:J,"5module":J+" export import",6:J+" const class extends export import super"},W=/^in(stanceof)?$/,$=new RegExp("["+at+"]"),st=new RegExp("["+at+E+"]");function z(i,u){for(var _=65536,I=0;I<u.length;I+=2){if(_+=u[I],_>i)return!1;if(_+=u[I+1],_>=i)return!0}return!1}function pt(i,u){return i<65?i===36:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&$.test(String.fromCharCode(i)):u===!1?!1:z(i,Q)}function nt(i,u){return i<48?i===36:i<58?!0:i<65?!1:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&st.test(String.fromCharCode(i)):u===!1?!1:z(i,Q)||z(i,G)}var Ct=function(u,_){_===void 0&&(_={}),this.label=u,this.keyword=_.keyword,this.beforeExpr=!!_.beforeExpr,this.startsExpr=!!_.startsExpr,this.isLoop=!!_.isLoop,this.isAssign=!!_.isAssign,this.prefix=!!_.prefix,this.postfix=!!_.postfix,this.binop=_.binop||null,this.updateContext=null};function gt(i,u){return new Ct(i,{beforeExpr:!0,binop:u})}var bt={beforeExpr:!0},St={startsExpr:!0},Wt={};function It(i,u){return u===void 0&&(u={}),u.keyword=i,Wt[i]=new Ct(i,u)}var k={num:new Ct("num",St),regexp:new Ct("regexp",St),string:new Ct("string",St),name:new Ct("name",St),privateId:new Ct("privateId",St),eof:new Ct("eof"),bracketL:new Ct("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Ct("]"),braceL:new Ct("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Ct("}"),parenL:new Ct("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Ct(")"),comma:new Ct(",",bt),semi:new Ct(";",bt),colon:new Ct(":",bt),dot:new Ct("."),question:new Ct("?",bt),questionDot:new Ct("?."),arrow:new Ct("=>",bt),template:new Ct("template"),invalidTemplate:new Ct("invalidTemplate"),ellipsis:new Ct("...",bt),backQuote:new Ct("`",St),dollarBraceL:new Ct("${",{beforeExpr:!0,startsExpr:!0}),eq:new Ct("=",{beforeExpr:!0,isAssign:!0}),assign:new Ct("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Ct("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Ct("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:gt("||",1),logicalAND:gt("&&",2),bitwiseOR:gt("|",3),bitwiseXOR:gt("^",4),bitwiseAND:gt("&",5),equality:gt("==/!=/===/!==",6),relational:gt("</>/<=/>=",7),bitShift:gt("<</>>/>>>",8),plusMin:new Ct("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:gt("%",10),star:gt("*",10),slash:gt("/",10),starstar:new Ct("**",{beforeExpr:!0}),coalesce:gt("??",1),_break:It("break"),_case:It("case",bt),_catch:It("catch"),_continue:It("continue"),_debugger:It("debugger"),_default:It("default",bt),_do:It("do",{isLoop:!0,beforeExpr:!0}),_else:It("else",bt),_finally:It("finally"),_for:It("for",{isLoop:!0}),_function:It("function",St),_if:It("if"),_return:It("return",bt),_switch:It("switch"),_throw:It("throw",bt),_try:It("try"),_var:It("var"),_const:It("const"),_while:It("while",{isLoop:!0}),_with:It("with"),_new:It("new",{beforeExpr:!0,startsExpr:!0}),_this:It("this",St),_super:It("super",St),_class:It("class",St),_extends:It("extends",bt),_export:It("export"),_import:It("import",St),_null:It("null",St),_true:It("true",St),_false:It("false",St),_in:It("in",{beforeExpr:!0,binop:7}),_instanceof:It("instanceof",{beforeExpr:!0,binop:7}),_typeof:It("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:It("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:It("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},jt=/\r\n?|\n|\u2028|\u2029/,Ce=new RegExp(jt.source,"g");function ne(i){return i===10||i===13||i===8232||i===8233}function Ge(i,u,_){_===void 0&&(_=i.length);for(var I=u;I<_;I++){var R=i.charCodeAt(I);if(ne(R))return I<_-1&&R===13&&i.charCodeAt(I+1)===10?I+2:I+1}return-1}var Ye=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,se=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Ae=Object.prototype,At=Ae.hasOwnProperty,mi=Ae.toString,lt=Object.hasOwn||function(i,u){return At.call(i,u)},Se=Array.isArray||function(i){return mi.call(i)==="[object Array]"},Fe=Object.create(null);function Ft(i){return Fe[i]||(Fe[i]=new RegExp("^(?:"+i.replace(/ /g,"|")+")$"))}function he(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}var Mi=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,He=function(u,_){this.line=u,this.column=_};He.prototype.offset=function(u){return new He(this.line,this.column+u)};var ze=function(u,_,I){this.start=_,this.end=I,u.sourceFile!==null&&(this.source=u.sourceFile)};function xi(i,u){for(var _=1,I=0;;){var R=Ge(i,I,u);if(R<0)return new He(_,u-I);++_,I=R}}var Qt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Qe=!1;function yi(i){var u={};for(var _ in Qt)u[_]=i&&lt(i,_)?i[_]:Qt[_];if(u.ecmaVersion==="latest"?u.ecmaVersion=1e8:u.ecmaVersion==null?(!Qe&&typeof console=="object"&&console.warn&&(Qe=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),u.ecmaVersion=11):u.ecmaVersion>=2015&&(u.ecmaVersion-=2009),u.allowReserved==null&&(u.allowReserved=u.ecmaVersion<5),(!i||i.allowHashBang==null)&&(u.allowHashBang=u.ecmaVersion>=14),Se(u.onToken)){var I=u.onToken;u.onToken=function(R){return I.push(R)}}return Se(u.onComment)&&(u.onComment=bi(u,u.onComment)),u}function bi(i,u){return function(_,I,R,K,Y,ht){var _t={type:_?"Block":"Line",value:I,start:R,end:K};i.locations&&(_t.loc=new ze(this,Y,ht)),i.ranges&&(_t.range=[R,K]),u.push(_t)}}var Xt=1,Zt=2,Yt=4,zi=8,Je=16,Vi=32,fi=64,Bi=128,$e=256,wi=Xt|Zt|$e;function Ci(i,u){return Zt|(i?Yt:0)|(u?zi:0)}var ti=0,te=1,ke=2,Jt=3,Si=4,Bt=5,t=function(u,_,I){this.options=u=yi(u),this.sourceFile=u.sourceFile,this.keywords=Ft(X[u.ecmaVersion>=6?6:u.sourceType==="module"?"5module":5]);var R="";u.allowReserved!==!0&&(R=D[u.ecmaVersion>=6?6:u.ecmaVersion===5?5:3],u.sourceType==="module"&&(R+=" await")),this.reservedWords=Ft(R);var K=(R?R+" ":"")+D.strict;this.reservedWordsStrict=Ft(K),this.reservedWordsStrictBind=Ft(K+" "+D.strictBind),this.input=String(_),this.containsEsc=!1,I?(this.pos=I,this.lineStart=this.input.lastIndexOf(`
`,I-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(jt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=k.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=u.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&u.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Xt),this.regexpState=null,this.privateNameStack=[]},e={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};t.prototype.parse=function(){var u=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(u)},e.inFunction.get=function(){return(this.currentVarScope().flags&Zt)>0},e.inGenerator.get=function(){return(this.currentVarScope().flags&zi)>0&&!this.currentVarScope().inClassFieldInit},e.inAsync.get=function(){return(this.currentVarScope().flags&Yt)>0&&!this.currentVarScope().inClassFieldInit},e.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var u=this.scopeStack[i];if(u.inClassFieldInit||u.flags&$e)return!1;if(u.flags&Zt)return(u.flags&Yt)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},e.allowSuper.get=function(){var i=this.currentThisScope(),u=i.flags,_=i.inClassFieldInit;return(u&fi)>0||_||this.options.allowSuperOutsideMethod},e.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Bi)>0},e.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},e.allowNewDotTarget.get=function(){var i=this.currentThisScope(),u=i.flags,_=i.inClassFieldInit;return(u&(Zt|$e))>0||_},e.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&$e)>0},t.extend=function(){for(var u=[],_=arguments.length;_--;)u[_]=arguments[_];for(var I=this,R=0;R<u.length;R++)I=u[R](I);return I},t.parse=function(u,_){return new this(_,u).parse()},t.parseExpressionAt=function(u,_,I){var R=new this(I,u,_);return R.nextToken(),R.parseExpression()},t.tokenizer=function(u,_){return new this(_,u)},Object.defineProperties(t.prototype,e);var r=t.prototype,n=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;r.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){se.lastIndex=i,i+=se.exec(this.input)[0].length;var u=n.exec(this.input.slice(i));if(!u)return!1;if((u[1]||u[2])==="use strict"){se.lastIndex=i+u[0].length;var _=se.exec(this.input),I=_.index+_[0].length,R=this.input.charAt(I);return R===";"||R==="}"||jt.test(_[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(R)||R==="!"&&this.input.charAt(I+1)==="=")}i+=u[0].length,se.lastIndex=i,i+=se.exec(this.input)[0].length,this.input[i]===";"&&i++}},r.eat=function(i){return this.type===i?(this.next(),!0):!1},r.isContextual=function(i){return this.type===k.name&&this.value===i&&!this.containsEsc},r.eatContextual=function(i){return this.isContextual(i)?(this.next(),!0):!1},r.expectContextual=function(i){this.eatContextual(i)||this.unexpected()},r.canInsertSemicolon=function(){return this.type===k.eof||this.type===k.braceR||jt.test(this.input.slice(this.lastTokEnd,this.start))},r.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},r.semicolon=function(){!this.eat(k.semi)&&!this.insertSemicolon()&&this.unexpected()},r.afterTrailingComma=function(i,u){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),u||this.next(),!0},r.expect=function(i){this.eat(i)||this.unexpected()},r.unexpected=function(i){this.raise(i??this.start,"Unexpected token")};var s=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};r.checkPatternErrors=function(i,u){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var _=u?i.parenthesizedAssign:i.parenthesizedBind;_>-1&&this.raiseRecoverable(_,u?"Assigning to rvalue":"Parenthesized pattern")}},r.checkExpressionErrors=function(i,u){if(!i)return!1;var _=i.shorthandAssign,I=i.doubleProto;if(!u)return _>=0||I>=0;_>=0&&this.raise(_,"Shorthand property assignments are valid only in destructuring patterns"),I>=0&&this.raiseRecoverable(I,"Redefinition of __proto__ property")},r.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},r.isSimpleAssignTarget=function(i){return i.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(i.expression):i.type==="Identifier"||i.type==="MemberExpression"};var a=t.prototype;a.parseTopLevel=function(i){var u=Object.create(null);for(i.body||(i.body=[]);this.type!==k.eof;){var _=this.parseStatement(null,!0,u);i.body.push(_)}if(this.inModule)for(var I=0,R=Object.keys(this.undefinedExports);I<R.length;I+=1){var K=R[I];this.raiseRecoverable(this.undefinedExports[K].start,"Export '"+K+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var h={kind:"loop"},o={kind:"switch"};a.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;se.lastIndex=this.pos;var u=se.exec(this.input),_=this.pos+u[0].length,I=this.input.charCodeAt(_);if(I===91||I===92)return!0;if(i)return!1;if(I===123||I>55295&&I<56320)return!0;if(pt(I,!0)){for(var R=_+1;nt(I=this.input.charCodeAt(R),!0);)++R;if(I===92||I>55295&&I<56320)return!0;var K=this.input.slice(_,R);if(!W.test(K))return!0}return!1},a.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;se.lastIndex=this.pos;var i=se.exec(this.input),u=this.pos+i[0].length,_;return!jt.test(this.input.slice(this.pos,u))&&this.input.slice(u,u+8)==="function"&&(u+8===this.input.length||!(nt(_=this.input.charCodeAt(u+8))||_>55295&&_<56320))},a.parseStatement=function(i,u,_){var I=this.type,R=this.startNode(),K;switch(this.isLet(i)&&(I=k._var,K="let"),I){case k._break:case k._continue:return this.parseBreakContinueStatement(R,I.keyword);case k._debugger:return this.parseDebuggerStatement(R);case k._do:return this.parseDoStatement(R);case k._for:return this.parseForStatement(R);case k._function:return i&&(this.strict||i!=="if"&&i!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(R,!1,!i);case k._class:return i&&this.unexpected(),this.parseClass(R,!0);case k._if:return this.parseIfStatement(R);case k._return:return this.parseReturnStatement(R);case k._switch:return this.parseSwitchStatement(R);case k._throw:return this.parseThrowStatement(R);case k._try:return this.parseTryStatement(R);case k._const:case k._var:return K=K||this.value,i&&K!=="var"&&this.unexpected(),this.parseVarStatement(R,K);case k._while:return this.parseWhileStatement(R);case k._with:return this.parseWithStatement(R);case k.braceL:return this.parseBlock(!0,R);case k.semi:return this.parseEmptyStatement(R);case k._export:case k._import:if(this.options.ecmaVersion>10&&I===k._import){se.lastIndex=this.pos;var Y=se.exec(this.input),ht=this.pos+Y[0].length,_t=this.input.charCodeAt(ht);if(_t===40||_t===46)return this.parseExpressionStatement(R,this.parseExpression())}return this.options.allowImportExportEverywhere||(u||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),I===k._import?this.parseImport(R):this.parseExport(R,_);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(R,!0,!i);var Vt=this.value,Lt=this.parseExpression();return I===k.name&&Lt.type==="Identifier"&&this.eat(k.colon)?this.parseLabeledStatement(R,Vt,Lt,i):this.parseExpressionStatement(R,Lt)}},a.parseBreakContinueStatement=function(i,u){var _=u==="break";this.next(),this.eat(k.semi)||this.insertSemicolon()?i.label=null:this.type!==k.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var I=0;I<this.labels.length;++I){var R=this.labels[I];if((i.label==null||R.name===i.label.name)&&(R.kind!=null&&(_||R.kind==="loop")||i.label&&_))break}return I===this.labels.length&&this.raise(i.start,"Unsyntactic "+u),this.finishNode(i,_?"BreakStatement":"ContinueStatement")},a.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")},a.parseDoStatement=function(i){return this.next(),this.labels.push(h),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(k._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(k.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")},a.parseForStatement=function(i){this.next();var u=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(h),this.enterScope(0),this.expect(k.parenL),this.type===k.semi)return u>-1&&this.unexpected(u),this.parseFor(i,null);var _=this.isLet();if(this.type===k._var||this.type===k._const||_){var I=this.startNode(),R=_?"let":this.value;return this.next(),this.parseVar(I,!0,R),this.finishNode(I,"VariableDeclaration"),(this.type===k._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&I.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===k._in?u>-1&&this.unexpected(u):i.await=u>-1),this.parseForIn(i,I)):(u>-1&&this.unexpected(u),this.parseFor(i,I))}var K=this.isContextual("let"),Y=!1,ht=this.containsEsc,_t=new s,Vt=this.start,Lt=u>-1?this.parseExprSubscripts(_t,"await"):this.parseExpression(!0,_t);return this.type===k._in||(Y=this.options.ecmaVersion>=6&&this.isContextual("of"))?(u>-1?(this.type===k._in&&this.unexpected(u),i.await=!0):Y&&this.options.ecmaVersion>=8&&(Lt.start===Vt&&!ht&&Lt.type==="Identifier"&&Lt.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(i.await=!1)),K&&Y&&this.raise(Lt.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Lt,!1,_t),this.checkLValPattern(Lt),this.parseForIn(i,Lt)):(this.checkExpressionErrors(_t,!0),u>-1&&this.unexpected(u),this.parseFor(i,Lt))},a.parseFunctionStatement=function(i,u,_){return this.next(),this.parseFunction(i,f|(_?0:g),!1,u)},a.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(k._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")},a.parseReturnStatement=function(i){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(k.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")},a.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(k.braceL),this.labels.push(o),this.enterScope(0);for(var u,_=!1;this.type!==k.braceR;)if(this.type===k._case||this.type===k._default){var I=this.type===k._case;u&&this.finishNode(u,"SwitchCase"),i.cases.push(u=this.startNode()),u.consequent=[],this.next(),I?u.test=this.parseExpression():(_&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),_=!0,u.test=null),this.expect(k.colon)}else u||this.unexpected(),u.consequent.push(this.parseStatement(null));return this.exitScope(),u&&this.finishNode(u,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")},a.parseThrowStatement=function(i){return this.next(),jt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var l=[];a.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),u=i.type==="Identifier";return this.enterScope(u?Vi:0),this.checkLValPattern(i,u?Si:ke),this.expect(k.parenR),i},a.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===k._catch){var u=this.startNode();this.next(),this.eat(k.parenL)?u.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),u.param=null,this.enterScope(0)),u.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(u,"CatchClause")}return i.finalizer=this.eat(k._finally)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")},a.parseVarStatement=function(i,u,_){return this.next(),this.parseVar(i,!1,u,_),this.semicolon(),this.finishNode(i,"VariableDeclaration")},a.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(h),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")},a.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")},a.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")},a.parseLabeledStatement=function(i,u,_,I){for(var R=0,K=this.labels;R<K.length;R+=1){var Y=K[R];Y.name===u&&this.raise(_.start,"Label '"+u+"' is already declared")}for(var ht=this.type.isLoop?"loop":this.type===k._switch?"switch":null,_t=this.labels.length-1;_t>=0;_t--){var Vt=this.labels[_t];if(Vt.statementStart===i.start)Vt.statementStart=this.start,Vt.kind=ht;else break}return this.labels.push({name:u,kind:ht,statementStart:this.start}),i.body=this.parseStatement(I?I.indexOf("label")===-1?I+"label":I:"label"),this.labels.pop(),i.label=_,this.finishNode(i,"LabeledStatement")},a.parseExpressionStatement=function(i,u){return i.expression=u,this.semicolon(),this.finishNode(i,"ExpressionStatement")},a.parseBlock=function(i,u,_){for(i===void 0&&(i=!0),u===void 0&&(u=this.startNode()),u.body=[],this.expect(k.braceL),i&&this.enterScope(0);this.type!==k.braceR;){var I=this.parseStatement(null);u.body.push(I)}return _&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(u,"BlockStatement")},a.parseFor=function(i,u){return i.init=u,this.expect(k.semi),i.test=this.type===k.semi?null:this.parseExpression(),this.expect(k.semi),i.update=this.type===k.parenR?null:this.parseExpression(),this.expect(k.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")},a.parseForIn=function(i,u){var _=this.type===k._in;return this.next(),u.type==="VariableDeclaration"&&u.declarations[0].init!=null&&(!_||this.options.ecmaVersion<8||this.strict||u.kind!=="var"||u.declarations[0].id.type!=="Identifier")&&this.raise(u.start,(_?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=u,i.right=_?this.parseExpression():this.parseMaybeAssign(),this.expect(k.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,_?"ForInStatement":"ForOfStatement")},a.parseVar=function(i,u,_,I){for(i.declarations=[],i.kind=_;;){var R=this.startNode();if(this.parseVarId(R,_),this.eat(k.eq)?R.init=this.parseMaybeAssign(u):!I&&_==="const"&&!(this.type===k._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!I&&R.id.type!=="Identifier"&&!(u&&(this.type===k._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):R.init=null,i.declarations.push(this.finishNode(R,"VariableDeclarator")),!this.eat(k.comma))break}return i},a.parseVarId=function(i,u){i.id=this.parseBindingAtom(),this.checkLValPattern(i.id,u==="var"?te:ke,!1)};var f=1,g=2,m=4;a.parseFunction=function(i,u,_,I,R){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!I)&&(this.type===k.star&&u&g&&this.unexpected(),i.generator=this.eat(k.star)),this.options.ecmaVersion>=8&&(i.async=!!I),u&f&&(i.id=u&m&&this.type!==k.name?null:this.parseIdent(),i.id&&!(u&g)&&this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?te:ke:Jt));var K=this.yieldPos,Y=this.awaitPos,ht=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ci(i.async,i.generator)),u&f||(i.id=this.type===k.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,_,!1,R),this.yieldPos=K,this.awaitPos=Y,this.awaitIdentPos=ht,this.finishNode(i,u&f?"FunctionDeclaration":"FunctionExpression")},a.parseFunctionParams=function(i){this.expect(k.parenL),i.params=this.parseBindingList(k.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},a.parseClass=function(i,u){this.next();var _=this.strict;this.strict=!0,this.parseClassId(i,u),this.parseClassSuper(i);var I=this.enterClassBody(),R=this.startNode(),K=!1;for(R.body=[],this.expect(k.braceL);this.type!==k.braceR;){var Y=this.parseClassElement(i.superClass!==null);Y&&(R.body.push(Y),Y.type==="MethodDefinition"&&Y.kind==="constructor"?(K&&this.raiseRecoverable(Y.start,"Duplicate constructor in the same class"),K=!0):Y.key&&Y.key.type==="PrivateIdentifier"&&p(I,Y)&&this.raiseRecoverable(Y.key.start,"Identifier '#"+Y.key.name+"' has already been declared"))}return this.strict=_,this.next(),i.body=this.finishNode(R,"ClassBody"),this.exitClassBody(),this.finishNode(i,u?"ClassDeclaration":"ClassExpression")},a.parseClassElement=function(i){if(this.eat(k.semi))return null;var u=this.options.ecmaVersion,_=this.startNode(),I="",R=!1,K=!1,Y="method",ht=!1;if(this.eatContextual("static")){if(u>=13&&this.eat(k.braceL))return this.parseClassStaticBlock(_),_;this.isClassElementNameStart()||this.type===k.star?ht=!0:I="static"}if(_.static=ht,!I&&u>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===k.star)&&!this.canInsertSemicolon()?K=!0:I="async"),!I&&(u>=9||!K)&&this.eat(k.star)&&(R=!0),!I&&!K&&!R){var _t=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Y=_t:I=_t)}if(I?(_.computed=!1,_.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),_.key.name=I,this.finishNode(_.key,"Identifier")):this.parseClassElementName(_),u<13||this.type===k.parenL||Y!=="method"||R||K){var Vt=!_.static&&d(_,"constructor"),Lt=Vt&&i;Vt&&Y!=="method"&&this.raise(_.key.start,"Constructor can't have get/set modifier"),_.kind=Vt?"constructor":Y,this.parseClassMethod(_,R,K,Lt)}else this.parseClassField(_);return _},a.isClassElementNameStart=function(){return this.type===k.name||this.type===k.privateId||this.type===k.num||this.type===k.string||this.type===k.bracketL||this.type.keyword},a.parseClassElementName=function(i){this.type===k.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)},a.parseClassMethod=function(i,u,_,I){var R=i.key;i.kind==="constructor"?(u&&this.raise(R.start,"Constructor can't be a generator"),_&&this.raise(R.start,"Constructor can't be an async method")):i.static&&d(i,"prototype")&&this.raise(R.start,"Classes may not have a static property named prototype");var K=i.value=this.parseMethod(u,_,I);return i.kind==="get"&&K.params.length!==0&&this.raiseRecoverable(K.start,"getter should have no params"),i.kind==="set"&&K.params.length!==1&&this.raiseRecoverable(K.start,"setter should have exactly one param"),i.kind==="set"&&K.params[0].type==="RestElement"&&this.raiseRecoverable(K.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")},a.parseClassField=function(i){if(d(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&d(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(k.eq)){var u=this.currentThisScope(),_=u.inClassFieldInit;u.inClassFieldInit=!0,i.value=this.parseMaybeAssign(),u.inClassFieldInit=_}else i.value=null;return this.semicolon(),this.finishNode(i,"PropertyDefinition")},a.parseClassStaticBlock=function(i){i.body=[];var u=this.labels;for(this.labels=[],this.enterScope($e|fi);this.type!==k.braceR;){var _=this.parseStatement(null);i.body.push(_)}return this.next(),this.exitScope(),this.labels=u,this.finishNode(i,"StaticBlock")},a.parseClassId=function(i,u){this.type===k.name?(i.id=this.parseIdent(),u&&this.checkLValSimple(i.id,ke,!1)):(u===!0&&this.unexpected(),i.id=null)},a.parseClassSuper=function(i){i.superClass=this.eat(k._extends)?this.parseExprSubscripts(null,!1):null},a.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared},a.exitClassBody=function(){var i=this.privateNameStack.pop(),u=i.declared,_=i.used;if(this.options.checkPrivateFields)for(var I=this.privateNameStack.length,R=I===0?null:this.privateNameStack[I-1],K=0;K<_.length;++K){var Y=_[K];lt(u,Y.name)||(R?R.used.push(Y):this.raiseRecoverable(Y.start,"Private field '#"+Y.name+"' must be declared in an enclosing class"))}};function p(i,u){var _=u.key.name,I=i[_],R="true";return u.type==="MethodDefinition"&&(u.kind==="get"||u.kind==="set")&&(R=(u.static?"s":"i")+u.kind),I==="iget"&&R==="iset"||I==="iset"&&R==="iget"||I==="sget"&&R==="sset"||I==="sset"&&R==="sget"?(i[_]="true",!1):I?!0:(i[_]=R,!1)}function d(i,u){var _=i.computed,I=i.key;return!_&&(I.type==="Identifier"&&I.name===u||I.type==="Literal"&&I.value===u)}a.parseExportAllDeclaration=function(i,u){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(u,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==k.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")},a.parseExport=function(i,u){if(this.next(),this.eat(k.star))return this.parseExportAllDeclaration(i,u);if(this.eat(k._default))return this.checkExport(u,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type==="VariableDeclaration"?this.checkVariableExport(u,i.declaration.declarations):this.checkExport(u,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null;else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(u),this.eatContextual("from"))this.type!==k.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause());else{for(var _=0,I=i.specifiers;_<I.length;_+=1){var R=I[_];this.checkUnreserved(R.local),this.checkLocalExport(R.local),R.local.type==="Literal"&&this.raise(R.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")},a.parseExportDeclaration=function(i){return this.parseStatement(null)},a.parseExportDefaultDeclaration=function(){var i;if(this.type===k._function||(i=this.isAsyncFunction())){var u=this.startNode();return this.next(),i&&this.next(),this.parseFunction(u,f|m,!1,i)}else if(this.type===k._class){var _=this.startNode();return this.parseClass(_,"nullableID")}else{var I=this.parseMaybeAssign();return this.semicolon(),I}},a.checkExport=function(i,u,_){i&&(typeof u!="string"&&(u=u.type==="Identifier"?u.name:u.value),lt(i,u)&&this.raiseRecoverable(_,"Duplicate export '"+u+"'"),i[u]=!0)},a.checkPatternExport=function(i,u){var _=u.type;if(_==="Identifier")this.checkExport(i,u,u.start);else if(_==="ObjectPattern")for(var I=0,R=u.properties;I<R.length;I+=1){var K=R[I];this.checkPatternExport(i,K)}else if(_==="ArrayPattern")for(var Y=0,ht=u.elements;Y<ht.length;Y+=1){var _t=ht[Y];_t&&this.checkPatternExport(i,_t)}else _==="Property"?this.checkPatternExport(i,u.value):_==="AssignmentPattern"?this.checkPatternExport(i,u.left):_==="RestElement"&&this.checkPatternExport(i,u.argument)},a.checkVariableExport=function(i,u){if(i)for(var _=0,I=u;_<I.length;_+=1){var R=I[_];this.checkPatternExport(i,R.id)}},a.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},a.parseExportSpecifier=function(i){var u=this.startNode();return u.local=this.parseModuleExportName(),u.exported=this.eatContextual("as")?this.parseModuleExportName():u.local,this.checkExport(i,u.exported,u.exported.start),this.finishNode(u,"ExportSpecifier")},a.parseExportSpecifiers=function(i){var u=[],_=!0;for(this.expect(k.braceL);!this.eat(k.braceR);){if(_)_=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;u.push(this.parseExportSpecifier(i))}return u},a.parseImport=function(i){return this.next(),this.type===k.string?(i.specifiers=l,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===k.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ImportDeclaration")},a.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,ke),this.finishNode(i,"ImportSpecifier")},a.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,ke),this.finishNode(i,"ImportDefaultSpecifier")},a.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,ke),this.finishNode(i,"ImportNamespaceSpecifier")},a.parseImportSpecifiers=function(){var i=[],u=!0;if(this.type===k.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(k.comma)))return i;if(this.type===k.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(k.braceL);!this.eat(k.braceR);){if(u)u=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;i.push(this.parseImportSpecifier())}return i},a.parseWithClause=function(){var i=[];if(!this.eat(k._with))return i;this.expect(k.braceL);for(var u={},_=!0;!this.eat(k.braceR);){if(_)_=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;var I=this.parseImportAttribute(),R=I.key.type==="Identifier"?I.key.name:I.key.value;lt(u,R)&&this.raiseRecoverable(I.key.start,"Duplicate attribute key '"+R+"'"),u[R]=!0,i.push(I)}return i},a.parseImportAttribute=function(){var i=this.startNode();return i.key=this.type===k.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(k.colon),this.type!==k.string&&this.unexpected(),i.value=this.parseExprAtom(),this.finishNode(i,"ImportAttribute")},a.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===k.string){var i=this.parseLiteral(this.value);return Mi.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)},a.adaptDirectivePrologue=function(i){for(var u=0;u<i.length&&this.isDirectiveCandidate(i[u]);++u)i[u].directive=i[u].expression.raw.slice(1,-1)},a.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&typeof i.expression.value=="string"&&(this.input[i.start]==='"'||this.input[i.start]==="'")};var S=t.prototype;S.toAssignable=function(i,u,_){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&i.name==="await"&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",_&&this.checkPatternErrors(_,!0);for(var I=0,R=i.properties;I<R.length;I+=1){var K=R[I];this.toAssignable(K,u),K.type==="RestElement"&&(K.argument.type==="ArrayPattern"||K.argument.type==="ObjectPattern")&&this.raise(K.argument.start,"Unexpected token")}break;case"Property":i.kind!=="init"&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,u);break;case"ArrayExpression":i.type="ArrayPattern",_&&this.checkPatternErrors(_,!0),this.toAssignableList(i.elements,u);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,u),i.argument.type==="AssignmentPattern"&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":i.operator!=="="&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,u);break;case"ParenthesizedExpression":this.toAssignable(i.expression,u,_);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!u)break;default:this.raise(i.start,"Assigning to rvalue")}else _&&this.checkPatternErrors(_,!0);return i},S.toAssignableList=function(i,u){for(var _=i.length,I=0;I<_;I++){var R=i[I];R&&this.toAssignable(R,u)}if(_){var K=i[_-1];this.options.ecmaVersion===6&&u&&K&&K.type==="RestElement"&&K.argument.type!=="Identifier"&&this.unexpected(K.argument.start)}return i},S.parseSpread=function(i){var u=this.startNode();return this.next(),u.argument=this.parseMaybeAssign(!1,i),this.finishNode(u,"SpreadElement")},S.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==k.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")},S.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case k.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(k.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case k.braceL:return this.parseObj(!0)}return this.parseIdent()},S.parseBindingList=function(i,u,_,I){for(var R=[],K=!0;!this.eat(i);)if(K?K=!1:this.expect(k.comma),u&&this.type===k.comma)R.push(null);else{if(_&&this.afterTrailingComma(i))break;if(this.type===k.ellipsis){var Y=this.parseRestBinding();this.parseBindingListItem(Y),R.push(Y),this.type===k.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}else R.push(this.parseAssignableListItem(I))}return R},S.parseAssignableListItem=function(i){var u=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(u),u},S.parseBindingListItem=function(i){return i},S.parseMaybeDefault=function(i,u,_){if(_=_||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(k.eq))return _;var I=this.startNodeAt(i,u);return I.left=_,I.right=this.parseMaybeAssign(),this.finishNode(I,"AssignmentPattern")},S.checkLValSimple=function(i,u,_){u===void 0&&(u=ti);var I=u!==ti;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(I?"Binding ":"Assigning to ")+i.name+" in strict mode"),I&&(u===ke&&i.name==="let"&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),_&&(lt(_,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),_[i.name]=!0),u!==Bt&&this.declareName(i.name,u,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":I&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return I&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,u,_);default:this.raise(i.start,(I?"Binding":"Assigning to")+" rvalue")}},S.checkLValPattern=function(i,u,_){switch(u===void 0&&(u=ti),i.type){case"ObjectPattern":for(var I=0,R=i.properties;I<R.length;I+=1){var K=R[I];this.checkLValInnerPattern(K,u,_)}break;case"ArrayPattern":for(var Y=0,ht=i.elements;Y<ht.length;Y+=1){var _t=ht[Y];_t&&this.checkLValInnerPattern(_t,u,_)}break;default:this.checkLValSimple(i,u,_)}},S.checkLValInnerPattern=function(i,u,_){switch(u===void 0&&(u=ti),i.type){case"Property":this.checkLValInnerPattern(i.value,u,_);break;case"AssignmentPattern":this.checkLValPattern(i.left,u,_);break;case"RestElement":this.checkLValPattern(i.argument,u,_);break;default:this.checkLValPattern(i,u,_)}};var y=function(u,_,I,R,K){this.token=u,this.isExpr=!!_,this.preserveSpace=!!I,this.override=R,this.generator=!!K},w={b_stat:new y("{",!1),b_expr:new y("{",!0),b_tmpl:new y("${",!1),p_stat:new y("(",!1),p_expr:new y("(",!0),q_tmpl:new y("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new y("function",!1),f_expr:new y("function",!0),f_expr_gen:new y("function",!0,!1,null,!0),f_gen:new y("function",!1,!1,null,!0)},v=t.prototype;v.initialContext=function(){return[w.b_stat]},v.curContext=function(){return this.context[this.context.length-1]},v.braceIsBlock=function(i){var u=this.curContext();return u===w.f_expr||u===w.f_stat?!0:i===k.colon&&(u===w.b_stat||u===w.b_expr)?!u.isExpr:i===k._return||i===k.name&&this.exprAllowed?jt.test(this.input.slice(this.lastTokEnd,this.start)):i===k._else||i===k.semi||i===k.eof||i===k.parenR||i===k.arrow?!0:i===k.braceL?u===w.b_stat:i===k._var||i===k._const||i===k.name?!1:!this.exprAllowed},v.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var u=this.context[i];if(u.token==="function")return u.generator}return!1},v.updateContext=function(i){var u,_=this.type;_.keyword&&i===k.dot?this.exprAllowed=!1:(u=_.updateContext)?u.call(this,i):this.exprAllowed=_.beforeExpr},v.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)},k.parenR.updateContext=k.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var i=this.context.pop();i===w.b_stat&&this.curContext().token==="function"&&(i=this.context.pop()),this.exprAllowed=!i.isExpr},k.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?w.b_stat:w.b_expr),this.exprAllowed=!0},k.dollarBraceL.updateContext=function(){this.context.push(w.b_tmpl),this.exprAllowed=!0},k.parenL.updateContext=function(i){var u=i===k._if||i===k._for||i===k._with||i===k._while;this.context.push(u?w.p_stat:w.p_expr),this.exprAllowed=!0},k.incDec.updateContext=function(){},k._function.updateContext=k._class.updateContext=function(i){i.beforeExpr&&i!==k._else&&!(i===k.semi&&this.curContext()!==w.p_stat)&&!(i===k._return&&jt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((i===k.colon||i===k.braceL)&&this.curContext()===w.b_stat)?this.context.push(w.f_expr):this.context.push(w.f_stat),this.exprAllowed=!1},k.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},k.backQuote.updateContext=function(){this.curContext()===w.q_tmpl?this.context.pop():this.context.push(w.q_tmpl),this.exprAllowed=!1},k.star.updateContext=function(i){if(i===k._function){var u=this.context.length-1;this.context[u]===w.f_expr?this.context[u]=w.f_expr_gen:this.context[u]=w.f_gen}this.exprAllowed=!0},k.name.updateContext=function(i){var u=!1;this.options.ecmaVersion>=6&&i!==k.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(u=!0),this.exprAllowed=u};var x=t.prototype;x.checkPropClash=function(i,u,_){if(!(this.options.ecmaVersion>=9&&i.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var I=i.key,R;switch(I.type){case"Identifier":R=I.name;break;case"Literal":R=String(I.value);break;default:return}var K=i.kind;if(this.options.ecmaVersion>=6){R==="__proto__"&&K==="init"&&(u.proto&&(_?_.doubleProto<0&&(_.doubleProto=I.start):this.raiseRecoverable(I.start,"Redefinition of __proto__ property")),u.proto=!0);return}R="$"+R;var Y=u[R];if(Y){var ht;K==="init"?ht=this.strict&&Y.init||Y.get||Y.set:ht=Y.init||Y[K],ht&&this.raiseRecoverable(I.start,"Redefinition of property")}else Y=u[R]={init:!1,get:!1,set:!1};Y[K]=!0}},x.parseExpression=function(i,u){var _=this.start,I=this.startLoc,R=this.parseMaybeAssign(i,u);if(this.type===k.comma){var K=this.startNodeAt(_,I);for(K.expressions=[R];this.eat(k.comma);)K.expressions.push(this.parseMaybeAssign(i,u));return this.finishNode(K,"SequenceExpression")}return R},x.parseMaybeAssign=function(i,u,_){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var I=!1,R=-1,K=-1,Y=-1;u?(R=u.parenthesizedAssign,K=u.trailingComma,Y=u.doubleProto,u.parenthesizedAssign=u.trailingComma=-1):(u=new s,I=!0);var ht=this.start,_t=this.startLoc;(this.type===k.parenL||this.type===k.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i==="await");var Vt=this.parseMaybeConditional(i,u);if(_&&(Vt=_.call(this,Vt,ht,_t)),this.type.isAssign){var Lt=this.startNodeAt(ht,_t);return Lt.operator=this.value,this.type===k.eq&&(Vt=this.toAssignable(Vt,!1,u)),I||(u.parenthesizedAssign=u.trailingComma=u.doubleProto=-1),u.shorthandAssign>=Vt.start&&(u.shorthandAssign=-1),this.type===k.eq?this.checkLValPattern(Vt):this.checkLValSimple(Vt),Lt.left=Vt,this.next(),Lt.right=this.parseMaybeAssign(i),Y>-1&&(u.doubleProto=Y),this.finishNode(Lt,"AssignmentExpression")}else I&&this.checkExpressionErrors(u,!0);return R>-1&&(u.parenthesizedAssign=R),K>-1&&(u.trailingComma=K),Vt},x.parseMaybeConditional=function(i,u){var _=this.start,I=this.startLoc,R=this.parseExprOps(i,u);if(this.checkExpressionErrors(u))return R;if(this.eat(k.question)){var K=this.startNodeAt(_,I);return K.test=R,K.consequent=this.parseMaybeAssign(),this.expect(k.colon),K.alternate=this.parseMaybeAssign(i),this.finishNode(K,"ConditionalExpression")}return R},x.parseExprOps=function(i,u){var _=this.start,I=this.startLoc,R=this.parseMaybeUnary(u,!1,!1,i);return this.checkExpressionErrors(u)||R.start===_&&R.type==="ArrowFunctionExpression"?R:this.parseExprOp(R,_,I,-1,i)},x.parseExprOp=function(i,u,_,I,R){var K=this.type.binop;if(K!=null&&(!R||this.type!==k._in)&&K>I){var Y=this.type===k.logicalOR||this.type===k.logicalAND,ht=this.type===k.coalesce;ht&&(K=k.logicalAND.binop);var _t=this.value;this.next();var Vt=this.start,Lt=this.startLoc,ue=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,R),Vt,Lt,K,R),qe=this.buildBinary(u,_,i,ue,_t,Y||ht);return(Y&&this.type===k.coalesce||ht&&(this.type===k.logicalOR||this.type===k.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(qe,u,_,I,R)}return i},x.buildBinary=function(i,u,_,I,R,K){I.type==="PrivateIdentifier"&&this.raise(I.start,"Private identifier can only be left side of binary expression");var Y=this.startNodeAt(i,u);return Y.left=_,Y.operator=R,Y.right=I,this.finishNode(Y,K?"LogicalExpression":"BinaryExpression")},x.parseMaybeUnary=function(i,u,_,I){var R=this.start,K=this.startLoc,Y;if(this.isContextual("await")&&this.canAwait)Y=this.parseAwait(I),u=!0;else if(this.type.prefix){var ht=this.startNode(),_t=this.type===k.incDec;ht.operator=this.value,ht.prefix=!0,this.next(),ht.argument=this.parseMaybeUnary(null,!0,_t,I),this.checkExpressionErrors(i,!0),_t?this.checkLValSimple(ht.argument):this.strict&&ht.operator==="delete"&&c(ht.argument)?this.raiseRecoverable(ht.start,"Deleting local variable in strict mode"):ht.operator==="delete"&&b(ht.argument)?this.raiseRecoverable(ht.start,"Private fields can not be deleted"):u=!0,Y=this.finishNode(ht,_t?"UpdateExpression":"UnaryExpression")}else if(!u&&this.type===k.privateId)(I||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Y=this.parsePrivateIdent(),this.type!==k._in&&this.unexpected();else{if(Y=this.parseExprSubscripts(i,I),this.checkExpressionErrors(i))return Y;for(;this.type.postfix&&!this.canInsertSemicolon();){var Vt=this.startNodeAt(R,K);Vt.operator=this.value,Vt.prefix=!1,Vt.argument=Y,this.checkLValSimple(Y),this.next(),Y=this.finishNode(Vt,"UpdateExpression")}}if(!_&&this.eat(k.starstar))if(u)this.unexpected(this.lastTokStart);else return this.buildBinary(R,K,Y,this.parseMaybeUnary(null,!1,!1,I),"**",!1);else return Y};function c(i){return i.type==="Identifier"||i.type==="ParenthesizedExpression"&&c(i.expression)}function b(i){return i.type==="MemberExpression"&&i.property.type==="PrivateIdentifier"||i.type==="ChainExpression"&&b(i.expression)||i.type==="ParenthesizedExpression"&&b(i.expression)}x.parseExprSubscripts=function(i,u){var _=this.start,I=this.startLoc,R=this.parseExprAtom(i,u);if(R.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return R;var K=this.parseSubscripts(R,_,I,!1,u);return i&&K.type==="MemberExpression"&&(i.parenthesizedAssign>=K.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=K.start&&(i.parenthesizedBind=-1),i.trailingComma>=K.start&&(i.trailingComma=-1)),K},x.parseSubscripts=function(i,u,_,I,R){for(var K=this.options.ecmaVersion>=8&&i.type==="Identifier"&&i.name==="async"&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start===5&&this.potentialArrowAt===i.start,Y=!1;;){var ht=this.parseSubscript(i,u,_,I,K,Y,R);if(ht.optional&&(Y=!0),ht===i||ht.type==="ArrowFunctionExpression"){if(Y){var _t=this.startNodeAt(u,_);_t.expression=ht,ht=this.finishNode(_t,"ChainExpression")}return ht}i=ht}},x.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(k.arrow)},x.parseSubscriptAsyncArrow=function(i,u,_,I){return this.parseArrowExpression(this.startNodeAt(i,u),_,!0,I)},x.parseSubscript=function(i,u,_,I,R,K,Y){var ht=this.options.ecmaVersion>=11,_t=ht&&this.eat(k.questionDot);I&&_t&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Vt=this.eat(k.bracketL);if(Vt||_t&&this.type!==k.parenL&&this.type!==k.backQuote||this.eat(k.dot)){var Lt=this.startNodeAt(u,_);Lt.object=i,Vt?(Lt.property=this.parseExpression(),this.expect(k.bracketR)):this.type===k.privateId&&i.type!=="Super"?Lt.property=this.parsePrivateIdent():Lt.property=this.parseIdent(this.options.allowReserved!=="never"),Lt.computed=!!Vt,ht&&(Lt.optional=_t),i=this.finishNode(Lt,"MemberExpression")}else if(!I&&this.eat(k.parenL)){var ue=new s,qe=this.yieldPos,ri=this.awaitPos,je=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var ni=this.parseExprList(k.parenR,this.options.ecmaVersion>=8,!1,ue);if(R&&!_t&&this.shouldParseAsyncArrow())return this.checkPatternErrors(ue,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=qe,this.awaitPos=ri,this.awaitIdentPos=je,this.parseSubscriptAsyncArrow(u,_,ni,Y);this.checkExpressionErrors(ue,!0),this.yieldPos=qe||this.yieldPos,this.awaitPos=ri||this.awaitPos,this.awaitIdentPos=je||this.awaitIdentPos;var Oe=this.startNodeAt(u,_);Oe.callee=i,Oe.arguments=ni,ht&&(Oe.optional=_t),i=this.finishNode(Oe,"CallExpression")}else if(this.type===k.backQuote){(_t||K)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ke=this.startNodeAt(u,_);Ke.tag=i,Ke.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(Ke,"TaggedTemplateExpression")}return i},x.parseExprAtom=function(i,u,_){this.type===k.slash&&this.readRegexp();var I,R=this.potentialArrowAt===this.start;switch(this.type){case k._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),I=this.startNode(),this.next(),this.type===k.parenL&&!this.allowDirectSuper&&this.raise(I.start,"super() call outside constructor of a subclass"),this.type!==k.dot&&this.type!==k.bracketL&&this.type!==k.parenL&&this.unexpected(),this.finishNode(I,"Super");case k._this:return I=this.startNode(),this.next(),this.finishNode(I,"ThisExpression");case k.name:var K=this.start,Y=this.startLoc,ht=this.containsEsc,_t=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!ht&&_t.name==="async"&&!this.canInsertSemicolon()&&this.eat(k._function))return this.overrideContext(w.f_expr),this.parseFunction(this.startNodeAt(K,Y),0,!1,!0,u);if(R&&!this.canInsertSemicolon()){if(this.eat(k.arrow))return this.parseArrowExpression(this.startNodeAt(K,Y),[_t],!1,u);if(this.options.ecmaVersion>=8&&_t.name==="async"&&this.type===k.name&&!ht&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return _t=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(k.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(K,Y),[_t],!0,u)}return _t;case k.regexp:var Vt=this.value;return I=this.parseLiteral(Vt.value),I.regex={pattern:Vt.pattern,flags:Vt.flags},I;case k.num:case k.string:return this.parseLiteral(this.value);case k._null:case k._true:case k._false:return I=this.startNode(),I.value=this.type===k._null?null:this.type===k._true,I.raw=this.type.keyword,this.next(),this.finishNode(I,"Literal");case k.parenL:var Lt=this.start,ue=this.parseParenAndDistinguishExpression(R,u);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(ue)&&(i.parenthesizedAssign=Lt),i.parenthesizedBind<0&&(i.parenthesizedBind=Lt)),ue;case k.bracketL:return I=this.startNode(),this.next(),I.elements=this.parseExprList(k.bracketR,!0,!0,i),this.finishNode(I,"ArrayExpression");case k.braceL:return this.overrideContext(w.b_expr),this.parseObj(!1,i);case k._function:return I=this.startNode(),this.next(),this.parseFunction(I,0);case k._class:return this.parseClass(this.startNode(),!1);case k._new:return this.parseNew();case k.backQuote:return this.parseTemplate();case k._import:return this.options.ecmaVersion>=11?this.parseExprImport(_):this.unexpected();default:return this.parseExprAtomDefault()}},x.parseExprAtomDefault=function(){this.unexpected()},x.parseExprImport=function(i){var u=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===k.parenL&&!i)return this.parseDynamicImport(u);if(this.type===k.dot){var _=this.startNodeAt(u.start,u.loc&&u.loc.start);return _.name="import",u.meta=this.finishNode(_,"Identifier"),this.parseImportMeta(u)}else this.unexpected()},x.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(k.parenR)?i.options=null:(this.expect(k.comma),this.afterTrailingComma(k.parenR)?i.options=null:(i.options=this.parseMaybeAssign(),this.eat(k.parenR)||(this.expect(k.comma),this.afterTrailingComma(k.parenR)||this.unexpected())));else if(!this.eat(k.parenR)){var u=this.start;this.eat(k.comma)&&this.eat(k.parenR)?this.raiseRecoverable(u,"Trailing comma is not allowed in import()"):this.unexpected(u)}return this.finishNode(i,"ImportExpression")},x.parseImportMeta=function(i){this.next();var u=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="meta"&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),u&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")},x.parseLiteral=function(i){var u=this.startNode();return u.value=i,u.raw=this.input.slice(this.start,this.end),u.raw.charCodeAt(u.raw.length-1)===110&&(u.bigint=u.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(u,"Literal")},x.parseParenExpression=function(){this.expect(k.parenL);var i=this.parseExpression();return this.expect(k.parenR),i},x.shouldParseArrow=function(i){return!this.canInsertSemicolon()},x.parseParenAndDistinguishExpression=function(i,u){var _=this.start,I=this.startLoc,R,K=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Y=this.start,ht=this.startLoc,_t=[],Vt=!0,Lt=!1,ue=new s,qe=this.yieldPos,ri=this.awaitPos,je;for(this.yieldPos=0,this.awaitPos=0;this.type!==k.parenR;)if(Vt?Vt=!1:this.expect(k.comma),K&&this.afterTrailingComma(k.parenR,!0)){Lt=!0;break}else if(this.type===k.ellipsis){je=this.start,_t.push(this.parseParenItem(this.parseRestBinding())),this.type===k.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else _t.push(this.parseMaybeAssign(!1,ue,this.parseParenItem));var ni=this.lastTokEnd,Oe=this.lastTokEndLoc;if(this.expect(k.parenR),i&&this.shouldParseArrow(_t)&&this.eat(k.arrow))return this.checkPatternErrors(ue,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=qe,this.awaitPos=ri,this.parseParenArrowList(_,I,_t,u);(!_t.length||Lt)&&this.unexpected(this.lastTokStart),je&&this.unexpected(je),this.checkExpressionErrors(ue,!0),this.yieldPos=qe||this.yieldPos,this.awaitPos=ri||this.awaitPos,_t.length>1?(R=this.startNodeAt(Y,ht),R.expressions=_t,this.finishNodeAt(R,"SequenceExpression",ni,Oe)):R=_t[0]}else R=this.parseParenExpression();if(this.options.preserveParens){var Ke=this.startNodeAt(_,I);return Ke.expression=R,this.finishNode(Ke,"ParenthesizedExpression")}else return R},x.parseParenItem=function(i){return i},x.parseParenArrowList=function(i,u,_,I){return this.parseArrowExpression(this.startNodeAt(i,u),_,!1,I)};var P=[];x.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===k.dot){var u=this.startNodeAt(i.start,i.loc&&i.loc.start);u.name="new",i.meta=this.finishNode(u,"Identifier"),this.next();var _=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="target"&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),_&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var I=this.start,R=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),I,R,!0,!1),this.eat(k.parenL)?i.arguments=this.parseExprList(k.parenR,this.options.ecmaVersion>=8,!1):i.arguments=P,this.finishNode(i,"NewExpression")},x.parseTemplateElement=function(i){var u=i.isTagged,_=this.startNode();return this.type===k.invalidTemplate?(u||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),_.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):_.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),_.tail=this.type===k.backQuote,this.finishNode(_,"TemplateElement")},x.parseTemplate=function(i){i===void 0&&(i={});var u=i.isTagged;u===void 0&&(u=!1);var _=this.startNode();this.next(),_.expressions=[];var I=this.parseTemplateElement({isTagged:u});for(_.quasis=[I];!I.tail;)this.type===k.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(k.dollarBraceL),_.expressions.push(this.parseExpression()),this.expect(k.braceR),_.quasis.push(I=this.parseTemplateElement({isTagged:u}));return this.next(),this.finishNode(_,"TemplateLiteral")},x.isAsyncProp=function(i){return!i.computed&&i.key.type==="Identifier"&&i.key.name==="async"&&(this.type===k.name||this.type===k.num||this.type===k.string||this.type===k.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===k.star)&&!jt.test(this.input.slice(this.lastTokEnd,this.start))},x.parseObj=function(i,u){var _=this.startNode(),I=!0,R={};for(_.properties=[],this.next();!this.eat(k.braceR);){if(I)I=!1;else if(this.expect(k.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(k.braceR))break;var K=this.parseProperty(i,u);i||this.checkPropClash(K,R,u),_.properties.push(K)}return this.finishNode(_,i?"ObjectPattern":"ObjectExpression")},x.parseProperty=function(i,u){var _=this.startNode(),I,R,K,Y;if(this.options.ecmaVersion>=9&&this.eat(k.ellipsis))return i?(_.argument=this.parseIdent(!1),this.type===k.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(_,"RestElement")):(_.argument=this.parseMaybeAssign(!1,u),this.type===k.comma&&u&&u.trailingComma<0&&(u.trailingComma=this.start),this.finishNode(_,"SpreadElement"));this.options.ecmaVersion>=6&&(_.method=!1,_.shorthand=!1,(i||u)&&(K=this.start,Y=this.startLoc),i||(I=this.eat(k.star)));var ht=this.containsEsc;return this.parsePropertyName(_),!i&&!ht&&this.options.ecmaVersion>=8&&!I&&this.isAsyncProp(_)?(R=!0,I=this.options.ecmaVersion>=9&&this.eat(k.star),this.parsePropertyName(_)):R=!1,this.parsePropertyValue(_,i,I,R,K,Y,u,ht),this.finishNode(_,"Property")},x.parseGetterSetter=function(i){i.kind=i.key.name,this.parsePropertyName(i),i.value=this.parseMethod(!1);var u=i.kind==="get"?0:1;if(i.value.params.length!==u){var _=i.value.start;i.kind==="get"?this.raiseRecoverable(_,"getter should have no params"):this.raiseRecoverable(_,"setter should have exactly one param")}else i.kind==="set"&&i.value.params[0].type==="RestElement"&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")},x.parsePropertyValue=function(i,u,_,I,R,K,Y,ht){(_||I)&&this.type===k.colon&&this.unexpected(),this.eat(k.colon)?(i.value=u?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Y),i.kind="init"):this.options.ecmaVersion>=6&&this.type===k.parenL?(u&&this.unexpected(),i.kind="init",i.method=!0,i.value=this.parseMethod(_,I)):!u&&!ht&&this.options.ecmaVersion>=5&&!i.computed&&i.key.type==="Identifier"&&(i.key.name==="get"||i.key.name==="set")&&this.type!==k.comma&&this.type!==k.braceR&&this.type!==k.eq?((_||I)&&this.unexpected(),this.parseGetterSetter(i)):this.options.ecmaVersion>=6&&!i.computed&&i.key.type==="Identifier"?((_||I)&&this.unexpected(),this.checkUnreserved(i.key),i.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=R),i.kind="init",u?i.value=this.parseMaybeDefault(R,K,this.copyNode(i.key)):this.type===k.eq&&Y?(Y.shorthandAssign<0&&(Y.shorthandAssign=this.start),i.value=this.parseMaybeDefault(R,K,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.shorthand=!0):this.unexpected()},x.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(k.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(k.bracketR),i.key;i.computed=!1}return i.key=this.type===k.num||this.type===k.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},x.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)},x.parseMethod=function(i,u,_){var I=this.startNode(),R=this.yieldPos,K=this.awaitPos,Y=this.awaitIdentPos;return this.initFunction(I),this.options.ecmaVersion>=6&&(I.generator=i),this.options.ecmaVersion>=8&&(I.async=!!u),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ci(u,I.generator)|fi|(_?Bi:0)),this.expect(k.parenL),I.params=this.parseBindingList(k.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(I,!1,!0,!1),this.yieldPos=R,this.awaitPos=K,this.awaitIdentPos=Y,this.finishNode(I,"FunctionExpression")},x.parseArrowExpression=function(i,u,_,I){var R=this.yieldPos,K=this.awaitPos,Y=this.awaitIdentPos;return this.enterScope(Ci(_,!1)|Je),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!_),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(u,!0),this.parseFunctionBody(i,!0,!1,I),this.yieldPos=R,this.awaitPos=K,this.awaitIdentPos=Y,this.finishNode(i,"ArrowFunctionExpression")},x.parseFunctionBody=function(i,u,_,I){var R=u&&this.type!==k.braceL,K=this.strict,Y=!1;if(R)i.body=this.parseMaybeAssign(I),i.expression=!0,this.checkParams(i,!1);else{var ht=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);(!K||ht)&&(Y=this.strictDirective(this.end),Y&&ht&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var _t=this.labels;this.labels=[],Y&&(this.strict=!0),this.checkParams(i,!K&&!Y&&!u&&!_&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,Bt),i.body=this.parseBlock(!1,void 0,Y&&!K),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=_t}this.exitScope()},x.isSimpleParamList=function(i){for(var u=0,_=i;u<_.length;u+=1){var I=_[u];if(I.type!=="Identifier")return!1}return!0},x.checkParams=function(i,u){for(var _=Object.create(null),I=0,R=i.params;I<R.length;I+=1){var K=R[I];this.checkLValInnerPattern(K,te,u?null:_)}},x.parseExprList=function(i,u,_,I){for(var R=[],K=!0;!this.eat(i);){if(K)K=!1;else if(this.expect(k.comma),u&&this.afterTrailingComma(i))break;var Y=void 0;_&&this.type===k.comma?Y=null:this.type===k.ellipsis?(Y=this.parseSpread(I),I&&this.type===k.comma&&I.trailingComma<0&&(I.trailingComma=this.start)):Y=this.parseMaybeAssign(!1,I),R.push(Y)}return R},x.checkUnreserved=function(i){var u=i.start,_=i.end,I=i.name;if(this.inGenerator&&I==="yield"&&this.raiseRecoverable(u,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&I==="await"&&this.raiseRecoverable(u,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&I==="arguments"&&this.raiseRecoverable(u,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(I==="arguments"||I==="await")&&this.raise(u,"Cannot use "+I+" in class static initialization block"),this.keywords.test(I)&&this.raise(u,"Unexpected keyword '"+I+"'"),!(this.options.ecmaVersion<6&&this.input.slice(u,_).indexOf("\\")!==-1)){var R=this.strict?this.reservedWordsStrict:this.reservedWords;R.test(I)&&(!this.inAsync&&I==="await"&&this.raiseRecoverable(u,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(u,"The keyword '"+I+"' is reserved"))}},x.parseIdent=function(i){var u=this.parseIdentNode();return this.next(!!i),this.finishNode(u,"Identifier"),i||(this.checkUnreserved(u),u.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=u.start)),u},x.parseIdentNode=function(){var i=this.startNode();return this.type===k.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=k.name):this.unexpected(),i},x.parsePrivateIdent=function(){var i=this.startNode();return this.type===k.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i},x.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var u=this.startNode();return this.next(),this.type===k.semi||this.canInsertSemicolon()||this.type!==k.star&&!this.type.startsExpr?(u.delegate=!1,u.argument=null):(u.delegate=this.eat(k.star),u.argument=this.parseMaybeAssign(i)),this.finishNode(u,"YieldExpression")},x.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var u=this.startNode();return this.next(),u.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(u,"AwaitExpression")};var A=t.prototype;A.raise=function(i,u){var _=xi(this.input,i);u+=" ("+_.line+":"+_.column+")";var I=new SyntaxError(u);throw I.pos=i,I.loc=_,I.raisedAt=this.pos,I},A.raiseRecoverable=A.raise,A.curPosition=function(){if(this.options.locations)return new He(this.curLine,this.pos-this.lineStart)};var C=t.prototype,T=function(u){this.flags=u,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};C.enterScope=function(i){this.scopeStack.push(new T(i))},C.exitScope=function(){this.scopeStack.pop()},C.treatFunctionsAsVarInScope=function(i){return i.flags&Zt||!this.inModule&&i.flags&Xt},C.declareName=function(i,u,_){var I=!1;if(u===ke){var R=this.currentScope();I=R.lexical.indexOf(i)>-1||R.functions.indexOf(i)>-1||R.var.indexOf(i)>-1,R.lexical.push(i),this.inModule&&R.flags&Xt&&delete this.undefinedExports[i]}else if(u===Si){var K=this.currentScope();K.lexical.push(i)}else if(u===Jt){var Y=this.currentScope();this.treatFunctionsAsVar?I=Y.lexical.indexOf(i)>-1:I=Y.lexical.indexOf(i)>-1||Y.var.indexOf(i)>-1,Y.functions.push(i)}else for(var ht=this.scopeStack.length-1;ht>=0;--ht){var _t=this.scopeStack[ht];if(_t.lexical.indexOf(i)>-1&&!(_t.flags&Vi&&_t.lexical[0]===i)||!this.treatFunctionsAsVarInScope(_t)&&_t.functions.indexOf(i)>-1){I=!0;break}if(_t.var.push(i),this.inModule&&_t.flags&Xt&&delete this.undefinedExports[i],_t.flags&wi)break}I&&this.raiseRecoverable(_,"Identifier '"+i+"' has already been declared")},C.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&&this.scopeStack[0].var.indexOf(i.name)===-1&&(this.undefinedExports[i.name]=i)},C.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},C.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var u=this.scopeStack[i];if(u.flags&wi)return u}},C.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var u=this.scopeStack[i];if(u.flags&wi&&!(u.flags&Je))return u}};var L=function(u,_,I){this.type="",this.start=_,this.end=0,u.options.locations&&(this.loc=new ze(u,I)),u.options.directSourceFile&&(this.sourceFile=u.options.directSourceFile),u.options.ranges&&(this.range=[_,0])},M=t.prototype;M.startNode=function(){return new L(this,this.start,this.startLoc)},M.startNodeAt=function(i,u){return new L(this,i,u)};function F(i,u,_,I){return i.type=u,i.end=_,this.options.locations&&(i.loc.end=I),this.options.ranges&&(i.range[1]=_),i}M.finishNode=function(i,u){return F.call(this,i,u,this.lastTokEnd,this.lastTokEndLoc)},M.finishNodeAt=function(i,u,_,I){return F.call(this,i,u,_,I)},M.copyNode=function(i){var u=new L(this,i.start,this.startLoc);for(var _ in i)u[_]=i[_];return u};var O="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",B="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",q=B+" Extended_Pictographic",H=q,j=H+" EBase EComp EMod EPres ExtPict",Z=j,ut=Z,ot={9:B,10:q,11:H,12:j,13:Z,14:ut},ft="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",mt={9:"",10:"",11:"",12:"",13:"",14:ft},et="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",it="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ct=it+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",yt=ct+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",xt=yt+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Pt=xt+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",kt=Pt+" "+O,Ot={9:it,10:ct,11:yt,12:xt,13:Pt,14:kt},Rt={};function Tt(i){var u=Rt[i]={binary:Ft(ot[i]+" "+et),binaryOfStrings:Ft(mt[i]),nonBinary:{General_Category:Ft(et),Script:Ft(Ot[i])}};u.nonBinary.Script_Extensions=u.nonBinary.Script,u.nonBinary.gc=u.nonBinary.General_Category,u.nonBinary.sc=u.nonBinary.Script,u.nonBinary.scx=u.nonBinary.Script_Extensions}for(var ee=0,re=[9,10,11,12,13,14];ee<re.length;ee+=1){var fe=re[ee];Tt(fe)}var dt=t.prototype,qt=function(u,_){this.parent=u,this.base=_||this};qt.prototype.separatedFrom=function(u){for(var _=this;_;_=_.parent)for(var I=u;I;I=I.parent)if(_.base===I.base&&_!==I)return!0;return!1},qt.prototype.sibling=function(){return new qt(this.parent,this.base)};var Gt=function(u){this.parser=u,this.validFlags="gim"+(u.options.ecmaVersion>=6?"uy":"")+(u.options.ecmaVersion>=9?"s":"")+(u.options.ecmaVersion>=13?"d":"")+(u.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Rt[u.options.ecmaVersion>=14?14:u.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Gt.prototype.reset=function(u,_,I){var R=I.indexOf("v")!==-1,K=I.indexOf("u")!==-1;this.start=u|0,this.source=_+"",this.flags=I,R&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=K&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=K&&this.parser.options.ecmaVersion>=9)},Gt.prototype.raise=function(u){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+u)},Gt.prototype.at=function(u,_){_===void 0&&(_=!1);var I=this.source,R=I.length;if(u>=R)return-1;var K=I.charCodeAt(u);if(!(_||this.switchU)||K<=55295||K>=57344||u+1>=R)return K;var Y=I.charCodeAt(u+1);return Y>=56320&&Y<=57343?(K<<10)+Y-56613888:K},Gt.prototype.nextIndex=function(u,_){_===void 0&&(_=!1);var I=this.source,R=I.length;if(u>=R)return R;var K=I.charCodeAt(u),Y;return!(_||this.switchU)||K<=55295||K>=57344||u+1>=R||(Y=I.charCodeAt(u+1))<56320||Y>57343?u+1:u+2},Gt.prototype.current=function(u){return u===void 0&&(u=!1),this.at(this.pos,u)},Gt.prototype.lookahead=function(u){return u===void 0&&(u=!1),this.at(this.nextIndex(this.pos,u),u)},Gt.prototype.advance=function(u){u===void 0&&(u=!1),this.pos=this.nextIndex(this.pos,u)},Gt.prototype.eat=function(u,_){return _===void 0&&(_=!1),this.current(_)===u?(this.advance(_),!0):!1},Gt.prototype.eatChars=function(u,_){_===void 0&&(_=!1);for(var I=this.pos,R=0,K=u;R<K.length;R+=1){var Y=K[R],ht=this.at(I,_);if(ht===-1||ht!==Y)return!1;I=this.nextIndex(I,_)}return this.pos=I,!0},dt.validateRegExpFlags=function(i){for(var u=i.validFlags,_=i.flags,I=!1,R=!1,K=0;K<_.length;K++){var Y=_.charAt(K);u.indexOf(Y)===-1&&this.raise(i.start,"Invalid regular expression flag"),_.indexOf(Y,K+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),Y==="u"&&(I=!0),Y==="v"&&(R=!0)}this.options.ecmaVersion>=15&&I&&R&&this.raise(i.start,"Invalid regular expression flag")};function _e(i){for(var u in i)return!0;return!1}dt.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&_e(i.groupNames)&&(i.switchN=!0,this.regexp_pattern(i))},dt.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames=Object.create(null),i.backReferenceNames.length=0,i.branchID=null,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var u=0,_=i.backReferenceNames;u<_.length;u+=1){var I=_[u];i.groupNames[I]||i.raise("Invalid named capture referenced")}},dt.regexp_disjunction=function(i){var u=this.options.ecmaVersion>=16;for(u&&(i.branchID=new qt(i.branchID,null)),this.regexp_alternative(i);i.eat(124);)u&&(i.branchID=i.branchID.sibling()),this.regexp_alternative(i);u&&(i.branchID=i.branchID.parent),this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")},dt.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););},dt.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))?(this.regexp_eatQuantifier(i),!0):!1},dt.regexp_eatAssertion=function(i){var u=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=u}if(i.eat(40)&&i.eat(63)){var _=!1;if(this.options.ecmaVersion>=9&&(_=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!_,!0}return i.pos=u,!1},dt.regexp_eatQuantifier=function(i,u){return u===void 0&&(u=!1),this.regexp_eatQuantifierPrefix(i,u)?(i.eat(63),!0):!1},dt.regexp_eatQuantifierPrefix=function(i,u){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,u)},dt.regexp_eatBracedQuantifier=function(i,u){var _=i.pos;if(i.eat(123)){var I=0,R=-1;if(this.regexp_eatDecimalDigits(i)&&(I=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(R=i.lastIntValue),i.eat(125)))return R!==-1&&R<I&&!u&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!u&&i.raise("Incomplete quantifier"),i.pos=_}return!1},dt.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)},dt.regexp_eatReverseSolidusAtomEscape=function(i){var u=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=u}return!1},dt.regexp_eatUncapturingGroup=function(i){var u=i.pos;if(i.eat(40)){if(i.eat(63)){if(this.options.ecmaVersion>=16){var _=this.regexp_eatModifiers(i),I=i.eat(45);if(_||I){for(var R=0;R<_.length;R++){var K=_.charAt(R);_.indexOf(K,R+1)>-1&&i.raise("Duplicate regular expression modifiers")}if(I){var Y=this.regexp_eatModifiers(i);!_&&!Y&&i.current()===58&&i.raise("Invalid regular expression modifiers");for(var ht=0;ht<Y.length;ht++){var _t=Y.charAt(ht);(Y.indexOf(_t,ht+1)>-1||_.indexOf(_t)>-1)&&i.raise("Duplicate regular expression modifiers")}}}}if(i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}}i.pos=u}return!1},dt.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):i.current()===63&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1},dt.regexp_eatModifiers=function(i){for(var u="",_=0;(_=i.current())!==-1&&ae(_);)u+=he(_),i.advance();return u};function ae(i){return i===105||i===109||i===115}dt.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)},dt.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1},dt.regexp_eatSyntaxCharacter=function(i){var u=i.current();return ye(u)?(i.lastIntValue=u,i.advance(),!0):!1};function ye(i){return i===36||i>=40&&i<=43||i===46||i===63||i>=91&&i<=94||i>=123&&i<=125}dt.regexp_eatPatternCharacters=function(i){for(var u=i.pos,_=0;(_=i.current())!==-1&&!ye(_);)i.advance();return i.pos!==u},dt.regexp_eatExtendedPatternCharacter=function(i){var u=i.current();return u!==-1&&u!==36&&!(u>=40&&u<=43)&&u!==46&&u!==63&&u!==91&&u!==94&&u!==124?(i.advance(),!0):!1},dt.regexp_groupSpecifier=function(i){if(i.eat(63)){this.regexp_eatGroupName(i)||i.raise("Invalid group");var u=this.options.ecmaVersion>=16,_=i.groupNames[i.lastStringValue];if(_)if(u)for(var I=0,R=_;I<R.length;I+=1){var K=R[I];K.separatedFrom(i.branchID)||i.raise("Duplicate capture group name")}else i.raise("Duplicate capture group name");u?(_||(i.groupNames[i.lastStringValue]=[])).push(i.branchID):i.groupNames[i.lastStringValue]=!0}},dt.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1},dt.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=he(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=he(i.lastIntValue);return!0}return!1},dt.regexp_eatRegExpIdentifierStart=function(i){var u=i.pos,_=this.options.ecmaVersion>=11,I=i.current(_);return i.advance(_),I===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,_)&&(I=i.lastIntValue),Ve(I)?(i.lastIntValue=I,!0):(i.pos=u,!1)};function Ve(i){return pt(i,!0)||i===36||i===95}dt.regexp_eatRegExpIdentifierPart=function(i){var u=i.pos,_=this.options.ecmaVersion>=11,I=i.current(_);return i.advance(_),I===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,_)&&(I=i.lastIntValue),Pe(I)?(i.lastIntValue=I,!0):(i.pos=u,!1)};function Pe(i){return nt(i,!0)||i===36||i===95||i===8204||i===8205}dt.regexp_eatAtomEscape=function(i){return this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i)?!0:(i.switchU&&(i.current()===99&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)},dt.regexp_eatBackReference=function(i){var u=i.pos;if(this.regexp_eatDecimalEscape(i)){var _=i.lastIntValue;if(i.switchU)return _>i.maxBackReference&&(i.maxBackReference=_),!0;if(_<=i.numCapturingParens)return!0;i.pos=u}return!1},dt.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1},dt.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)},dt.regexp_eatCControlLetter=function(i){var u=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=u}return!1},dt.regexp_eatZero=function(i){return i.current()===48&&!De(i.lookahead())?(i.lastIntValue=0,i.advance(),!0):!1},dt.regexp_eatControlEscape=function(i){var u=i.current();return u===116?(i.lastIntValue=9,i.advance(),!0):u===110?(i.lastIntValue=10,i.advance(),!0):u===118?(i.lastIntValue=11,i.advance(),!0):u===102?(i.lastIntValue=12,i.advance(),!0):u===114?(i.lastIntValue=13,i.advance(),!0):!1},dt.regexp_eatControlLetter=function(i){var u=i.current();return be(u)?(i.lastIntValue=u%32,i.advance(),!0):!1};function be(i){return i>=65&&i<=90||i>=97&&i<=122}dt.regexp_eatRegExpUnicodeEscapeSequence=function(i,u){u===void 0&&(u=!1);var _=i.pos,I=u||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var R=i.lastIntValue;if(I&&R>=55296&&R<=56319){var K=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var Y=i.lastIntValue;if(Y>=56320&&Y<=57343)return i.lastIntValue=(R-55296)*1024+(Y-56320)+65536,!0}i.pos=K,i.lastIntValue=R}return!0}if(I&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&ve(i.lastIntValue))return!0;I&&i.raise("Invalid unicode escape"),i.pos=_}return!1};function ve(i){return i>=0&&i<=1114111}dt.regexp_eatIdentityEscape=function(i){if(i.switchU)return this.regexp_eatSyntaxCharacter(i)?!0:i.eat(47)?(i.lastIntValue=47,!0):!1;var u=i.current();return u!==99&&(!i.switchN||u!==107)?(i.lastIntValue=u,i.advance(),!0):!1},dt.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var u=i.current();if(u>=49&&u<=57){do i.lastIntValue=10*i.lastIntValue+(u-48),i.advance();while((u=i.current())>=48&&u<=57);return!0}return!1};var me=0,ce=1,$t=2;dt.regexp_eatCharacterClassEscape=function(i){var u=i.current();if(ci(u))return i.lastIntValue=-1,i.advance(),ce;var _=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((_=u===80)||u===112)){i.lastIntValue=-1,i.advance();var I;if(i.eat(123)&&(I=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return _&&I===$t&&i.raise("Invalid property name"),I;i.raise("Invalid property name")}return me};function ci(i){return i===100||i===68||i===115||i===83||i===119||i===87}dt.regexp_eatUnicodePropertyValueExpression=function(i){var u=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var _=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var I=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,_,I),ce}}if(i.pos=u,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var R=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,R)}return me},dt.regexp_validateUnicodePropertyNameAndValue=function(i,u,_){lt(i.unicodeProperties.nonBinary,u)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[u].test(_)||i.raise("Invalid property value")},dt.regexp_validateUnicodePropertyNameOrValue=function(i,u){if(i.unicodeProperties.binary.test(u))return ce;if(i.switchV&&i.unicodeProperties.binaryOfStrings.test(u))return $t;i.raise("Invalid property name")},dt.regexp_eatUnicodePropertyName=function(i){var u=0;for(i.lastStringValue="";ki(u=i.current());)i.lastStringValue+=he(u),i.advance();return i.lastStringValue!==""};function ki(i){return be(i)||i===95}dt.regexp_eatUnicodePropertyValue=function(i){var u=0;for(i.lastStringValue="";Fi(u=i.current());)i.lastStringValue+=he(u),i.advance();return i.lastStringValue!==""};function Fi(i){return ki(i)||De(i)}dt.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)},dt.regexp_eatCharacterClass=function(i){if(i.eat(91)){var u=i.eat(94),_=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),u&&_===$t&&i.raise("Negated character class may contain strings"),!0}return!1},dt.regexp_classContents=function(i){return i.current()===93?ce:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),ce)},dt.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var u=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var _=i.lastIntValue;i.switchU&&(u===-1||_===-1)&&i.raise("Invalid character class"),u!==-1&&_!==-1&&u>_&&i.raise("Range out of order in character class")}}},dt.regexp_eatClassAtom=function(i){var u=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var _=i.current();(_===99||ii(_))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=u}var I=i.current();return I!==93?(i.lastIntValue=I,i.advance(),!0):!1},dt.regexp_eatClassEscape=function(i){var u=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=u}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)},dt.regexp_classSetExpression=function(i){var u=ce,_;if(!this.regexp_eatClassSetRange(i))if(_=this.regexp_eatClassSetOperand(i)){_===$t&&(u=$t);for(var I=i.pos;i.eatChars([38,38]);){if(i.current()!==38&&(_=this.regexp_eatClassSetOperand(i))){_!==$t&&(u=ce);continue}i.raise("Invalid character in character class")}if(I!==i.pos)return u;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(I!==i.pos)return u}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(_=this.regexp_eatClassSetOperand(i),!_)return u;_===$t&&(u=$t)}},dt.regexp_eatClassSetRange=function(i){var u=i.pos;if(this.regexp_eatClassSetCharacter(i)){var _=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var I=i.lastIntValue;return _!==-1&&I!==-1&&_>I&&i.raise("Range out of order in character class"),!0}i.pos=u}return!1},dt.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?ce:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)},dt.regexp_eatNestedClass=function(i){var u=i.pos;if(i.eat(91)){var _=i.eat(94),I=this.regexp_classContents(i);if(i.eat(93))return _&&I===$t&&i.raise("Negated character class may contain strings"),I;i.pos=u}if(i.eat(92)){var R=this.regexp_eatCharacterClassEscape(i);if(R)return R;i.pos=u}return null},dt.regexp_eatClassStringDisjunction=function(i){var u=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var _=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return _}else i.raise("Invalid escape");i.pos=u}return null},dt.regexp_classStringDisjunctionContents=function(i){for(var u=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===$t&&(u=$t);return u},dt.regexp_classString=function(i){for(var u=0;this.regexp_eatClassSetCharacter(i);)u++;return u===1?ce:$t},dt.regexp_eatClassSetCharacter=function(i){var u=i.pos;if(i.eat(92))return this.regexp_eatCharacterEscape(i)||this.regexp_eatClassSetReservedPunctuator(i)?!0:i.eat(98)?(i.lastIntValue=8,!0):(i.pos=u,!1);var _=i.current();return _<0||_===i.lookahead()&&Di(_)||qi(_)?!1:(i.advance(),i.lastIntValue=_,!0)};function Di(i){return i===33||i>=35&&i<=38||i>=42&&i<=44||i===46||i>=58&&i<=64||i===94||i===96||i===126}function qi(i){return i===40||i===41||i===45||i===47||i>=91&&i<=93||i>=123&&i<=125}dt.regexp_eatClassSetReservedPunctuator=function(i){var u=i.current();return Ui(u)?(i.lastIntValue=u,i.advance(),!0):!1};function Ui(i){return i===33||i===35||i===37||i===38||i===44||i===45||i>=58&&i<=62||i===64||i===96||i===126}dt.regexp_eatClassControlLetter=function(i){var u=i.current();return De(u)||u===95?(i.lastIntValue=u%32,i.advance(),!0):!1},dt.regexp_eatHexEscapeSequence=function(i){var u=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=u}return!1},dt.regexp_eatDecimalDigits=function(i){var u=i.pos,_=0;for(i.lastIntValue=0;De(_=i.current());)i.lastIntValue=10*i.lastIntValue+(_-48),i.advance();return i.pos!==u};function De(i){return i>=48&&i<=57}dt.regexp_eatHexDigits=function(i){var u=i.pos,_=0;for(i.lastIntValue=0;di(_=i.current());)i.lastIntValue=16*i.lastIntValue+ei(_),i.advance();return i.pos!==u};function di(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function ei(i){return i>=65&&i<=70?10+(i-65):i>=97&&i<=102?10+(i-97):i-48}dt.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var u=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var _=i.lastIntValue;u<=3&&this.regexp_eatOctalDigit(i)?i.lastIntValue=u*64+_*8+i.lastIntValue:i.lastIntValue=u*8+_}else i.lastIntValue=u;return!0}return!1},dt.regexp_eatOctalDigit=function(i){var u=i.current();return ii(u)?(i.lastIntValue=u-48,i.advance(),!0):(i.lastIntValue=0,!1)};function ii(i){return i>=48&&i<=55}dt.regexp_eatFixedHexDigits=function(i,u){var _=i.pos;i.lastIntValue=0;for(var I=0;I<u;++I){var R=i.current();if(!di(R))return i.pos=_,!1;i.lastIntValue=16*i.lastIntValue+ei(R),i.advance()}return!0};var Le=function(u){this.type=u.type,this.value=u.value,this.start=u.start,this.end=u.end,u.options.locations&&(this.loc=new ze(u,u.startLoc,u.endLoc)),u.options.ranges&&(this.range=[u.start,u.end])},zt=t.prototype;zt.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Le(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},zt.getToken=function(){return this.next(),new Le(this)},typeof Symbol<"u"&&(zt[Symbol.iterator]=function(){var i=this;return{next:function(){var u=i.getToken();return{done:u.type===k.eof,value:u}}}}),zt.nextToken=function(){var i=this.curContext();if((!i||!i.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(k.eof);if(i.override)return i.override(this);this.readToken(this.fullCharCodeAtPos())},zt.readToken=function(i){return pt(i,this.options.ecmaVersion>=6)||i===92?this.readWord():this.getTokenFromCode(i)},zt.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var u=this.input.charCodeAt(this.pos+1);return u<=56319||u>=57344?i:(i<<10)+u-56613888},zt.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),u=this.pos,_=this.input.indexOf("*/",this.pos+=2);if(_===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=_+2,this.options.locations)for(var I=void 0,R=u;(I=Ge(this.input,R,this.pos))>-1;)++this.curLine,R=this.lineStart=I;this.options.onComment&&this.options.onComment(!0,this.input.slice(u+2,_),u,this.pos,i,this.curPosition())},zt.skipLineComment=function(i){for(var u=this.pos,_=this.options.onComment&&this.curPosition(),I=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!ne(I);)I=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(u+i,this.pos),u,this.pos,_,this.curPosition())},zt.skipSpace=function(){t:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(i>8&&i<14||i>=5760&&Ye.test(String.fromCharCode(i)))++this.pos;else break t}}},zt.finishToken=function(i,u){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var _=this.type;this.type=i,this.value=u,this.updateContext(_)},zt.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var u=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&i===46&&u===46?(this.pos+=3,this.finishToken(k.ellipsis)):(++this.pos,this.finishToken(k.dot))},zt.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(k.assign,2):this.finishOp(k.slash,1)},zt.readToken_mult_modulo_exp=function(i){var u=this.input.charCodeAt(this.pos+1),_=1,I=i===42?k.star:k.modulo;return this.options.ecmaVersion>=7&&i===42&&u===42&&(++_,I=k.starstar,u=this.input.charCodeAt(this.pos+2)),u===61?this.finishOp(k.assign,_+1):this.finishOp(I,_)},zt.readToken_pipe_amp=function(i){var u=this.input.charCodeAt(this.pos+1);if(u===i){if(this.options.ecmaVersion>=12){var _=this.input.charCodeAt(this.pos+2);if(_===61)return this.finishOp(k.assign,3)}return this.finishOp(i===124?k.logicalOR:k.logicalAND,2)}return u===61?this.finishOp(k.assign,2):this.finishOp(i===124?k.bitwiseOR:k.bitwiseAND,1)},zt.readToken_caret=function(){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(k.assign,2):this.finishOp(k.bitwiseXOR,1)},zt.readToken_plus_min=function(i){var u=this.input.charCodeAt(this.pos+1);return u===i?u===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||jt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(k.incDec,2):u===61?this.finishOp(k.assign,2):this.finishOp(k.plusMin,1)},zt.readToken_lt_gt=function(i){var u=this.input.charCodeAt(this.pos+1),_=1;return u===i?(_=i===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+_)===61?this.finishOp(k.assign,_+1):this.finishOp(k.bitShift,_)):u===33&&i===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(u===61&&(_=2),this.finishOp(k.relational,_))},zt.readToken_eq_excl=function(i){var u=this.input.charCodeAt(this.pos+1);return u===61?this.finishOp(k.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&&u===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(k.arrow)):this.finishOp(i===61?k.eq:k.prefix,1)},zt.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var u=this.input.charCodeAt(this.pos+1);if(u===46){var _=this.input.charCodeAt(this.pos+2);if(_<48||_>57)return this.finishOp(k.questionDot,2)}if(u===63){if(i>=12){var I=this.input.charCodeAt(this.pos+2);if(I===61)return this.finishOp(k.assign,3)}return this.finishOp(k.coalesce,2)}}return this.finishOp(k.question,1)},zt.readToken_numberSign=function(){var i=this.options.ecmaVersion,u=35;if(i>=13&&(++this.pos,u=this.fullCharCodeAtPos(),pt(u,!0)||u===92))return this.finishToken(k.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+he(u)+"'")},zt.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(k.parenL);case 41:return++this.pos,this.finishToken(k.parenR);case 59:return++this.pos,this.finishToken(k.semi);case 44:return++this.pos,this.finishToken(k.comma);case 91:return++this.pos,this.finishToken(k.bracketL);case 93:return++this.pos,this.finishToken(k.bracketR);case 123:return++this.pos,this.finishToken(k.braceL);case 125:return++this.pos,this.finishToken(k.braceR);case 58:return++this.pos,this.finishToken(k.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(k.backQuote);case 48:var u=this.input.charCodeAt(this.pos+1);if(u===120||u===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(u===111||u===79)return this.readRadixNumber(8);if(u===98||u===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(k.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+he(i)+"'")},zt.finishOp=function(i,u){var _=this.input.slice(this.pos,this.pos+u);return this.pos+=u,this.finishToken(i,_)},zt.readRegexp=function(){for(var i,u,_=this.pos;;){this.pos>=this.input.length&&this.raise(_,"Unterminated regular expression");var I=this.input.charAt(this.pos);if(jt.test(I)&&this.raise(_,"Unterminated regular expression"),i)i=!1;else{if(I==="[")u=!0;else if(I==="]"&&u)u=!1;else if(I==="/"&&!u)break;i=I==="\\"}++this.pos}var R=this.input.slice(_,this.pos);++this.pos;var K=this.pos,Y=this.readWord1();this.containsEsc&&this.unexpected(K);var ht=this.regexpState||(this.regexpState=new Gt(this));ht.reset(_,R,Y),this.validateRegExpFlags(ht),this.validateRegExpPattern(ht);var _t=null;try{_t=new RegExp(R,Y)}catch{}return this.finishToken(k.regexp,{pattern:R,flags:Y,value:_t})},zt.readInt=function(i,u,_){for(var I=this.options.ecmaVersion>=12&&u===void 0,R=_&&this.input.charCodeAt(this.pos)===48,K=this.pos,Y=0,ht=0,_t=0,Vt=u??1/0;_t<Vt;++_t,++this.pos){var Lt=this.input.charCodeAt(this.pos),ue=void 0;if(I&&Lt===95){R&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),ht===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),_t===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),ht=Lt;continue}if(Lt>=97?ue=Lt-97+10:Lt>=65?ue=Lt-65+10:Lt>=48&&Lt<=57?ue=Lt-48:ue=1/0,ue>=i)break;ht=Lt,Y=Y*i+ue}return I&&ht===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===K||u!=null&&this.pos-K!==u?null:Y};function Ee(i,u){return u?parseInt(i,8):parseFloat(i.replace(/_/g,""))}function we(i){return typeof BigInt!="function"?null:BigInt(i.replace(/_/g,""))}zt.readRadixNumber=function(i){var u=this.pos;this.pos+=2;var _=this.readInt(i);return _==null&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(_=we(this.input.slice(u,this.pos)),++this.pos):pt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(k.num,_)},zt.readNumber=function(i){var u=this.pos;!i&&this.readInt(10,void 0,!0)===null&&this.raise(u,"Invalid number");var _=this.pos-u>=2&&this.input.charCodeAt(u)===48;_&&this.strict&&this.raise(u,"Invalid number");var I=this.input.charCodeAt(this.pos);if(!_&&!i&&this.options.ecmaVersion>=11&&I===110){var R=we(this.input.slice(u,this.pos));return++this.pos,pt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(k.num,R)}_&&/[89]/.test(this.input.slice(u,this.pos))&&(_=!1),I===46&&!_&&(++this.pos,this.readInt(10),I=this.input.charCodeAt(this.pos)),(I===69||I===101)&&!_&&(I=this.input.charCodeAt(++this.pos),(I===43||I===45)&&++this.pos,this.readInt(10)===null&&this.raise(u,"Invalid number")),pt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var K=Ee(this.input.slice(u,this.pos),_);return this.finishToken(k.num,K)},zt.readCodePoint=function(){var i=this.input.charCodeAt(this.pos),u;if(i===123){this.options.ecmaVersion<6&&this.unexpected();var _=++this.pos;u=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,u>1114111&&this.invalidStringToken(_,"Code point out of bounds")}else u=this.readHexChar(4);return u},zt.readString=function(i){for(var u="",_=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var I=this.input.charCodeAt(this.pos);if(I===i)break;I===92?(u+=this.input.slice(_,this.pos),u+=this.readEscapedChar(!1),_=this.pos):I===8232||I===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ne(I)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return u+=this.input.slice(_,this.pos++),this.finishToken(k.string,u)};var Te={};zt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i===Te)this.readInvalidTemplateToken();else throw i}this.inTemplateElement=!1},zt.invalidStringToken=function(i,u){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Te;this.raise(i,u)},zt.readTmplToken=function(){for(var i="",u=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var _=this.input.charCodeAt(this.pos);if(_===96||_===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===k.template||this.type===k.invalidTemplate)?_===36?(this.pos+=2,this.finishToken(k.dollarBraceL)):(++this.pos,this.finishToken(k.backQuote)):(i+=this.input.slice(u,this.pos),this.finishToken(k.template,i));if(_===92)i+=this.input.slice(u,this.pos),i+=this.readEscapedChar(!0),u=this.pos;else if(ne(_)){switch(i+=this.input.slice(u,this.pos),++this.pos,_){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(_);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),u=this.pos}else++this.pos}},zt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(k.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},zt.readEscapedChar=function(i){var u=this.input.charCodeAt(++this.pos);switch(++this.pos,u){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return he(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i){var _=this.pos-1;this.invalidStringToken(_,"Invalid escape sequence in template string")}default:if(u>=48&&u<=55){var I=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],R=parseInt(I,8);return R>255&&(I=I.slice(0,-1),R=parseInt(I,8)),this.pos+=I.length-1,u=this.input.charCodeAt(this.pos),(I!=="0"||u===56||u===57)&&(this.strict||i)&&this.invalidStringToken(this.pos-1-I.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(R)}return ne(u)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(u)}},zt.readHexChar=function(i){var u=this.pos,_=this.readInt(16,i);return _===null&&this.invalidStringToken(u,"Bad character escape sequence"),_},zt.readWord1=function(){this.containsEsc=!1;for(var i="",u=!0,_=this.pos,I=this.options.ecmaVersion>=6;this.pos<this.input.length;){var R=this.fullCharCodeAtPos();if(nt(R,I))this.pos+=R<=65535?1:2;else if(R===92){this.containsEsc=!0,i+=this.input.slice(_,this.pos);var K=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Y=this.readCodePoint();(u?pt:nt)(Y,I)||this.invalidStringToken(K,"Invalid Unicode escape"),i+=he(Y),_=this.pos}else break;u=!1}return i+this.input.slice(_,this.pos)},zt.readWord=function(){var i=this.readWord1(),u=k.name;return this.keywords.test(i)&&(u=Wt[i]),this.finishToken(u,i)};var Ie="8.14.0";t.acorn={Parser:t,version:Ie,defaultOptions:Qt,Position:He,SourceLocation:ze,getLineInfo:xi,Node:L,TokenType:Ct,tokTypes:k,keywordTypes:Wt,TokContext:y,tokContexts:w,isIdentifierChar:nt,isIdentifierStart:pt,Token:Le,isNewLine:ne,lineBreak:jt,lineBreakG:Ce,nonASCIIwhitespace:Ye};function We(i,u){return t.parse(i,u)}function Pi(i,u,_){return t.parseExpressionAt(i,u,_)}function Ii(i,u){return t.tokenizer(i,u)}N.Node=L,N.Parser=t,N.Position=He,N.SourceLocation=ze,N.TokContext=y,N.Token=Le,N.TokenType=Ct,N.defaultOptions=Qt,N.getLineInfo=xi,N.isIdentifierChar=nt,N.isIdentifierStart=pt,N.isNewLine=ne,N.keywordTypes=Wt,N.lineBreak=jt,N.lineBreakG=Ce,N.nonASCIIwhitespace=Ye,N.parse=We,N.parseExpressionAt=Pi,N.tokContexts=w,N.tokTypes=k,N.tokenizer=Ii,N.version=Ie})}(Yi,Yi.exports)),Yi.exports}/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(wt){(function(vt,N){vt=vt||hn;var G=vt.window,Q=vt.document,E=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],r=e.slice,n=Object.create,s=Object.getOwnPropertyDescriptor,a=Object.defineProperty,h=e.forEach||function(p,d){for(var S=0,y=this.length;S<y;S++)p.call(d,this[S],S,this)},o=function(p,d){for(var S in this)this.hasOwnProperty(S)&&p.call(d,this[S],S,this)},l=Object.assign||function(p){for(var d=1,S=arguments.length;d<S;d++){var y=arguments[d];for(var w in y)y.hasOwnProperty(w)&&(p[w]=y[w])}return p},f=function(p,d,S){if(p){var y=s(p,"length");(y&&typeof y.value=="number"?h:o).call(p,d,S=S||p)}return S};function g(p,d,S,y,w){var v={};function x(C,T){T=T||(T=s(d,C))&&(T.get?T:T.value),typeof T=="string"&&T[0]==="#"&&(T=p[T.substring(1)]||T);var L=typeof T=="function",M=T,F=w||L&&!T.base?T&&T.get?C in p:p[C]:null,O;(!w||!F)&&(L&&F&&(T.base=F),L&&y!==!1&&(O=C.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(v[O[3].toLowerCase()+O[4]]=O[2]),(!M||L||!M.get||typeof M.get!="function"||!m.isPlainObject(M))&&(M={value:M,writable:!0}),(s(p,C)||{configurable:!0}).configurable&&(M.configurable=!0,M.enumerable=S??!O),a(p,C,M))}if(d){for(var c in d)d.hasOwnProperty(c)&&!t.test(c)&&x(c);for(var c in v){var b=v[c],P=p["set"+b],A=p["get"+b]||P&&p["is"+b];A&&(y===!0||A.length===0)&&x(c,{get:A,set:P})}}return p}function m(){for(var p=0,d=arguments.length;p<d;p++){var S=arguments[p];S&&l(this,S)}return this}return g(m,{inject:function(p){if(p){var d=p.statics===!0?p:p.statics,S=p.beans,y=p.preserve;d!==p&&g(this.prototype,p,p.enumerable,S,y),g(this,d,null,S,y)}for(var w=1,v=arguments.length;w<v;w++)this.inject(arguments[w]);return this},extend:function(){for(var p=this,d,S,y=0,w,v=arguments.length;y<v&&!(d&&S);y++)w=arguments[y],d=d||w.initialize,S=S||w.prototype;return d=d||function(){p.apply(this,arguments)},S=d.prototype=S||n(this.prototype),a(S,"constructor",{value:d,writable:!0,configurable:!0}),g(d,this),arguments.length&&this.inject.apply(d,arguments),d.base=p,d}}).inject({enumerable:!1,initialize:m,set:m,inject:function(){for(var p=0,d=arguments.length;p<d;p++){var S=arguments[p];S&&g(this,S,S.enumerable,S.beans,S.preserve)}return this},extend:function(){var p=n(this);return p.inject.apply(p,arguments)},each:function(p,d){return f(this,p,d)},clone:function(){return new this.constructor(this)},statics:{set:l,each:f,create:n,define:a,describe:s,clone:function(p){return l(new p.constructor,p)},isPlainObject:function(p){var d=p!=null&&p.constructor;return d&&(d===Object||d===m||d.name==="Object")},pick:function(p,d){return p!==N?p:d},slice:function(p,d,S){return r.call(p,d,S)}}})};wt.exports=E,E.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+E.each(this,function(t,e){if(!/^_/.test(e)){var r=typeof t;this.push(e+": "+(r==="number"?W.instance.number(t):r==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return E.importJSON(t,this)},exportJSON:function(t){return E.exportJSON(this,t)},toJSON:function(){return E.serialize(this)},set:function(t,e){return t&&E.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),r=e.prototype._class;return r&&!E.exports[r]&&(E.exports[r]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(t)&&Array.isArray(e)){var r=t.length;if(r!==e.length)return!1;for(;r--;)if(!E.equals(t[r],e[r]))return!1}else{var n=Object.keys(t),r=n.length;if(r!==Object.keys(e).length)return!1;for(;r--;){var s=n[r];if(!(e.hasOwnProperty(s)&&E.equals(t[s],e[s])))return!1}}return!0}return!1},read:function(t,e,r,n){if(this===E){var s=this.peek(t,e);return t.__index++,s}var a=this.prototype,h=a._readIndex,o=e||h&&t.__index||0,l=t.length,f=t[o];if(n=n||l-o,f instanceof this||r&&r.readNull&&f==null&&n<=1)return h&&(t.__index=o+1),f&&r&&r.clone?f.clone():f;if(f=E.create(a),h&&(f.__read=!0),f=f.initialize.apply(f,o>0||o+n<l?E.slice(t,o,o+n):t)||f,h){t.__index=o+f.__read;var g=f.__filtered;g&&(t.__filtered=g,f.__filtered=N),f.__read=N}return f},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,r,n){for(var s=[],a,h=e||0,o=n?h+n:t.length,l=h;l<o;l++)s.push(Array.isArray(a=t[l])?this.read(a,0,r):this.read(t,l,r,1));return s},readNamed:function(t,e,r,n,s){var a=this.getNamed(t,e),h=a!==N;if(h){var o=t.__filtered;if(!o){var l=this.getSource(t);o=t.__filtered=E.create(l),o.__unfiltered=l}o[e]=N}return this.read(h?[a]:t,r,n,s)},readSupported:function(t,e){var r=this.getSource(t),n=this,s=!1;return r&&Object.keys(r).forEach(function(a){if(a in e){var h=n.readNamed(t,a);h!==N&&(e[a]=h),s=!0}}),s},getSource:function(t){var e=t.__source;if(e===N){var r=t.length===1&&t[0];e=t.__source=r&&E.isPlainObject(r)?r:null}return e},getNamed:function(t,e){var r=this.getSource(t);if(r)return e?r[e]:t.__filtered||r},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,r,n){var s;function a(g){if(!(r&&g in r)&&!(s&&g in s)){var m=e[g];m!==N&&(t[g]=m)}}if(n){for(var h={},o=0,l,f=n.length;o<f;o++)(l=n[o])in e&&(a(l),h[l]=!0);s=h}return Object.keys(e.__unfiltered||e).forEach(a),t},isPlainValue:function(t,e){return E.isPlainObject(t)||Array.isArray(t)||e&&typeof t=="string"},serialize:function(t,e,r,n){e=e||{};var s=!n,a;if(s&&(e.formatter=new W(e.precision),n={length:0,definitions:{},references:{},add:function(m,p){var d="#"+m._id,S=this.references[d];if(!S){this.length++;var y=p.call(m),w=m._class;w&&y[0]!==w&&y.unshift(w),this.definitions[d]=y,S=this.references[d]=[d]}return S}}),t&&t._serialize){a=t._serialize(e,n);var h=t._class;h&&!t._compactSerialize&&(s||!r)&&a[0]!==h&&a.unshift(h)}else if(Array.isArray(t)){a=[];for(var o=0,l=t.length;o<l;o++)a[o]=E.serialize(t[o],e,r,n)}else if(E.isPlainObject(t)){a={};for(var f=Object.keys(t),o=0,l=f.length;o<l;o++){var g=f[o];a[g]=E.serialize(t[g],e,r,n)}}else typeof t=="number"?a=e.formatter.number(t,e.precision):a=t;return s&&n.length>0?[["dictionary",n.definitions],a]:a},deserialize:function(t,e,r,n,s){var a=t,h=!r,o=h&&t&&t.length&&t[0][0]==="dictionary";if(r=r||{},Array.isArray(t)){var l=t[0],f=l==="dictionary";if(t.length==1&&/^#/.test(l))return r.dictionary[l];l=E.exports[l],a=[];for(var g=l?1:0,m=t.length;g<m;g++)a.push(E.deserialize(t[g],e,r,f,o));if(l){var p=a;e?a=e(l,p,h||s):a=new l(p)}}else if(E.isPlainObject(t)){a={},n&&(r.dictionary=a);for(var d in t)a[d]=E.deserialize(t[d],e,r)}return o?a[1]:a},exportJSON:function(t,e){var r=E.serialize(t,e);return e&&e.asString==!1?r:JSON.stringify(r)},importJSON:function(t,e){return E.deserialize(typeof t=="string"?JSON.parse(t):t,function(r,n,s){var a=s&&e&&e.constructor===r,h=a?e:E.create(r.prototype);if(n.length===1&&h instanceof k&&(a||!(h instanceof Ce))){var o=n[0];E.isPlainObject(o)&&(o.insert=!1,a&&(n=n.concat([k.INSERT])))}return(a?h.set:r).apply(h,n),a&&(e=null),h})},push:function(t,e){var r=e.length;if(r<4096)t.push.apply(t,e);else{var n=t.length;t.length+=r;for(var s=0;s<r;s++)t[n+s]=e[s]}return t},splice:function(t,e,r,n){var s=e&&e.length,a=r===N;r=a?t.length:r,r>t.length&&(r=t.length);for(var h=0;h<s;h++)e[h]._index=r+h;if(a)return E.push(t,e),[];var o=[r,n];e&&E.push(o,e);for(var l=t.splice.apply(t,o),h=0,f=l.length;h<f;h++)l[h]._index=N;for(var h=r+s,f=t.length;h<f;h++)t[h]._index=h;return l},capitalize:function(t){return t.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(e,r){return r.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var at={on:function(t,e){if(typeof t!="string")E.each(t,function(a,h){this.on(h,a)},this);else{var r=this._eventTypes,n=r&&r[t],s=this._callbacks=this._callbacks||{};s=s[t]=s[t]||[],s.indexOf(e)===-1&&(s.push(e),n&&n.install&&s.length===1&&n.install.call(this,t))}return this},off:function(t,e){if(typeof t!="string"){E.each(t,function(h,o){this.off(o,h)},this);return}var r=this._eventTypes,n=r&&r[t],s=this._callbacks&&this._callbacks[t],a;return s&&(!e||(a=s.indexOf(e))!==-1&&s.length===1?(n&&n.uninstall&&n.uninstall.call(this,t),delete this._callbacks[t]):a!==-1&&s.splice(a,1)),this},once:function(t,e){return this.on(t,function r(){e.apply(this,arguments),this.off(t,r)})},emit:function(t,e){var r=this._callbacks&&this._callbacks[t];if(!r)return!1;var n=E.slice(arguments,1),s=e&&e.target&&!e.currentTarget;r=r.slice(),s&&(e.currentTarget=this);for(var a=0,h=r.length;a<h;a++)if(r[a].apply(this,n)==!1){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,r=this._callbacks,n=t?"install":"uninstall";if(e){for(var s in r)if(r[s].length>0){var a=e[s],h=a&&a[n];h&&h.call(this,s)}}},statics:{inject:function t(e){var r=e._events;if(r){var n={};E.each(r,function(s,a){var h=typeof s=="string",o=h?s:a,l=E.capitalize(o),f=o.substring(2).toLowerCase();n[f]=h?{}:s,o="_"+o,e["get"+l]=function(){return this[o]},e["set"+l]=function(g){var m=this[o];m&&this.off(f,m),g&&this.on(f,g),this[o]=g}}),e._eventTypes=n}return t.base.apply(this,arguments)}}},D=E.extend({_class:"PaperScope",initialize:function t(){Bt=this,this.settings=new E({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var r=te.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:ke.nativeModes},te.release(r)}if(!this.agent){var n=vt.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],a=s==="darwin"?"mac":s,h=e.agent=e.browser={platform:a};a&&(h[a]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(o,l,f,g,m){if(!h.chrome){var p=l==="opera"?g:/^(node|trident)$/.test(l)?m:f;h.version=p,h.versionNumber=parseFloat(p),l={trident:"msie",jsdom:"node"}[l]||l,h.name=l,h[l]=!0}}),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.12.18",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var r=Bt.PaperScript.execute(t,this,e);return Yt.updateFocus(),r},install:function(t){var e=this;E.each(["project","view","tool"],function(n){E.define(t,n,{configurable:!0,get:function(){return e[n]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(t[r]=this[r])},setup:function(t){return Bt=this,this.project=new It(t),this},createCanvas:function(t,e){return te.getCanvas(t,e)},activate:function(){Bt=this},clear:function(){for(var t=this.projects,e=this.tools,r=t.length-1;r>=0;r--)t[r].remove();for(var r=e.length-1;r>=0;r--)e[r].remove()},remove:function(){this.clear(),delete D._scopes[this._id]},statics:new function(){function t(e){return e+="Attribute",function(r,n){return r[e](n)||r[e]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),J=E.extend(at,{initialize:function(t){this._scope=Bt,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(E.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),X={findItemBoundsCollisions:function(t,e,r){function n(h){for(var o=new Array(h.length),l=0;l<h.length;l++){var f=h[l].getBounds();o[l]=[f.left,f.top,f.right,f.bottom]}return o}var s=n(t),a=!e||e===t?s:n(e);return this.findBoundsCollisions(s,a,r||0)},findCurveBoundsCollisions:function(t,e,r,n){function s(p){for(var d=Math.min,S=Math.max,y=new Array(p.length),w=0;w<p.length;w++){var v=p[w];y[w]=[d(v[0],v[2],v[4],v[6]),d(v[1],v[3],v[5],v[7]),S(v[0],v[2],v[4],v[6]),S(v[1],v[3],v[5],v[7])]}return y}var a=s(t),h=!e||e===t?a:s(e);if(n){for(var o=this.findBoundsCollisions(a,h,r||0,!1,!0),l=this.findBoundsCollisions(a,h,r||0,!0,!0),f=[],g=0,m=o.length;g<m;g++)f[g]={hor:o[g],ver:l[g]};return f}return this.findBoundsCollisions(a,h,r||0)},findBoundsCollisions:function(t,e,r,n,s){var a=!e||t===e,h=a?t:t.concat(e),o=t.length,l=h.length;function f(ot,ft,mt){for(var et=0,it=ot.length;et<it;){var ct=it+et>>>1;h[ot[ct]][ft]<mt?et=ct+1:it=ct}return et-1}for(var g=n?1:0,m=g+2,p=n?0:1,d=p+2,S=new Array(l),y=0;y<l;y++)S[y]=y;S.sort(function(ot,ft){return h[ot][g]-h[ft][g]});for(var w=[],v=new Array(o),y=0;y<l;y++){var x=S[y],c=h[x],b=a?x:x-o,P=x<o,A=a||!P,C=P?[]:null;if(w.length){var T=f(w,m,c[g]-r)+1;if(w.splice(0,T),a&&s){C=C.concat(w);for(var L=0;L<w.length;L++){var M=w[L];v[M].push(b)}}else for(var F=c[d],O=c[p],L=0;L<w.length;L++){var M=w[L],B=h[M],q=M<o,H=a||M>=o;(s||(P&&H||A&&q)&&F>=B[p]-r&&O<=B[d]+r)&&(P&&H&&C.push(a?M:M-o),A&&q&&v[M].push(b))}}if(P&&(t===e&&C.push(x),v[x]=C),w.length){var j=c[m],Z=f(w,m,j);w.splice(Z+1,0,x)}else w.push(x)}for(var y=0;y<v.length;y++){var ut=v[y];ut&&ut.sort(function(ft,mt){return ft-mt})}return v}},W=E.extend({initialize:function(t){this.precision=E.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,r){return this.number(t)+(r||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});W.instance=new W;var $=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,n=Math.sqrt,s=Math.pow,a=Math.log2||function(m){return Math.log(m)*Math.LOG2E},h=1e-12,o=112e-18;function l(m,p,d){return m<p?p:m>d?d:m}function f(m,p,d){function S(T){var L=T*134217729,M=T-L,F=M+L,O=T-F;return[F,O]}var y=p*p-m*d,w=p*p+m*d;if(r(y)*3<w){var v=S(m),x=S(p),c=S(d),b=p*p,P=x[0]*x[0]-b+2*x[0]*x[1]+x[1]*x[1],A=m*d,C=v[0]*c[0]-A+v[0]*c[1]+v[1]*c[0]+v[1]*c[1];y=b-A+(P-C)}return y}function g(){var m=Math.max.apply(Math,arguments);return m&&(m<1e-8||m>1e8)?s(2,-Math.round(a(m))):0}return{EPSILON:h,MACHINE_EPSILON:o,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(n(2)-1)/3,isZero:function(m){return m>=-h&&m<=h},isMachineZero:function(m){return m>=-o&&m<=o},clamp:l,integrate:function(m,p,d,S){for(var y=t[S-2],w=e[S-2],v=(d-p)*.5,x=v+p,c=0,b=S+1>>1,P=S&1?w[c++]*m(x):0;c<b;){var A=v*y[c];P+=w[c++]*(m(x+A)+m(x-A))}return v*P},findRoot:function(m,p,d,S,y,w,v){for(var x=0;x<w;x++){var c=m(d),b=c/p(d),P=d-b;if(r(b)<v){d=P;break}c>0?(y=d,d=P<=S?(S+y)*.5:P):(S=d,d=P>=y?(S+y)*.5:P)}return l(d,S,y)},solveQuadratic:function(m,p,d,S,y,w){var v,x=1/0;if(r(m)<h){if(r(p)<h)return r(d)<h?-1:0;v=-d/p}else{p*=-.5;var c=f(m,p,d);if(c&&r(c)<o){var b=g(r(m),r(p),r(d));b&&(m*=b,p*=b,d*=b,c=f(m,p,d))}if(c>=-o){var P=c<0?0:n(c),A=p+(p<0?-P:P);A===0?(v=d/m,x=-v):(v=A/m,x=d/A)}}var C=0,T=y==null,L=y-h,M=w+h;return isFinite(v)&&(T||v>L&&v<M)&&(S[C++]=T?v:l(v,y,w)),x!==v&&isFinite(x)&&(T||x>L&&x<M)&&(S[C++]=T?x:l(x,y,w)),C},solveCubic:function(m,p,d,S,y,w,v){var x=g(r(m),r(p),r(d),r(S)),c,b,P,A,C;x&&(m*=x,p*=x,d*=x,S*=x);function T(Z){c=Z;var ut=m*c;b=ut+p,P=b*c+d,A=(ut+b)*c+P,C=P*c+S}if(r(m)<h)m=p,b=d,P=S,c=1/0;else if(r(S)<h)b=p,P=d,c=0;else{T(-(p/m)/3);var L=C/m,M=s(r(L),1/3),F=L<0?-1:1,O=-A/m,B=O>0?1.324717957244746*Math.max(M,n(O)):M,q=c-F*B;if(q!==c){do T(q),q=A===0?c:c-C/A/(1+o);while(F*q>F*c);r(m)*c*c>r(S/c)&&(P=-S/c,b=(P-d)/c)}}var H=$.solveQuadratic(m,b,P,y,w,v),j=w==null;return isFinite(c)&&(H===0||H>0&&c!==y[0]&&c!==y[1])&&(j||c>w-h&&c<v+h)&&(y[H++]=j?c:l(c,w,v)),H}}},st={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}else return this._id++}},z=E.extend({_class:"Point",_readIndex:!0,initialize:function(e,r){var n=typeof e,s=this.__read,a=0;if(n==="number"){var h=typeof r=="number";this._set(e,h?r:e),s&&(a=h?2:1)}else if(n==="undefined"||e===null)this._set(0,0),s&&(a=e===null?1:0);else{var o=n==="string"?e.split(/[\s,]+/)||[]:e;a=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"x"in o?this._set(o.x||0,o.y||0):"width"in o?this._set(o.width||0,o.height||0):"angle"in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),a=0)}return s&&(this.__read=a),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new z(this.x,this.y)},toString:function(){var t=W.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var r=t/this.getLength();$.isZero(r)&&this.getAngle(),this._set(this.x*r,this.y*r)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=z.read(arguments),e=this.getLength()*t.getLength();if($.isZero(e))return NaN;var r=this.dot(t)/e;return Math.acos(r<-1?-1:r>1?1:r)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=z.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,e=z.read(t),r=e.x-this.x,n=e.y-this.y,s=r*r+n*n,a=E.read(t);return a?s:Math.sqrt(s)},normalize:function(t){t===N&&(t=1);var e=this.getLength(),r=e!==0?t/e:0,n=new z(this.x*r,this.y*r);return r>=0&&(n._angle=this._angle),n},rotate:function(t,e){if(t===0)return this.clone();t=t*Math.PI/180;var r=e?this.subtract(e):this,n=Math.sin(t),s=Math.cos(t);return r=new z(r.x*s-r.y*n,r.x*n+r.y*s),e?r.add(e):r},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=z.read(arguments);return new z(this.x+t.x,this.y+t.y)},subtract:function(){var t=z.read(arguments);return new z(this.x-t.x,this.y-t.y)},multiply:function(){var t=z.read(arguments);return new z(this.x*t.x,this.y*t.y)},divide:function(){var t=z.read(arguments);return new z(this.x/t.x,this.y/t.y)},modulo:function(){var t=z.read(arguments);return new z(this.x%t.x,this.y%t.y)},negate:function(){return new z(-this.x,-this.y)},isInside:function(){return gt.read(arguments).contains(this)},isClose:function(){var t=arguments,e=z.read(t),r=E.read(t);return this.getDistance(e)<=r},isCollinear:function(){var t=z.read(arguments);return z.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=z.read(arguments);return z.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=$.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=z.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=z.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=z.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new z(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=z.read(t),r=z.read(t);return new z(Math.min(e.x,r.x),Math.min(e.y,r.y))},max:function(){var t=arguments,e=z.read(t),r=z.read(t);return new z(Math.max(e.x,r.x),Math.max(e.y,r.y))},random:function(){return new z(Math.random(),Math.random())},isCollinear:function(t,e,r,n){return Math.abs(t*n-e*r)<=Math.sqrt((t*t+e*e)*(r*r+n*n))*1e-8},isOrthogonal:function(t,e,r,n){return Math.abs(t*r+e*n)<=Math.sqrt((t*t+e*e)*(r*r+n*n))*1e-8}}},E.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new z(e(this.x),e(this.y))}},{})),pt=z.extend({initialize:function(e,r,n,s){this._x=e,this._y=r,this._owner=n,this._setter=s},_set:function(t,e,r){return this._x=t,this._y=e,r||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),nt=E.extend({_class:"Size",_readIndex:!0,initialize:function(e,r){var n=typeof e,s=this.__read,a=0;if(n==="number"){var h=typeof r=="number";this._set(e,h?r:e),s&&(a=h?2:1)}else if(n==="undefined"||e===null)this._set(0,0),s&&(a=e===null?1:0);else{var o=n==="string"?e.split(/[\s,]+/)||[]:e;a=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"width"in o?this._set(o.width||0,o.height||0):"x"in o?this._set(o.x||0,o.y||0):(this._set(0,0),a=0)}return s&&(this.__read=a),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new nt(this.width,this.height)},toString:function(){var t=W.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=nt.read(arguments);return new nt(this.width+t.width,this.height+t.height)},subtract:function(){var t=nt.read(arguments);return new nt(this.width-t.width,this.height-t.height)},multiply:function(){var t=nt.read(arguments);return new nt(this.width*t.width,this.height*t.height)},divide:function(){var t=nt.read(arguments);return new nt(this.width/t.width,this.height/t.height)},modulo:function(){var t=nt.read(arguments);return new nt(this.width%t.width,this.height%t.height)},negate:function(){return new nt(-this.width,-this.height)},isZero:function(){var t=$.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new nt(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new nt(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new nt(Math.random(),Math.random())}}},E.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new nt(e(this.width),e(this.height))}},{})),Ct=nt.extend({initialize:function(e,r,n,s){this._width=e,this._height=r,this._owner=n,this._setter=s},_set:function(t,e,r){return this._width=t,this._height=e,r||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),gt=E.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,r,n,s){var a=arguments,h=typeof e,o;if(h==="number"?(this._set(e,r,n,s),o=4):h==="undefined"||e===null?(this._set(0,0,0,0),o=e===null?1:0):a.length===1&&(Array.isArray(e)?(this._set.apply(this,e),o=1):e.x!==N||e.width!==N?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),o=1):e.from===N&&e.to===N&&(this._set(0,0,0,0),E.readSupported(a,this)&&(o=1))),o===N){var l=z.readNamed(a,"from"),f=E.peek(a),g=l.x,m=l.y,p,d;if(f&&f.x!==N||E.hasNamed(a,"to")){var S=z.readNamed(a,"to");p=S.x-g,d=S.y-m,p<0&&(g=S.x,p=-p),d<0&&(m=S.y,d=-d)}else{var y=nt.read(a);p=y.width,d=y.height}this._set(g,m,p,d),o=a.__index}var w=a.__filtered;return w&&(this.__filtered=w),this.__read&&(this.__read=o),this},set:"#initialize",_set:function(t,e,r,n){return this.x=t,this.y=e,this.width=r,this.height=n,this},clone:function(){return new gt(this.x,this.y,this.width,this.height)},equals:function(t){var e=E.isPlainValue(t)?gt.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=W.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?z:pt;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=z.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?nt:Ct;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=nt.read(arguments),e=this._sx,r=this._sy,n=t.width,s=t.height;e&&(this.x+=(this.width-n)*e),r&&(this.y+=(this.height-s)*r),this.width=n,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=this._sx===.5?e*2:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=this._sy===.5?e*2:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=this._sx===.5?e*2:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=this._sy===.5?e*2:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?z:pt;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=z.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==N||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(gt.read(arguments)):this._containsPoint(z.read(arguments))},_containsPoint:function(t){var e=t.x,r=t.y;return e>=this.x&&r>=this.y&&e<=this.x+this.width&&r<=this.y+this.height},_containsRectangle:function(t){var e=t.x,r=t.y;return e>=this.x&&r>=this.y&&e+t.width<=this.x+this.width&&r+t.height<=this.y+this.height},intersects:function(){var t=gt.read(arguments),e=E.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=gt.read(arguments),e=Math.max(this.x,t.x),r=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new gt(e,r,n-e,s-r)},unite:function(){var t=gt.read(arguments),e=Math.min(this.x,t.x),r=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new gt(e,r,n-e,s-r)},include:function(){var t=z.read(arguments),e=Math.min(this.x,t.x),r=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new gt(e,r,n-e,s-r)},expand:function(){var t=nt.read(arguments),e=t.width,r=t.height;return new gt(this.x-e/2,this.y-r/2,this.width+e,this.height+r)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===N?t:e)-this.height)}},E.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var r=t.join(""),n=/^[RL]/.test(r);e>=4&&(t[1]+=n?"Y":"X");var s=t[n?0:1],a=t[n?1:0],h="get"+s,o="get"+a,l="set"+s,f="set"+a,g="get"+r,m="set"+r;this[g]=function(p){var d=p?z:pt;return new d(this[h](),this[o](),this,m)},this[m]=function(){var p=z.read(arguments);this[l](p.x),this[f](p.y)}},{beans:!0})),bt=gt.extend({initialize:function(e,r,n,s,a,h){this._set(e,r,n,s,!0),this._owner=a,this._setter=h},_set:function(t,e,r,n,s){return this._x=t,this._y=e,this._width=r,this._height=n,s||this._owner[this._setter](this),this}},new function(){var t=gt.prototype;return E.each(["x","y","width","height"],function(e){var r=E.capitalize(e),n="_"+e;this["get"+r]=function(){return this[n]},this["set"+r]=function(s){this[n]=s,this._dontNotify||this._owner[this._setter](this)}},E.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var r="set"+e;this[r]=function(){this._dontNotify=!0,t[r].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var r=this._owner;r._changeSelection&&r._changeSelection(2,e)}}))}),St=E.extend({_class:"Matrix",initialize:function t(e,r){var n=arguments,s=n.length,a=!0;if(s>=6?this._set.apply(this,n):s===1||s===2?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,r):Array.isArray(e)?this._set.apply(this,r?e.concat([r]):e):a=!1:s?a=!1:this.reset(),!a)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,r,n,s,a,h){return this._a=t,this._b=e,this._c=r,this._d=n,this._tx=s,this._ty=a,h||this._changed(),this},_serialize:function(t,e){return E.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new St(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=W.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var r=this._owner;return r?(r.transform(null,E.pick(t,!0),e),this.isIdentity()):!1},translate:function(){var t=z.read(arguments),e=t.x,r=t.y;return this._tx+=e*this._a+r*this._c,this._ty+=e*this._b+r*this._d,this._changed(),this},scale:function(){var t=arguments,e=z.read(t),r=z.read(t,0,{readNull:!0});return r&&this.translate(r),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,r&&this.translate(r.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=z.read(arguments,1),r=e.x,n=e.y,s=Math.cos(t),a=Math.sin(t),h=r-r*s+n*a,o=n-r*a-n*s,l=this._a,f=this._b,g=this._c,m=this._d;return this._a=s*l+a*g,this._b=s*f+a*m,this._c=-a*l+s*g,this._d=-a*f+s*m,this._tx+=h*l+o*g,this._ty+=h*f+o*m,this._changed(),this},shear:function(){var t=arguments,e=z.read(t),r=z.read(t,0,{readNull:!0});r&&this.translate(r);var n=this._a,s=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*n,this._d+=e.x*s,r&&this.translate(r.negate()),this._changed(),this},skew:function(){var t=arguments,e=z.read(t),r=z.read(t,0,{readNull:!0}),n=Math.PI/180,s=new z(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(s,r)},append:function(t,e){if(t){var r=this._a,n=this._b,s=this._c,a=this._d,h=t._a,o=t._c,l=t._b,f=t._d,g=t._tx,m=t._ty;this._a=h*r+l*s,this._c=o*r+f*s,this._b=h*n+l*a,this._d=o*n+f*a,this._tx+=g*r+m*s,this._ty+=g*n+m*a,e||this._changed()}return this},prepend:function(t,e){if(t){var r=this._a,n=this._b,s=this._c,a=this._d,h=this._tx,o=this._ty,l=t._a,f=t._c,g=t._b,m=t._d,p=t._tx,d=t._ty;this._a=l*r+f*n,this._c=l*s+f*a,this._b=g*r+m*n,this._d=g*s+m*a,this._tx=l*h+f*o+p,this._ty=g*h+m*o+d,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,r=this._c,n=this._d,s=this._tx,a=this._ty,h=t*n-e*r,o=null;return h&&!isNaN(h)&&isFinite(s)&&isFinite(a)&&(this._a=n/h,this._b=-e/h,this._c=-r/h,this._d=t/h,this._tx=(r*a-n*s)/h,this._ty=(e*s-t*a)/h,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new St(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,r){return arguments.length<3?this._transformPoint(z.read(arguments)):this._transformCoordinates(t,e,r)},_transformPoint:function(t,e,r){var n=t.x,s=t.y;return e||(e=new z),e._set(n*this._a+s*this._c+this._tx,n*this._b+s*this._d+this._ty,r)},_transformCoordinates:function(t,e,r){for(var n=0,s=2*r;n<s;n+=2){var a=t[n],h=t[n+1];e[n]=a*this._a+h*this._c+this._tx,e[n+1]=a*this._b+h*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,r=t.y,n=e+t.width,s=r+t.height,a=[e,r,n,r,n,s,e,s];return this._transformCoordinates(a,a,4)},_transformBounds:function(t,e,r){for(var n=this._transformCorners(t),s=n.slice(0,2),a=s.slice(),h=2;h<8;h++){var o=n[h],l=h&1;o<s[l]?s[l]=o:o>a[l]&&(a[l]=o)}return e||(e=new gt),e._set(s[0],s[1],a[0]-s[0],a[1]-s[1],r)},inverseTransform:function(){return this._inverseTransform(z.read(arguments))},_inverseTransform:function(t,e,r){var n=this._a,s=this._b,a=this._c,h=this._d,o=this._tx,l=this._ty,f=n*h-s*a,g=null;if(f&&!isNaN(f)&&isFinite(o)&&isFinite(l)){var m=t.x-this._tx,p=t.y-this._ty;e||(e=new z),g=e._set((m*h-p*a)/f,(p*n-m*s)/f,r)}return g},decompose:function(){var t=this._a,e=this._b,r=this._c,n=this._d,s=t*n-e*r,a=Math.sqrt,h=Math.atan2,o=180/Math.PI,l,f,g;if(t!==0||e!==0){var m=a(t*t+e*e);l=Math.acos(t/m)*(e>0?1:-1),f=[m,s/m],g=[h(t*r+e*n,m*m),0]}else if(r!==0||n!==0){var p=a(r*r+n*n);l=Math.asin(r/p)*(n>0?1:-1),f=[s/p,p],g=[0,h(t*r+e*n,p*p)]}else l=0,g=f=[0,0];return{translation:this.getTranslation(),rotation:l*o,scaling:new z(f),skewing:new z(g[0]*o,g[1]*o)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new z(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},E.each(["a","b","c","d","tx","ty"],function(t){var e=E.capitalize(t),r="_"+t;this["get"+e]=function(){return this[r]},this["set"+e]=function(n){this[r]=n,this._changed()}},{})),Wt=E.extend({_class:"Line",initialize:function(e,r,n,s,a){var h=!1;arguments.length>=4?(this._px=e,this._py=r,this._vx=n,this._vy=s,h=a):(this._px=e.x,this._py=e.y,this._vx=r.x,this._vy=r.y,h=n),h||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new z(this._px,this._py)},getVector:function(){return new z(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return Wt.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return Wt.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return Wt.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return z.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return z.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,r,n,s,a,h,o,l,f){l||(r-=t,n-=e,h-=s,o-=a);var g=r*o-n*h;if(!$.isMachineZero(g)){var m=t-s,p=e-a,d=(h*p-o*m)/g,S=(r*p-n*m)/g,y=1e-12,w=-y,v=1+y;if(f||w<d&&d<v&&w<S&&S<v)return f||(d=d<=0?0:d>=1?1:d),new z(t+d*r,e+d*n)}},getSide:function(t,e,r,n,s,a,h,o){h||(r-=t,n-=e);var l=s-t,f=a-e,g=l*n-f*r;return!o&&$.isMachineZero(g)&&(g=(l*r+l*r)/(r*r+n*n),g>=0&&g<=1&&(g=0)),g<0?-1:g>0?1:0},getSignedDistance:function(t,e,r,n,s,a,h){return h||(r-=t,n-=e),r===0?n>0?s-t:t-s:n===0?r<0?a-e:e-a:((s-t)*n-(a-e)*r)/(n>r?n*Math.sqrt(1+r*r/(n*n)):r*Math.sqrt(1+n*n/(r*r)))},getDistance:function(t,e,r,n,s,a,h){return Math.abs(Wt.getSignedDistance(t,e,r,n,s,a,h))}}}),It=J.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){J.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new bi(null,null,this),this._view=Yt.create(this,e||te.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return E.serialize(this._children,t,!0,e)},_changed:function(t,e){if(t&1){var r=this._view;r&&(r._needsUpdate=!0,!r._requested&&r._autoUpdate&&r.requestUpdate())}var n=this._changes;if(n&&e){var s=this._changesById,a=e._id,h=s[a];h?h.flags|=t:n.push(s[a]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Ce({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:Ye,match:function(r){var n=r._definition,s=n._id;return e[s]||(e[s]=!0,t.push(n)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var r in t){var n=t[r],s=n._selection;s&1&&n.isInserted()?e.push(n):s||this._updateSelection(n)}return e},_updateSelection:function(t){var e=t._id,r=this._selectionItems;t._selection?r[e]!==t&&(this._selectionCount++,r[e]=t):r[e]===t&&(this._selectionCount--,delete r[e])},selectAll:function(){for(var t=this._children,e=0,r=t.length;e<r;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(N,t)},insertLayer:function(t,e){if(e instanceof Ce){e._remove(!1,!0),E.splice(this._children,[e],t,0),e._setProject(this,!0);var r=e._name;r&&e.setName(r),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,r){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(N,new Ce(k.NO_INSERT),!0)).insertChild(t,e),r&&e.activate&&e.activate(),e},getItems:function(t){return k._getItems(this,t)},getItem:function(t){return k._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return E.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){t==="mouseup"&&(e.mousedrag=null);var r=e[t];if(r){for(var n in r){var s=r[n];for(var a in e){var h=e[a];h&&h!=r&&delete h[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,r){this._updateVersion++,t.save(),e.applyToContext(t);for(var n=this._children,s=new E({offset:new z(0,0),pixelRatio:r,viewMatrix:e.isIdentity()?null:e,matrices:[new St],updateMatrix:!0}),a=0,h=n.length;a<h;a++)n[a].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var o=this._selectionItems,l=this._scope.settings.handleSize,f=this._updateVersion;for(var g in o)o[g]._drawSelection(t,e,l,o,f);t.restore()}}}),k=E.extend(at,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=E.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new St,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return E.each(t,function(e){this._events[e]={install:function(r){this.getView()._countItemEvent(r,1)},uninstall:function(r){this.getView()._countItemEvent(r,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var r=t&&E.isPlainObject(t),n=r&&t.internal===!0,s=this._matrix=new St,a=r&&t.project||Bt.project,h=Bt.settings;return this._id=n?null:st.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new bi(a._currentStyle,this,a),n||r&&t.insert==!1||!h.insertItems&&!(r&&t.insert==!0)?this._setProject(a):(r&&t.parent||a)._insertItem(N,this,!0),r&&t!==k.NO_INSERT&&t!==k.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),r},_serialize:function(t,e){var r={},n=this;function s(a){for(var h in a){var o=n[h];E.equals(o,h==="leading"?a.fontSize*1.2:a[h])||(r[h]=E.serialize(o,t,h!=="data",e))}}return s(this._serializeFields),this instanceof jt||s(this._style._defaults),[this._class,r]},_changed:function(t){var e=this._symbol,r=this._parent||e,n=this._project;t&8&&(this._bounds=this._position=this._decomposed=N),t&16&&(this._globalMatrix=N),r&&t&72&&k._clearBoundsCache(r),t&2&&k._clearBoundsCache(this),n&&n._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var r=e._children,n=e._namedChildren;(n[t]=n[t]||[]).push(this),t in r||(r[t]=this)}this._name=t||N,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},E.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=E.capitalize(t),r="_"+t,n={locked:256,visible:265};this["get"+e]=function(){return this[r]},this["set"+e]=function(s){s!=this[r]&&(this[r]=s,this._changed(n[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var r=this._selection;this.setSelection(e?r|t:r&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,e=0,r=t.length;e<r;e++)if(t[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,r=0,n=e.length;r<n;r++)e[r].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(this._selection&1);if(t&&e){for(var r=0,n=t.length;r<n;r++)if(!t[r].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var r=0,n=e.length;r<n;r++)e[r].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?z:pt,r=this._position||(this._position=this._getPositionFromBounds());return new e(r.x,r.y,this,"setPosition")},setPosition:function(){this.translate(z.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new pt(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=z.read(arguments,0,{clone:!0,readNull:!0}),this._position=N}},E.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(r){return this.getBounds(r,t)}},{beans:!0,getBounds:function(t,e){var r=e||t instanceof St,n=E.set({},r?e:t,this._boundsOptions);(!n.stroke||this.getStrokeScaling())&&(n.cacheItem=this);var s=this._getCachedBounds(r&&t,n).rect;return arguments.length?s:new bt(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=gt.read(arguments),e=this.getBounds(),r=this._matrix,n=new St,s=t.getCenter();n.translate(s),(t.width!=e.width||t.height!=e.height)&&(r.isInvertible()||(r.set(r._backup||new St().translate(r.getTranslation())),e=this.getBounds()),n.scale(e.width!==0?t.width/e.width:0,e.height!==0?t.height/e.height:0)),s=e.getCenter(),n.translate(-s.x,-s.y),this.transform(n)},_getBounds:function(t,e){var r=this._children;return!r||!r.length?new gt:(k._updateBoundsCache(this,e.cacheItem),k._getBounds(r,t,e))},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,r){t=t&&t._orNullIfIdentity();var n=e.internal&&!r,s=e.cacheItem,a=n?null:this._matrix._orNullIfIdentity(),h=s&&(!t||t.equals(a))&&this._getBoundsCacheKey(e,n),o=this._bounds;if(k._updateBoundsCache(this._parent||this._symbol,s),h&&o&&h in o){var l=o[h];return{rect:l.rect.clone(),nonscaling:l.nonscaling}}var f=this._getBounds(t||a,e),g=f.rect||f,m=this._style,p=f.nonscaling||m.hasStroke()&&!m.getStrokeScaling();if(h){o||(this._bounds=o={});var l=o[h]={rect:g.clone(),nonscaling:p,internal:n}}return{rect:g,nonscaling:p}},_getStrokeMatrix:function(t,e){var r=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,n=r?r.getViewMatrix().invert():t;return n&&n._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var r=e._id,n=t._boundsCache=t._boundsCache||{ids:{},list:[]};n.ids[r]||(n.list.push(e),n.ids[r]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=N;for(var r=0,n=e.list,s=n.length;r<s;r++){var a=n[r];a!==t&&(a._bounds=a._position=N,a._boundsCache&&k._clearBoundsCache(a))}}},_getBounds:function(t,e,r){var n=1/0,s=-n,a=n,h=s,o=!1;r=r||{};for(var l=0,f=t.length;l<f;l++){var g=t[l];if(g._visible&&!g.isEmpty(!0)){var m=g._getCachedBounds(e&&e.appended(g._matrix),r,!0),p=m.rect;n=Math.min(p.x,n),a=Math.min(p.y,a),s=Math.max(p.x+p.width,s),h=Math.max(p.y+p.height,h),m.nonscaling&&(o=!0)}}return{rect:isFinite(n)?new gt(n,a,s-n,h-a):new gt,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(e!=null&&t!=null){var r=this._decomposed;this.rotate(t-e),r&&(r.rotation=t,this._decomposed=r)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new pt(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=z.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var r=this.getRotation(),n=this._decomposed,s=new St,a=$.isZero;if(a(t.x)||a(t.y))s.translate(n.translation),r&&s.rotate(r),s.scale(e.x,e.y),this._matrix.set(s);else{var h=this.getPosition(!0);s.translate(h),r&&s.rotate(r),s.scale(e.x/t.x,e.y/t.y),r&&s.rotate(-r),s.translate(h.negate()),this.transform(s)}n&&(n.scaling=e,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var r=this._parent,n=[];r;){if(!r._globalMatrix){e=null;for(var s=0,a=n.length;s<a;s++)n[s]._globalMatrix=null;break}n.push(r),r=r._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&e.prepend(r.getGlobalMatrix(!0))}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var r=this._children,n=0,s=r&&r.length;n<s;n++)r[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var r=this._children,n=0,s=r&&r.length;n<s;n++)r[n]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof Ce)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(t){var e=this._parent,r=e&&e._children;r&&e.insertChildren(t in r?t:N,[this])},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return E.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(k.NO_INSERT),r=this._children,n=E.pick(t?t.insert:N,t===N||t===!0),s=E.pick(t?t.deep:N,!0);r&&e.copyAttributes(this),(!r||s)&&e.copyContent(this),r||e.copyAttributes(this),n&&e.insertAbove(this);var a=this._name,h=this._parent;if(a&&h){for(var r=h._children,o=a,l=1;r[a];)a=o+" "+l++;a!==o&&e.setName(a)}return e},copyContent:function(t){for(var e=t._children,r=0,n=e&&e.length;r<n;r++)this.addChild(e[r].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var r=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=r.length;n<s;n++){var a=r[n];t.hasOwnProperty(a)&&(this[a]=t[a])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var h=t._data,o=t._name;this._data=h?E.clone(h):null,o&&this.setName(o)},rasterize:function(t,e){var r,n,s;E.isPlainObject(t)?(r=t.resolution,n=t.insert,s=t.raster):(r=t,n=e),s||(s=new Ge(k.NO_INSERT));var a=this.getStrokeBounds(),h=(r||this.getView().getResolution())/72,o=a.getTopLeft().floor(),l=a.getBottomRight().ceil(),f=new nt(l.subtract(o)),g=f.multiply(h);if(s.setSize(g,!0),!g.isZero()){var m=s.getContext(!0),p=new St().scale(h).translate(o.negate());m.save(),p.applyToContext(m),this.draw(m,new E({matrices:[p]})),m.restore()}return s._matrix.set(new St().translate(o.add(f.divide(2))).scale(1/h)),(n===N||n)&&s.insertAbove(this),s},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(z.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var r=e.length-1;r>=0;r--)if(e[r].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return gt.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Ft.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof k?this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0:!1}},new function(){function t(){var n=arguments;return this._hitTest(z.read(n),Ae.getOptions(n))}function e(){var n=arguments,s=z.read(n),a=Ae.getOptions(n),h=[];return this._hitTest(s,new E({all:h},a)),h}function r(n,s,a,h){var o=this._children;if(o)for(var l=o.length-1;l>=0;l--){var f=o[l],g=f!==h&&f._hitTest(n,s,a);if(g&&!s.all)return g}return null}return It.inject({hitTest:t,hitTestAll:e,_hitTest:r}),{hitTest:t,hitTestAll:e,_hitTestChildren:r}},{_hitTest:function(t,e,r){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var n=this._matrix,s=r?r.appended(n):this.getGlobalMatrix().prepend(this.getView()._matrix),a=Math.max(e.tolerance,1e-12),h=e._tolerancePadding=new nt(Ft._getStrokePadding(a,n._shiftless().invert()));if(t=n._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(t))return null;var o=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==E.hyphenate(this._class)||e.class&&!(this instanceof e.class)),l=e.match,f=this,g,m;function p(c){return c&&l&&!l(c)&&(c=null),c&&e.all&&e.all.push(c),c}function d(c,b){var P=b?g["get"+b]():f.getPosition();if(t.subtract(P).divide(h).length<=1)return new Ae(c,f,{name:b?E.hyphenate(b):c,point:P})}var S=e.position,y=e.center,w=e.bounds;if(o&&this._parent&&(S||y||w)){if((y||w)&&(g=this.getInternalBounds()),m=S&&d("position")||y&&d("center","Center"),!m&&w)for(var v=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],x=0;x<8&&!m;x++)m=d("bounds",v[x]);m=p(m)}return m||(m=this._hitTestChildren(t,e,s)||o&&p(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),m&&m.point&&(m.point=n.transform(m.point)),m},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new Ae("fill",this)},matches:function(t,e){function r(h,o){for(var l in h)if(h.hasOwnProperty(l)){var f=h[l],g=o[l];if(E.isPlainObject(f)&&E.isPlainObject(g)){if(!r(f,g))return!1}else if(!E.equals(f,g))return!1}return!0}var n=typeof t;if(n==="object"){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}else{if(n==="function")return t(this);if(t==="match")return e(this);var a=/^(empty|editable)$/.test(t)?this["is"+E.capitalize(t)]():t==="type"?E.hyphenate(this._class):this[t];if(t==="class"){if(typeof e=="function")return this instanceof e;a=this._class}if(typeof e=="function")return!!e(a);if(e){if(e.test)return e.test(a);if(E.isPlainObject(e))return r(e,a)}return E.equals(a,e)}},getItems:function(t){return k._getItems(this,t,this._matrix)},getItem:function(t){return k._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,r,n,s,a){if(!s){var h=typeof r=="object"&&r,o=h&&h.overlapping,l=h&&h.inside,f=o||l,p=f&&gt.read([f]);s={items:[],recursive:h&&h.recursive!==!1,inside:!!l,overlapping:!!o,rect:p,path:o&&new Ft.Rectangle({rectangle:p,insert:!1})},h&&(r=E.filter({},r,{recursive:!0,inside:!0,overlapping:!0}))}var g=e._children,m=s.items,p=s.rect;n=p&&(n||new St);for(var d=0,S=g&&g.length;d<S;d++){var y=g[d],w=n&&n.appended(y._matrix),v=!0;if(p){var f=y.getBounds(w);if(!p.intersects(f))continue;p.contains(f)||s.overlapping&&(f.contains(p)||s.path.intersects(y,w))||(v=!1)}if(v&&y.matches(r)&&(m.push(y),a)||(s.recursive!==!1&&t(y,r,w,s,a),a&&m.length>0))break}return m}}},{importJSON:function(t){var e=E.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(N,t)},insertChild:function(t,e){var r=e?this.insertChildren(t,[e]):null;return r&&r[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var r=this._children;if(r&&e&&e.length>0){e=E.slice(e);for(var n={},s=e.length-1;s>=0;s--){var a=e[s],h=a&&a._id;!a||n[h]?e.splice(s,1):(a._remove(!1,!0),n[h]=!0)}E.splice(r,e,t,0);for(var o=this._project,l=o._changes,s=0,f=e.length;s<f;s++){var a=e[s],g=a._name;a._parent=this,a._setProject(o,!0),g&&a.setName(g),l&&a._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var r=t&&t._getOwner(),n=t!==this&&r?this:null;return n&&(n._remove(!1,!0),r._insertItem(t._index+e,n)),n},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(N,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(N,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&e.length===1){var r=e[0].reduce(t);return this._parent?(r.insertAbove(this),this.remove()):r.remove(),r}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,r=t._namedChildren,n=this._name,s=r[n],a=s?s.indexOf(this):-1;a!==-1&&(e[n]==this&&delete e[n],s.splice(a,1),s.length?e[n]=s[0]:delete r[n])}},_remove:function(t,e){var r=this._getOwner(),n=this._project,s=this._index;return this._style&&this._style._dispose(),r?(this._name&&this._removeNamed(),s!=null&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),E.splice(r._children,null,s,1)),this._installEvents(!1),t&&n._changes&&this._changed(5),e&&r._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=E.pick(e,this._children.length);for(var r=E.splice(this._children,null,t,e-t),n=r.length-1;n>=0;n--)r[n]._remove(!0,!1);return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,r=e?e.length:0;if(t){for(var n=0;n<r;n++)if(!e[n].isEmpty(t))return!1;return!0}return!r},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(h){var o=[];do o.unshift(h);while(h=h._parent);return o}for(var r=e(this),n=e(t),s=0,a=Math.min(r.length,n.length);s<a;s++)if(r[s]!=n[s])return r[s]._index<n[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},E.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var r=arguments,n=(e?E:z).read(r),s=z.read(r,0,{readNull:!0});return this.transform(new St()[t](n,s||this.getPosition(!0)))}},{translate:function(){var t=new St;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,r){var n=this._matrix,s=t&&!t.isIdentity(),a=r&&this._canApplyMatrix||this._applyMatrix&&(s||!n.isIdentity()||e&&this._children);if(!s&&!a)return this;if(s){!t.isInvertible()&&n.isInvertible()&&(n._backup=n.getValues()),n.prepend(t,!0);var h=this._style,o=h.getFillColor(!0),l=h.getStrokeColor(!0);o&&o.transform(t),l&&l.transform(t)}if(a&&(a=this._transformContent(n,e,r))){var f=this._pivot;f&&n._transformPoint(f,f,!0),n.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var g=this._bounds,m=this._position;(s||a)&&this._changed(25);var p=s&&g&&t.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var d in g){var S=g[d];if(S.nonscaling)delete g[d];else if(a||!S.internal){var y=S.rect;t._transformBounds(y,y)}}this._bounds=g;var w=g[this._getBoundsCacheKey(this._boundsOptions||{})];w&&(this._position=this._getPositionFromBounds(w.rect))}else s&&m&&this._pivot&&(this._position=t._transformPoint(m,m));return this},_transformContent:function(t,e,r){var n=this._children;if(n){for(var s=0,a=n.length;s<a;s++)n[s].transform(t,e,r);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(z.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(z.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(z.read(arguments))},localToParent:function(){return this._matrix._transformPoint(z.read(arguments))},fitBounds:function(t,e){t=gt.read(arguments);var r=this.getBounds(),n=r.height/r.width,s=t.height/t.width,a=(e?n>s:n<s)?t.width/r.width:t.height/r.height,h=new gt(new z,new nt(r.width*a,r.height*a));h.setCenter(t.getCenter()),this.setBounds(h)}}),{_setStyles:function(t,e,r){var n=this._style,s=this._matrix;if(n.hasFill()&&(t.fillStyle=n.getFillColor().toCanvasStyle(t,s)),n.hasStroke()){t.strokeStyle=n.getStrokeColor().toCanvasStyle(t,s),t.lineWidth=n.getStrokeWidth();var a=n.getStrokeJoin(),h=n.getStrokeCap(),o=n.getMiterLimit();if(a&&(t.lineJoin=a),h&&(t.lineCap=h),o&&(t.miterLimit=o),Bt.support.nativeDash){var l=n.getDashArray(),f=n.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=f):(t.mozDash=l,t.mozDashOffset=f))}}if(n.hasShadow()){var g=e.pixelRatio||1,m=r._shiftless().prepend(new St().scale(g,g)),p=m.transform(new z(n.getShadowBlur(),0)),d=m.transform(this.getShadowOffset());t.shadowColor=n.getShadowColor().toCanvasStyle(t),t.shadowBlur=p.getLength(),t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}},draw:function(t,e,r){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var n=e.matrices,s=e.viewMatrix,a=this._matrix,h=n[n.length-1].appended(a);if(h.isInvertible()){s=s?s.appended(h):h,n.push(h),e.updateMatrix&&(this._globalMatrix=h);var o=this._blendMode,l=$.clamp(this._opacity,0,1),f=o==="normal",g=ke.nativeModes[o],m=f&&l===1||e.dontStart||e.clip||(g||f&&l<1)&&this._canComposite(),p=e.pixelRatio||1,d,S,y;if(!m){var w=this.getStrokeBounds(s);if(!w.width||!w.height){n.pop();return}y=e.offset,S=e.offset=w.getTopLeft().floor(),d=t,t=te.getContext(w.getSize().ceil().add(1).multiply(p)),p!==1&&t.scale(p,p)}t.save();var v=r?r.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,x=!m&&e.clipItem,c=!v||x;if(m?(t.globalAlpha=l,g&&(t.globalCompositeOperation=o)):c&&t.translate(-S.x,-S.y),c&&(m?a:s).applyToContext(t),x&&e.clipItem.draw(t,e.extend({clip:!0})),v){t.setTransform(p,0,0,p,0,0);var b=e.offset;b&&t.translate(-b.x,-b.y)}this._draw(t,e,s,v),t.restore(),n.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),m||(ke.process(o,t,d,l,S.subtract(y).multiply(p)),te.release(t),e.offset=y)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof he)return e._isUpdated(t);var r=this._updateVersion===t;return!r&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,r=!0),r},_drawSelection:function(t,e,r,n,s){var a=this._selection,h=a&1,o=a&2||h&&this._selectBounds,l=a&4;if(this._drawSelected||(h=!1),(h||o||l)&&this._isUpdated(s)){var f,g=this.getSelectedColor(!0)||(f=this.getLayer())&&f.getSelectedColor(!0),m=e.appended(this.getGlobalMatrix(!0)),p=r/2;if(t.strokeStyle=t.fillStyle=g?g.toCanvasStyle(t):"#009dec",h&&this._drawSelected(t,m,n),l){var d=this.getPosition(!0),S=this._parent,y=S?S.localToGlobal(d):d,w=y.x,v=y.y;t.beginPath(),t.arc(w,v,p,0,Math.PI*2,!0),t.stroke();for(var x=[[0,-1],[1,0],[0,1],[-1,0]],c=p,b=r+1,P=0;P<4;P++){var A=x[P],C=A[0],T=A[1];t.moveTo(w+C*c,v+T*c),t.lineTo(w+C*b,v+T*b),t.stroke()}}if(o){var L=m._transformCorners(this.getInternalBounds());t.beginPath();for(var P=0;P<8;P++)t[P?"lineTo":"moveTo"](L[P],L[++P]);t.closePath(),t.stroke();for(var P=0;P<8;P++)t.fillRect(L[P]-p,L[++P]-p,r,r)}}},_canComposite:function(){return!1}},E.each(["down","drag","up","move"],function(t){this["removeOn"+E.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var r="mouse"+e,n=this._project,s=n._removeSets=n._removeSets||{};s[r]=s[r]||{},s[r][this._id]=this}return this}}),{tween:function(t,e,r){r||(r=e,e=t,t=null,r||(r=e,e=null));var n=r&&r.easing,s=r&&r.start,a=r!=null&&(typeof r=="number"?r:r.duration),h=new Ci(this,t,e,a,n,s);function o(l){h._handleFrame(l.time*1e3),h.running||this.off("frame",o)}return a&&this.on("frame",o),h},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),jt=k.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function t(e){t.base.call(this,e),e&2050&&(this._clipItem=N)},_getClipItem:function(){var t=this._clipItem;if(t===N){t=null;for(var e=this._children,r=0,n=e.length;r<n;r++)if(e[r]._clipMask){t=e[r];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,r){var n=this._getClipItem();return n?n._getCachedBounds(n._matrix.prepended(e),E.set({},r,{stroke:!1})):t.base.call(this,e,r)},_hitTestChildren:function t(e,r,n){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,r,n,s)},_draw:function(t,e){var r=e.clip,n=!r&&this._getClipItem();e=e.extend({clipItem:n,clip:!1}),r?(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0}));for(var s=this._children,a=0,h=s.length;a<h;a++){var o=s[a];o!==n&&o.draw(t,e)}}}),Ce=jt.extend({_class:"Layer",initialize:function(){jt.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),ne=k.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,r){this._initialize(e,r)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&E.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new Ct(t.width,t.height,this,"setSize")},setSize:function(){var t=nt.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var e=this._type,r=t.width,n=t.height;e==="rectangle"?this._radius.set(nt.min(this._radius,t.divide(2).abs())):e==="circle"?(r=n=(r+n)/2,this._radius=r/2):e==="ellipse"&&this._radius._set(r/2,n/2),this._size._set(r,n),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new Ct(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if(e==="circle"){if(t===this._radius)return;var r=t*2;this._radius=t,this._size._set(r,r)}else if(t=nt.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),e==="rectangle"){var r=nt.max(this._size,t.multiply(2));this._size.set(r)}else e==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new Ft[E.capitalize(this._type)]({center:new z,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),Bt.settings.applyMatrix&&e.setApplyMatrix(!0),(t===N||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,r,n){var s=this._style,a=s.hasFill(),h=s.hasStroke(),o=e.dontFinish||e.clip,l=!n;if(a||h||o){var f=this._type,g=this._radius,m=f==="circle";if(e.dontStart||t.beginPath(),l&&m)t.arc(0,0,g,0,Math.PI*2,!0);else{var p=m?g:g.width,d=m?g:g.height,S=this._size,y=S.width,w=S.height;if(l&&f==="rectangle"&&p===0&&d===0)t.rect(-y/2,-w/2,y,w);else{var v=y/2,x=w/2,c=1-.5522847498307936,b=p*c,P=d*c,A=[-v,-x+d,-v,-x+P,-v+b,-x,-v+p,-x,v-p,-x,v-b,-x,v,-x+P,v,-x+d,v,x-d,v,x-P,v-b,x,v-p,x,-v+p,x,-v+b,x,-v,x-P,-v,x-d];n&&n.transform(A,A,32),t.moveTo(A[0],A[1]),t.bezierCurveTo(A[2],A[3],A[4],A[5],A[6],A[7]),v!==p&&t.lineTo(A[8],A[9]),t.bezierCurveTo(A[10],A[11],A[12],A[13],A[14],A[15]),x!==d&&t.lineTo(A[16],A[17]),t.bezierCurveTo(A[18],A[19],A[20],A[21],A[22],A[23]),v!==p&&t.lineTo(A[24],A[25]),t.bezierCurveTo(A[26],A[27],A[28],A[29],A[30],A[31])}}t.closePath()}!o&&(a||h)&&(this._setStyles(t,e,r),a&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),h&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var r=new gt(this._size).setCenter(0,0),n=this._style,s=e.stroke&&n.hasStroke()&&n.getStrokeWidth();return t&&(r=t._transformBounds(r)),s?r.expand(Ft._getStrokePadding(s,this._getStrokeMatrix(t,e))):r}},new function(){function t(r,n,s){var a=r._radius;if(!a.isZero())for(var h=r._size.divide(2),o=1;o<=4;o++){var l=new z(o>1&&o<4?-1:1,o>2?-1:1),f=l.multiply(h),g=f.subtract(l.multiply(a)),m=new gt(s?f.add(l.multiply(s)):f,g);if(m.contains(n))return{point:g,quadrant:o}}}function e(r,n,s,a){var h=r.divide(n);return(!a||h.isInQuadrant(a))&&h.subtract(h.normalize()).multiply(n).divide(s).length<=1}return{_contains:function r(n){if(this._type==="rectangle"){var s=t(this,n);return s?n.subtract(s.point).divide(this._radius).getLength()<=1:r.base.call(this,n)}else return n.divide(this.size).getLength()<=.5},_hitTestSelf:function r(n,s,a,h){var o=!1,l=this._style,f=s.stroke&&l.hasStroke(),g=s.fill&&l.hasFill();if(f||g){var m=this._type,p=this._radius,d=f?l.getStrokeWidth()/2:0,S=s._tolerancePadding.add(Ft._getStrokePadding(d,!l.getStrokeScaling()&&h));if(m==="rectangle"){var y=S.multiply(2),w=t(this,n,y);if(w)o=e(n.subtract(w.point),p,S,w.quadrant);else{var v=new gt(this._size).setCenter(0,0),x=v.expand(y),c=v.expand(y.negate());o=x._containsPoint(n)&&!c._containsPoint(n)}}else o=e(n,p,S)}return o?new Ae(f?"stroke":"fill",this):r.base.apply(this,arguments)}}},{statics:new function(){function t(e,r,n,s,a){var h=E.create(ne.prototype);return h._type=e,h._size=n,h._radius=s,h._initialize(E.getNamed(a),r),h}return{Circle:function(){var e=arguments,r=z.readNamed(e,"center"),n=E.readNamed(e,"radius");return t("circle",r,new nt(n*2),n,e)},Rectangle:function(){var e=arguments,r=gt.readNamed(e,"rectangle"),n=nt.min(nt.readNamed(e,"radius"),r.getSize(!0).divide(2));return t("rectangle",r.getCenter(!0),r.getSize(!0),n,e)},Ellipse:function(){var e=arguments,r=ne._readEllipse(e),n=r.radius;return t("ellipse",r.center,n.multiply(2),n,e)},_readEllipse:function(e){var r,n;if(E.hasNamed(e,"radius"))r=z.readNamed(e,"center"),n=nt.readNamed(e,"radius");else{var s=gt.readNamed(e,"rectangle");r=s.getCenter(!0),n=s.getSize(!0).divide(2)}return{center:r,radius:n}}}}}),Ge=k.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,r){if(!this._initialize(e,r!==N&&z.read(arguments))){var n,s=typeof e,a=s==="string"?Q.getElementById(e):s==="object"?e:null;if(a&&a!==k.NO_INSERT){if(a.getContext||a.naturalHeight!=null)n=a;else if(a){var h=nt.read(arguments);h.isZero()||(n=te.getCanvas(h))}}n?this.setImage(n):this.setSource(e)}this._size||(this._size=new nt,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,r=t._canvas;if(e)this._setImage(e);else if(r){var n=te.getCanvas(t._size);n.getContext("2d").drawImage(r,0,0),this._setImage(n)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new Ct(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var r=nt.read(arguments);if(r.equals(this._size))e&&this.clear();else if(r.width>0&&r.height>0){var n=!e&&this.getElement();this._setImage(te.getCanvas(r)),n&&this.getContext(!0).drawImage(n,0,0,r.width,r.height)}else this._canvas&&te.release(this._canvas),this._size=r.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,e=new z(0,0).transform(t),r=new z(1,0).transform(t).subtract(e),n=new z(0,1).transform(t).subtract(e);return new nt(72/r.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function r(n){var s=e.getView(),a=n&&n.type||"load";s&&e.responds(a)&&(Bt=s._scope,e.emit(a,new Je(n)))}this._setImage(t),this._loaded?setTimeout(r,0):t&&Zt.add(t,{load:function(n){e._setImage(t),r(n)},error:r})},_setImage:function(t){this._canvas&&te.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new nt(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=te.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{te.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new vt.Image,r=this._crossOrigin;r&&(e.crossOrigin=r),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=gt.read(arguments),e=te.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=gt.read(arguments),e=new Ge(k.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var r=this.getCanvas();return r?r.toDataURL.apply(r,arguments):null},drawImage:function(t){var e=z.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,r;if(t?t instanceof Fe?(r=t,e=t.getBounds()):typeof t=="object"&&("width"in t?e=new gt(t):"x"in t&&(e=new gt(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var n=32,s=Math.min(e.width,n),a=Math.min(e.height,n),h=Ge._sampleContext;h?h.clearRect(0,0,n+1,n+1):h=Ge._sampleContext=te.getContext(new nt(n)),h.save();var o=new St().scale(s/e.width,a/e.height).translate(-e.x,-e.y);o.applyToContext(h),r&&r.draw(h,new E({clip:!0,matrices:[o]})),this._matrix.applyToContext(h);var l=this.getElement(),f=this._size;l&&h.drawImage(l,-f.width/2,-f.height/2),h.restore();for(var g=h.getImageData(.5,.5,Math.ceil(s),Math.ceil(a)).data,m=[0,0,0],p=0,d=0,S=g.length;d<S;d+=4){var y=g[d+3];p+=y,y/=255,m[0]+=g[d]*y,m[1]+=g[d+1]*y,m[2]+=g[d+2]*y}for(var d=0;d<3;d++)m[d]/=p;return p?Qt.read(m):null},getPixel:function(){var t=z.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new Qt("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=z.read(t),r=Qt.read(t),n=r._convert("rgb"),s=r._alpha,a=this.getContext(!0),h=a.createImageData(1,1),o=h.data;o[0]=n[0]*255,o[1]=n[1]*255,o[2]=n[2]*255,o[3]=s!=null?s*255:255,a.putImageData(h,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=nt.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=gt.read(arguments);return t.isEmpty()&&(t=new gt(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=z.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var r=new gt(this._size).setCenter(0,0);return t?t._transformBounds(r):r},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new Ae("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,r){var n=this.getElement();if(n&&n.width>0&&n.height>0){t.globalAlpha=$.clamp(this._opacity,0,1),this._setStyles(t,e,r);var s=this._smoothing,a=s==="off";Xt.setPrefixed(t,a?"imageSmoothingEnabled":"imageSmoothingQuality",a?!1:s),t.drawImage(n,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Ye=k.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,r){this._initialize(e,r!==N&&z.read(arguments,1))||this.setDefinition(e instanceof se?e:new se(e))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var r=this._definition._item;return r._getCachedBounds(r._matrix.prepended(t),e)},_hitTestSelf:function(t,e,r){var n=e.extend({all:!1}),s=this._definition._item._hitTest(t,n,r);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),se=E.extend({_class:"SymbolDefinition",initialize:function(e,r){this._id=st.get(),this.project=Bt.project,e&&this.setItem(e,r)},_serialize:function(t,e){return e.add(this,function(){return E.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){t&8&&k._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new z),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Ye(this,t)},clone:function(){return new se(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),Ae=E.extend({_class:"HitResult",initialize:function(e,r,n){this.type=e,this.item=r,n&&this.inject(n)},statics:{getOptions:function(t){var e=t&&E.read(t);return new E({type:null,tolerance:Bt.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),At=E.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,r,n,s,a,h){var o=arguments.length,l,f,g,m;o>0&&(e==null||typeof e=="object"?o===1&&e&&"point"in e?(l=e.point,f=e.handleIn,g=e.handleOut,m=e.selection):(l=e,f=r,g=n,m=s):(l=[e,r],f=n!==N?[n,s]:null,g=a!==N?[a,h]:null)),new mi(l,this,"_point"),new mi(f,this,"_handleIn"),new mi(g,this,"_handleOut"),m&&this.setSelection(m)},_serialize:function(t,e){var r=this._point,n=this._selection,s=n||this.hasHandles()?[r,this._handleIn,this._handleOut]:r;return n&&s.push(n),E.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var r=e._curves,n=this._index,s;r&&((!t||t===this._point||t===this._handleIn)&&(s=n>0?r[n-1]:e._closed?r[r.length-1]:null)&&s._changed(),(!t||t===this._point||t===this._handleOut)&&(s=r[n])&&s._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(z.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(z.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(z.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,r=this._path;this._selection=t=t||0,r&&t!==e&&(r._updateSelection(this,e,t),r._changed(257))},_changeSelection:function(t,e){var r=this._selection;this.setSelection(e?r|t:r&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==N?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new Se(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,r){var n=t||{},s=n.type,a=n.factor,h=this.getPrevious(),o=this.getNext(),l=(h||this)._point,f=this._point,g=(o||this)._point,m=l.getDistance(f),p=f.getDistance(g);if(!s||s==="catmull-rom"){var d=a===N?.5:a,S=Math.pow(m,d),y=S*S,w=Math.pow(p,d),v=w*w;if(!e&&h){var x=2*v+3*w*S+y,c=3*w*(w+S);this.setHandleIn(c!==0?new z((v*l._x+x*f._x-y*g._x)/c-f._x,(v*l._y+x*f._y-y*g._y)/c-f._y):new z)}if(!r&&o){var x=2*y+3*S*w+v,c=3*S*(S+w);this.setHandleOut(c!==0?new z((y*g._x+x*f._x-v*l._x)/c-f._x,(y*g._y+x*f._y-v*l._y)/c-f._y):new z)}}else if(s==="geometric"){if(h&&o){var b=l.subtract(g),P=a===N?.4:a,A=P*m/(m+p);e||this.setHandleIn(b.multiply(A)),r||this.setHandleOut(b.multiply(A-P))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,r=t.clone();t.set(e),e.set(r)},reversed:function(){return new At(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new At(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,r){var n=1-r,s=r,a=t._point,h=e._point,o=t._handleIn,l=e._handleIn,f=e._handleOut,g=t._handleOut;this._point._set(n*a._x+s*h._x,n*a._y+s*h._y,!0),this._handleIn._set(n*o._x+s*l._x,n*o._y+s*l._y,!0),this._handleOut._set(n*g._x+s*f._x,n*g._y+s*f._y,!0),this._changed()},_transformCoordinates:function(t,e,r){var n=this._point,s=!r||!this._handleIn.isZero()?this._handleIn:null,a=!r||!this._handleOut.isZero()?this._handleOut:null,h=n._x,o=n._y,l=2;return e[0]=h,e[1]=o,s&&(e[l++]=s._x+h,e[l++]=s._y+o),a&&(e[l++]=a._x+h,e[l++]=a._y+o),t&&(t._transformCoordinates(e,e,l/2),h=e[0],o=e[1],r?(n._x=h,n._y=o,l=2,s&&(s._x=e[l++]-h,s._y=e[l++]-o),a&&(a._x=e[l++]-h,a._y=e[l++]-o)):(s||(e[l++]=h,e[l++]=o),a||(e[l++]=h,e[l++]=o))),e}}),mi=z.extend({initialize:function(e,r,n){var s,a,h;if(!e)s=a=0;else if((s=e[0])!==N)a=e[1];else{var o=e;(s=o.x)===N&&(o=z.read(arguments),s=o.x),a=o.y,h=o.selected}this._x=s,this._y=a,this._owner=r,r[n]=this,h&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=$.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),lt=E.extend({_class:"Curve",beans:!0,initialize:function(e,r,n,s,a,h,o,l){var f=arguments.length,g,m,p,d,S,y;f===3?(this._path=e,g=r,m=n):f?f===1?"segment1"in e?(g=new At(e.segment1),m=new At(e.segment2)):"point1"in e?(p=e.point1,S=e.handle1,y=e.handle2,d=e.point2):Array.isArray(e)&&(p=[e[0],e[1]],d=[e[6],e[7]],S=[e[2]-e[0],e[3]-e[1]],y=[e[4]-e[6],e[5]-e[7]]):f===2?(g=new At(e),m=new At(r)):f===4?(p=e,S=r,y=n,d=s):f===8&&(p=[e,r],d=[o,l],S=[n-e,s-r],y=[a-o,h-l]):(g=new At,m=new At),this._segment1=g||new At(p,null,S),this._segment2=m||new At(d,y,null)},_serialize:function(t,e){return E.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=N},clone:function(){return new lt(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return lt.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,r=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(r)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(z.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(z.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(z.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(z.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return lt.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],r=0;r<8;r+=2)e.push(new z(t[r],t[r+1]));return e}},{getLength:function(){return this._length==null&&(this._length=lt.getLength(this.getValues(),0,1)),this._length},getArea:function(){return lt.getArea(this.getValues())},getLine:function(){return new Wt(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new lt(lt.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return lt.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var r=1e-8,n=1-r,s=null;if(t>=r&&t<=n){var a=lt.subdivide(this.getValues(),t),h=a[0],o=a[1],l=e||this.hasHandles(),f=this._segment1,g=this._segment2,m=this._path;l&&(f._handleOut._set(h[2]-h[0],h[3]-h[1]),g._handleIn._set(o[4]-o[6],o[5]-o[7]));var p=h[6],d=h[7],S=new At(new z(p,d),l&&new z(h[4]-p,h[5]-d),l&&new z(o[2]-p,o[3]-d));m?(m.insert(f._index+1,S),s=this.getNext()):(this._segment2=S,this._changed(),s=new lt(S,g))}return s},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===N?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===N?.5:e?t:this.getTimeAt(t))},reversed:function(){return new lt(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,r,n){var s=t._point,a=t._handleOut,h=e._handleIn,o=e._point,l=s.x,f=s.y,g=o.x,m=o.y,p=n?[l,f,l,f,g,m,g,m]:[l,f,l+a._x,f+a._y,g+h._x,m+h._y,g,m];return r&&r._transformCoordinates(p,p,4),p},subdivide:function(t,e){var r=t[0],n=t[1],s=t[2],a=t[3],h=t[4],o=t[5],l=t[6],f=t[7];e===N&&(e=.5);var g=1-e,m=g*r+e*s,p=g*n+e*a,d=g*s+e*h,S=g*a+e*o,y=g*h+e*l,w=g*o+e*f,v=g*m+e*d,x=g*p+e*S,c=g*d+e*y,b=g*S+e*w,P=g*v+e*c,A=g*x+e*b;return[[r,n,m,p,v,x,P,A],[P,A,c,b,y,w,l,f]]},getMonoCurves:function(t,e){var r=[],n=e?0:1,s=t[n+0],a=t[n+2],h=t[n+4],o=t[n+6];if(s>=a==a>=h&&a>=h==h>=o||lt.isStraight(t))r.push(t);else{var l=3*(a-h)-s+o,f=2*(s+h)-4*a,g=a-s,m=1e-8,p=1-m,d=[],S=$.solveQuadratic(l,f,g,d,m,p);if(!S)r.push(t);else{d.sort();var y=d[0],w=lt.subdivide(t,y);r.push(w[0]),S>1&&(y=(d[1]-y)/(1-y),w=lt.subdivide(w[1],y),r.push(w[0])),r.push(w[1])}}return r},solveCubic:function(t,e,r,n,s,a){var h=t[e],o=t[e+2],l=t[e+4],f=t[e+6],g=0;if(!(h<r&&f<r&&o<r&&l<r||h>r&&f>r&&o>r&&l>r)){var m=3*(o-h),p=3*(l-o)-m,d=f-h-m-p;g=$.solveCubic(d,p,m,h-r,n,s,a)}return g},getTimeOf:function(t,e){var r=new z(t[0],t[1]),n=new z(t[6],t[7]),s=1e-12,a=1e-7,h=e.isClose(r,s)?0:e.isClose(n,s)?1:null;if(h===null)for(var o=[e.x,e.y],l=[],f=0;f<2;f++)for(var g=lt.solveCubic(t,f,o[f],l,0,1),m=0;m<g;m++){var p=l[m];if(e.isClose(lt.getPoint(t,p),a))return p}return e.isClose(r,a)?0:e.isClose(n,a)?1:null},getNearestTime:function(t,e){if(lt.isStraight(t)){var r=t[0],n=t[1],s=t[6],a=t[7],h=s-r,o=a-n,l=h*h+o*o;if(l===0)return 0;var f=((e.x-r)*h+(e.y-n)*o)/l;return f<1e-12?0:f>.999999999999?1:lt.getTimeOf(t,new z(r+f*h,n+f*o))}var g=100,m=1/0,p=0;function d(w){if(w>=0&&w<=1){var v=e.getDistance(lt.getPoint(t,w),!0);if(v<m)return m=v,p=w,!0}}for(var S=0;S<=g;S++)d(S/g);for(var y=1/(g*2);y>1e-8;)!d(p-y)&&!d(p+y)&&(y/=2);return p},getPart:function(t,e,r){var n=e>r;if(n){var s=e;e=r,r=s}return e>0&&(t=lt.subdivide(t,e)[1]),r<1&&(t=lt.subdivide(t,(r-e)/(1-e))[0]),n?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var r=t[0],n=t[1],s=t[2],a=t[3],h=t[4],o=t[5],l=t[6],f=t[7],g=3*s-2*r-l,m=3*a-2*n-f,p=3*h-2*l-r,d=3*o-2*f-n;return Math.max(g*g,p*p)+Math.max(m*m,d*d)<=16*e*e},getArea:function(t){var e=t[0],r=t[1],n=t[2],s=t[3],a=t[4],h=t[5],o=t[6],l=t[7];return 3*((l-r)*(n+a)-(o-e)*(s+h)+s*(e-a)-n*(r-h)+l*(a+e/3)-o*(h+r/3))/20},getBounds:function(t){for(var e=t.slice(0,2),r=e.slice(),n=[0,0],s=0;s<2;s++)lt._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,r,n);return new gt(e[0],e[1],r[0]-e[0],r[1]-e[1])},_addBounds:function(t,e,r,n,s,a,h,o,l){function f(P,A){var C=P-A,T=P+A;C<h[s]&&(h[s]=C),T>o[s]&&(o[s]=T)}a/=2;var g=h[s]+a,m=o[s]-a;if(t<g||e<g||r<g||n<g||t>m||e>m||r>m||n>m)if(e<t!=e<n&&r<t!=r<n)f(t,0),f(n,0);else{var p=3*(e-r)-t+n,d=2*(t+r)-4*e,S=e-t,y=$.solveQuadratic(p,d,S,l),w=1e-8,v=1-w;f(n,0);for(var x=0;x<y;x++){var c=l[x],b=1-c;w<=c&&c<=v&&f(b*b*b*t+3*b*b*c*e+3*b*c*c*r+c*c*c*n,a)}}}}},E.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=Ft[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),E.each({isStraight:function(t,e,r,n){if(e.isZero()&&r.isZero())return!0;var s=n.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(r)){var a=new Wt(t,n),h=1e-7;if(a.getDistance(t.add(e))<h&&a.getDistance(n.add(r))<h){var o=s.dot(s),l=s.dot(e)/o,f=s.dot(r)/o;return l>=0&&l<=1&&f<=0&&f>=-1}}return!1},isLinear:function(t,e,r,n){var s=n.subtract(t).divide(3);return e.equals(s)&&r.negate().equals(s)}},function(t,e){this[e]=function(r){var n=this._segment1,s=this._segment2;return t(n._point,n._handleOut,s._handleIn,s._point,r)},this.statics[e]=function(r,n){var s=r[0],a=r[1],h=r[6],o=r[7];return t(new z(s,a),new z(r[2]-s,r[3]-a),new z(r[4]-h,r[5]-o),new z(h,o),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new Se(this,t):null},getTimeAt:function(t,e){return lt.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=z.read(arguments);return t.isZero()?[]:lt.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(z.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return lt.getTimeOf(this.getValues(),z.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=z.read(arguments),e=this.getValues(),r=lt.getNearestTime(e,t),n=lt.getPoint(e,r);return new Se(this,r,n,null,t.getDistance(n))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return E.each(t,function(e){this[e+"At"]=function(r,n){var s=this.getValues();return lt[e](s,n?r:lt.getTimeAt(s,r))},this[e+"AtTime"]=function(r){return lt[e](this.getValues(),r)}},{statics:{_evaluateMethods:t}})},new function(){function t(n){var s=n[0],a=n[1],h=n[2],o=n[3],l=n[4],f=n[5],g=n[6],m=n[7],p=9*(h-l)+3*(g-s),d=6*(s+l)-12*h,S=3*(h-s),y=9*(o-f)+3*(m-a),w=6*(a+f)-12*o,v=3*(o-a);return function(x){var c=(p*x+d)*x+S,b=(y*x+w)*x+v;return Math.sqrt(c*c+b*b)}}function e(n,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-n)*32)))}function r(n,s,a,h){if(s==null||s<0||s>1)return null;var o=n[0],l=n[1],f=n[2],g=n[3],m=n[4],p=n[5],d=n[6],S=n[7],y=$.isZero;y(f-o)&&y(g-l)&&(f=o,g=l),y(m-d)&&y(p-S)&&(m=d,p=S);var w=3*(f-o),v=3*(m-f)-w,x=d-o-w-v,c=3*(g-l),b=3*(p-g)-c,P=S-l-c-b,A,C;if(a===0)A=s===0?o:s===1?d:((x*s+v)*s+w)*s+o,C=s===0?l:s===1?S:((P*s+b)*s+c)*s+l;else{var T=1e-8,L=1-T;if(s<T?(A=w,C=c):s>L?(A=3*(d-m),C=3*(S-p)):(A=(3*x*s+2*v)*s+w,C=(3*P*s+2*b)*s+c),h){A===0&&C===0&&(s<T||s>L)&&(A=m-f,C=p-g);var M=Math.sqrt(A*A+C*C);M&&(A/=M,C/=M)}if(a===3){var m=6*x*s+2*v,p=6*P*s+2*b,F=Math.pow(A*A+C*C,3/2);A=F!==0?(A*p-C*m)/F:0,C=0}}return a===2?new z(C,-A):new z(A,C)}return{statics:{classify:function(n){var s=n[0],a=n[1],h=n[2],o=n[3],l=n[4],f=n[5],g=n[6],m=n[7],p=s*(m-f)+a*(l-g)+g*f-m*l,d=h*(a-m)+o*(g-s)+s*m-a*g,S=l*(o-a)+f*(s-h)+h*a-o*s,y=3*S,w=y-d,v=w-d+p,x=Math.sqrt(v*v+w*w+y*y),c=x!==0?1/x:0,b=$.isZero,P="serpentine";v*=c,w*=c,y*=c;function A(M,F,O){var B=F!==N,q=B&&F>0&&F<1,H=B&&O>0&&O<1;return B&&(!(q||H)||M==="loop"&&!(q&&H))&&(M="arch",q=H=!1),{type:M,roots:q||H?q&&H?F<O?[F,O]:[O,F]:[q?F:O]:null}}if(b(v))return b(w)?A(b(y)?"line":"quadratic"):A(P,y/(3*w));var C=3*w*w-4*v*y;if(b(C))return A("cusp",w/(2*v));var T=C>0?Math.sqrt(C/3):Math.sqrt(-C),L=2*v;return A(C>0?P:"loop",(w+T)/L,(w-T)/L)},getLength:function(n,s,a,h){if(s===N&&(s=0),a===N&&(a=1),lt.isStraight(n)){var o=n;a<1&&(o=lt.subdivide(o,a)[0],s/=a),s>0&&(o=lt.subdivide(o,s)[1]);var l=o[6]-o[0],f=o[7]-o[1];return Math.sqrt(l*l+f*f)}return $.integrate(h||t(n),s,a,e(s,a))},getTimeAt:function(n,s,a){if(a===N&&(a=s<0?1:0),s===0)return a;var h=Math.abs,o=1e-12,l=s>0,f=l?a:0,g=l?1:a,m=t(n),p=lt.getLength(n,f,g,m),d=h(s)-p;if(h(d)<o)return l?g:f;if(d>o)return null;var S=s/p,y=0;function w(v){return y+=$.integrate(m,a,v,e(a,v)),a=v,y-s}return $.findRoot(w,m,a+S,f,g,32,1e-12)},getPoint:function(n,s){return r(n,s,0,!1)},getTangent:function(n,s){return r(n,s,1,!0)},getWeightedTangent:function(n,s){return r(n,s,1,!1)},getNormal:function(n,s){return r(n,s,2,!0)},getWeightedNormal:function(n,s){return r(n,s,2,!1)},getCurvature:function(n,s){return r(n,s,3,!1).x},getPeaks:function(n){var s=n[0],a=n[1],h=n[2],o=n[3],l=n[4],f=n[5],g=n[6],m=n[7],p=-s+3*h-3*l+g,d=3*s-6*h+3*l,S=-3*s+3*h,y=-a+3*o-3*f+m,w=3*a-6*o+3*f,v=-3*a+3*o,x=1e-8,c=1-x,b=[];return $.solveCubic(9*(p*p+y*y),9*(p*d+w*y),2*(d*d+w*w)+3*(S*p+v*y),S*d+w*v,b,x,c),b.sort()}}}},new function(){function t(d,S,y,w,v,x,c){var b=!c&&y.getPrevious()===v,P=!c&&y!==v&&y.getNext()===v,A=1e-8,C=1-A;if(w!==null&&w>=(b?A:0)&&w<=(P?C:1)&&x!==null&&x>=(P?A:0)&&x<=(b?C:1)){var T=new Se(y,w,null,c),L=new Se(v,x,null,c);T._intersection=L,L._intersection=T,(!S||S(T))&&Se.insert(d,T,!0)}}function e(d,S,y,w,v,x,c,b,P,A,C,T,L){if(++P>=4096||++b>=40)return P;var M=1e-9,F=S[0],O=S[1],B=S[6],q=S[7],H=Wt.getSignedDistance,j=H(F,O,B,q,S[2],S[3]),Z=H(F,O,B,q,S[4],S[5]),ut=j*Z>0?3/4:4/9,ot=ut*Math.min(0,j,Z),ft=ut*Math.max(0,j,Z),mt=H(F,O,B,q,d[0],d[1]),et=H(F,O,B,q,d[2],d[3]),it=H(F,O,B,q,d[4],d[5]),ct=H(F,O,B,q,d[6],d[7]),yt=r(mt,et,it,ct),xt=yt[0],Pt=yt[1],kt,Ot;if(j===0&&Z===0&&mt===0&&et===0&&it===0&&ct===0||(kt=n(xt,Pt,ot,ft))==null||(Ot=n(xt.reverse(),Pt.reverse(),ot,ft))==null)return P;var Rt=A+(C-A)*kt,Tt=A+(C-A)*Ot;if(Math.max(L-T,Tt-Rt)<M){var ee=(Rt+Tt)/2,re=(T+L)/2;t(v,x,c?w:y,c?re:ee,c?y:w,c?ee:re)}else{d=lt.getPart(d,kt,Ot);var fe=L-T;if(Ot-kt>.8)if(Tt-Rt>fe){var dt=lt.subdivide(d,.5),ee=(Rt+Tt)/2;P=e(S,dt[0],w,y,v,x,!c,b,P,T,L,Rt,ee),P=e(S,dt[1],w,y,v,x,!c,b,P,T,L,ee,Tt)}else{var dt=lt.subdivide(S,.5),re=(T+L)/2;P=e(dt[0],d,w,y,v,x,!c,b,P,T,re,Rt,Tt),P=e(dt[1],d,w,y,v,x,!c,b,P,re,L,Rt,Tt)}else fe===0||fe>=M?P=e(S,d,w,y,v,x,!c,b,P,T,L,Rt,Tt):P=e(d,S,y,w,v,x,c,b,P,Rt,Tt,T,L)}return P}function r(d,S,y,w){var v=[0,d],x=[1/3,S],c=[2/3,y],b=[1,w],P=S-(2*d+w)/3,A=y-(d+2*w)/3,C;if(P*A<0)C=[[v,x,b],[v,c,b]];else{var T=P/A;C=[T>=2?[v,x,b]:T<=.5?[v,c,b]:[v,x,c,b],[v,b]]}return(P||A)<0?C.reverse():C}function n(d,S,y,w){return d[0][1]<y?s(d,!0,y):S[0][1]>w?s(S,!1,w):d[0][0]}function s(d,S,y){for(var w=d[0][0],v=d[0][1],x=1,c=d.length;x<c;x++){var b=d[x][0],P=d[x][1];if(S?P>=y:P<=y)return P===y?b:w+(y-v)*(b-w)/(P-v);w=b,v=P}return null}function a(d,S,y,w,v){var x=$.isZero;if(x(w)&&x(v)){var c=lt.getTimeOf(d,new z(S,y));return c===null?[]:[c]}for(var b=Math.atan2(-v,w),P=Math.sin(b),A=Math.cos(b),C=[],T=[],L=0;L<8;L+=2){var M=d[L]-S,F=d[L+1]-y;C.push(M*A-F*P,M*P+F*A)}return lt.solveCubic(C,1,0,T,0,1),T}function h(d,S,y,w,v,x,c){for(var b=S[0],P=S[1],A=S[6],C=S[7],T=a(d,b,P,A-b,C-P),L=0,M=T.length;L<M;L++){var F=T[L],O=lt.getPoint(d,F),B=lt.getTimeOf(S,O);B!==null&&t(v,x,c?w:y,c?B:F,c?y:w,c?F:B)}}function o(d,S,y,w,v,x){var c=Wt.intersect(d[0],d[1],d[6],d[7],S[0],S[1],S[6],S[7]);c&&t(v,x,y,lt.getTimeOf(d,c),w,lt.getTimeOf(S,c))}function l(d,S,y,w,v,x){var c=1e-12,b=Math.min,P=Math.max;if(P(d[0],d[2],d[4],d[6])+c>b(S[0],S[2],S[4],S[6])&&b(d[0],d[2],d[4],d[6])-c<P(S[0],S[2],S[4],S[6])&&P(d[1],d[3],d[5],d[7])+c>b(S[1],S[3],S[5],S[7])&&b(d[1],d[3],d[5],d[7])-c<P(S[1],S[3],S[5],S[7])){var A=m(d,S);if(A)for(var C=0;C<2;C++){var T=A[C];t(v,x,y,T[0],w,T[1],!0)}else{var L=lt.isStraight(d),M=lt.isStraight(S),F=L&&M,O=L&&!M,B=v.length;if((F?o:L||M?h:e)(O?S:d,O?d:S,O?w:y,O?y:w,v,x,O,0,0,0,1,0,1),!F||v.length===B)for(var C=0;C<4;C++){var q=C>>1,H=C&1,j=q*6,Z=H*6,ut=new z(d[j],d[j+1]),ot=new z(S[Z],S[Z+1]);ut.isClose(ot,c)&&t(v,x,y,q,w,H)}}}return v}function f(d,S,y,w){var v=lt.classify(d);if(v.type==="loop"){var x=v.roots;t(y,w,S,x[0],S,x[1])}return y}function g(d,S,y,w,v,x){var c=1e-7,b=!S;b&&(S=d);for(var P=d.length,A=S.length,C=new Array(P),T=b?C:new Array(A),L=[],M=0;M<P;M++)C[M]=d[M].getValues(w);if(!b)for(var M=0;M<A;M++)T[M]=S[M].getValues(v);for(var F=X.findCurveBoundsCollisions(C,T,c),O=0;O<P;O++){var B=d[O],q=C[O];b&&f(q,B,L,y);var H=F[O];if(H)for(var j=0;j<H.length;j++){if(x&&L.length)return L;var Z=H[j];if(!b||Z>O){var ut=S[Z],ot=T[Z];l(q,ot,B,ut,L,y)}}}return L}function m(d,S){function y(ct){var yt=ct[6]-ct[0],xt=ct[7]-ct[1];return yt*yt+xt*xt}var w=Math.abs,v=Wt.getDistance,x=1e-8,c=1e-7,b=lt.isStraight(d),P=lt.isStraight(S),A=b&&P,C=y(d)<y(S),T=C?S:d,L=C?d:S,M=T[0],F=T[1],O=T[6]-M,B=T[7]-F;if(v(M,F,O,B,L[0],L[1],!0)<c&&v(M,F,O,B,L[6],L[7],!0)<c)!A&&v(M,F,O,B,T[2],T[3],!0)<c&&v(M,F,O,B,T[4],T[5],!0)<c&&v(M,F,O,B,L[2],L[3],!0)<c&&v(M,F,O,B,L[4],L[5],!0)<c&&(b=P=A=!0);else if(A)return null;if(b^P)return null;for(var q=[d,S],H=[],j=0;j<4&&H.length<2;j++){var Z=j&1,ut=Z^1,ot=j>>1,ft=lt.getTimeOf(q[Z],new z(q[ut][ot?6:0],q[ut][ot?7:1]));if(ft!=null){var mt=Z?[ot,ft]:[ft,ot];(!H.length||w(mt[0]-H[0][0])>x&&w(mt[1]-H[0][1])>x)&&H.push(mt)}if(j>2&&!H.length)break}if(H.length!==2)H=null;else if(!A){var et=lt.getPart(d,H[0][0],H[1][0]),it=lt.getPart(S,H[0][1],H[1][1]);(w(it[2]-et[2])>c||w(it[3]-et[3])>c||w(it[4]-et[4])>c||w(it[5]-et[5])>c)&&(H=null)}return H}function p(d,S){var y=d[0],w=d[1],v=d[2],x=d[3],c=d[4],b=d[5],P=d[6],A=d[7],C=S.normalize(),T=C.x,L=C.y,M=3*P-9*c+9*v-3*y,F=3*A-9*b+9*x-3*w,O=6*c-12*v+6*y,B=6*b-12*x+6*w,q=3*v-3*y,H=3*x-3*w,j=2*M*L-2*F*T,Z=[];if(Math.abs(j)<$.CURVETIME_EPSILON){var ut=M*H-F*q,j=M*B-F*O;if(j!=0){var ot=-ut/j;ot>=0&&ot<=1&&Z.push(ot)}}else{var ft=(O*O-4*M*q)*L*L+(-2*O*B+4*F*q+4*M*H)*T*L+(B*B-4*F*H)*T*T,mt=O*L-B*T;if(ft>=0&&j!=0){var et=Math.sqrt(ft),it=-(mt+et)/j,ct=(-mt+et)/j;it>=0&&it<=1&&Z.push(it),ct>=0&&ct<=1&&Z.push(ct)}}return Z}return{getIntersections:function(d){var S=this.getValues(),y=d&&d!==this&&d.getValues();return y?l(S,y,this,d,[]):f(S,this,[])},statics:{getOverlaps:m,getIntersections:g,getCurveLineIntersections:a,getTimesWithTangent:p}}}),Se=E.extend({_class:"CurveLocation",initialize:function(e,r,n,s,a){if(r>=.99999999){var h=e.getNext();h&&(r=0,e=h)}this._setCurve(e),this._time=r,this._point=n||e.getPointAtTime(r),this._overlap=s,this._distance=a,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),r=this.getTime();r===0?t=e._segment1:r===1?t=e._segment2:r!=null&&(t=e.getPartLength(0,r)<e.getPartLength(r,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function r(n){var s=n&&n.getCurve();if(s&&(e._time=s.getTimeOf(e._point))!=null)return e._setCurve(s),s}return this._curve||r(this._segment)||r(this._segment1)||r(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&e==null?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var e=this.getPath(),r=this.getIndex();if(e&&r!=null)for(var n=e.getCurves(),s=0;s<r;s++)t+=n[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var e=this.getCurve(),r=this.getTime();this._curveOffset=t=r!=null&&e&&e.getPartLength(0,r)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,r=t&&t.splitAtTime(this.getTime());return r&&this._setSegment(e.getLastSegment()),r},equals:function(t,e){var r=this===t;if(!r&&t instanceof Se){var n=this.getCurve(),s=t.getCurve(),a=n._path,h=s._path;if(a===h){var o=Math.abs,l=1e-7,f=o(this.getOffset()-t.getOffset()),g=!e&&this._intersection,m=!e&&t._intersection;r=(f<l||a&&o(a.getLength()-f)<l)&&(!g&&!m||g&&m&&g.equals(m,!0))}}return r},toString:function(){var t=[],e=this.getPoint(),r=W.instance;e&&t.push("point: "+e);var n=this.getIndex();n!=null&&t.push("index: "+n);var s=this.getTime();return s!=null&&t.push("time: "+r.number(s)),this._distance!=null&&t.push("distance: "+r.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),r=t.getCurve();return!(e.isStraight()&&r.isStraight()&&e.getLine().intersect(r.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),r=t.getTime(),n=1e-8,s=1-n,a=e>=n&&e<=s,h=r>=n&&r<=s;if(a&&h)return!this.isTouching();var o=this.getCurve(),l=o&&e<n?o.getPrevious():o,f=t.getCurve(),g=f&&r<n?f.getPrevious():f;if(e>s&&(o=o.getNext()),r>s&&(f=f.getNext()),!l||!o||!g||!f)return!1;var m=[];function p(T,L){var M=T.getValues(),F=lt.classify(M).roots||lt.getPeaks(M),O=F.length,B=lt.getLength(M,L&&O?F[O-1]:0,!L&&O?F[0]:1);m.push(O?B:B/32)}function d(T,L,M){return L<M?T>L&&T<M:T>L||T<M}a||(p(l,!0),p(o,!1)),h||(p(g,!0),p(f,!1));var S=this.getPoint(),y=Math.min.apply(Math,m),w=a?o.getTangentAtTime(e):o.getPointAt(y).subtract(S),v=a?w.negate():l.getPointAt(-y).subtract(S),x=h?f.getTangentAtTime(r):f.getPointAt(y).subtract(S),c=h?x.negate():g.getPointAt(-y).subtract(S),b=v.getAngle(),P=w.getAngle(),A=c.getAngle(),C=x.getAngle();return!!(a?d(b,A,C)^d(P,A,C)&&d(b,C,A)^d(P,C,A):d(A,b,P)^d(C,b,P)&&d(A,P,b)^d(C,P,b))},hasOverlap:function(){return!!this._overlap}},E.each(lt._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var r=this.getCurve(),n=this.getTime();return n!=null&&r&&r[e](n,!0)}},{preserve:!0}),new function(){function t(e,r,n){var s=e.length,a=0,h=s-1;function o(S,y){for(var w=S+y;w>=-1&&w<=s;w+=y){var v=e[(w%s+s)%s];if(!r.getPoint().isClose(v.getPoint(),1e-7))break;if(r.equals(v))return v}return null}for(;a<=h;){var l=a+h>>>1,f=e[l],g;if(n&&(g=r.equals(f)?f:o(l,-1)||o(l,1)))return r._overlap&&(g._overlap=g._intersection._overlap=!0),g;var m=r.getPath(),p=f.getPath(),d=m!==p?m._id-p._id:r.getIndex()+r.getTime()-(f.getIndex()+f.getTime());d<0?h=l-1:a=l+1}return e.splice(a,0,r),r}return{statics:{insert:t,expand:function(e){for(var r=e.slice(),n=e.length-1;n>=0;n--)t(r,e[n]._intersection,!1);return r}}}}),Fe=k.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,r,n;if(E.isPlainObject(t)?(r=t.segments,e=t.pathData):Array.isArray(t)?r=t:typeof t=="string"&&(e=t),r){var s=r[0];n=s&&Array.isArray(s[0])}else e&&(n=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var a=n?he:Ft;return new a(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),r,n=!1,s,a,h=new z,o=new z;function l(c,b){var P=+r[c];return n&&(P+=h[b]),P}function f(c){return new z(l(c,"x"),l(c+1,"y"))}this.clear();for(var g=0,m=e&&e.length;g<m;g++){var p=e[g],d=p[0],S=d.toLowerCase();r=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var y=r&&r.length;switch(n=d===S,s==="z"&&!/[mz]/.test(S)&&this.moveTo(h),S){case"m":case"l":for(var w=S==="m",v=0;v<y;v+=2)this[w?"moveTo":"lineTo"](h=f(v)),w&&(o=h,w=!1);a=h;break;case"h":case"v":var x=S==="h"?"x":"y";h=h.clone();for(var v=0;v<y;v++)h[x]=l(v,x),this.lineTo(h);a=h;break;case"c":for(var v=0;v<y;v+=6)this.cubicCurveTo(f(v),a=f(v+2),h=f(v+4));break;case"s":for(var v=0;v<y;v+=4)this.cubicCurveTo(/[cs]/.test(s)?h.multiply(2).subtract(a):h,a=f(v),h=f(v+2)),s=S;break;case"q":for(var v=0;v<y;v+=4)this.quadraticCurveTo(a=f(v),h=f(v+2));break;case"t":for(var v=0;v<y;v+=2)this.quadraticCurveTo(a=/[qt]/.test(s)?h.multiply(2).subtract(a):h,h=f(v)),s=S;break;case"a":for(var v=0;v<y;v+=7)this.arcTo(h=f(v+5),new nt(+r[v],+r[v+1]),+r[v+2],+r[v+4],+r[v+3]);break;case"z":this.closePath(1e-12),h=o;break}s=S}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(t,e,r,n){var s=this===t||!t,a=this._matrix._orNullIfIdentity(),h=s?a:(r||t._matrix)._orNullIfIdentity();return s||this.getBounds(a).intersects(t.getBounds(h),1e-12)?lt.getIntersections(this.getCurves(),!s&&t.getCurves(),e,a,h,n):[]},getCrossings:function(t){return this.getIntersections(t,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var t=z.read(arguments),e=this.getCurves(),r=1/0,n=null,s=0,a=e.length;s<a;s++){var h=e[s].getNearestLocation(t);h._distance<r&&(r=h._distance,n=h)}return n},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,r){var n=!this._children,s=n?"_segments":"_children",a=t[s],h=e[s],o=this[s];if(!a||!h||a.length!==h.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=o.length,f=h.length;if(l<f)for(var g=n?At:Ft,m=l;m<f;m++)this.add(new g);else l>f&&this[n?"removeSegments":"removeChildren"](f,l);for(var m=0;m<f;m++)o[m].interpolate(a[m],h[m],r);n&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var r=this._children||[this],n=t._children?t._children.slice():[t],s=r.length,a=n.length,h=[],o=0;e=!0;for(var l=X.findItemBoundsCollisions(r,n,$.GEOMETRIC_EPSILON),f=s-1;f>=0&&e;f--){var g=r[f];e=!1;var m=l[f];if(m)for(var p=m.length-1;p>=0&&!e;p--)g.compare(n[m[p]])&&(h[m[p]]||(h[m[p]]=!0,o++),e=!0)}e=e&&o===a}return e}}),Ft=Fe.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var r=arguments,n=Array.isArray(e)?typeof e[0]=="object"?e:r:e&&e.size===N&&(e.x!==N||e.point!==N)?r:null;n&&n.length>0?this.setSegments(n):(this._curves=N,this._segmentSelection=0,!n&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!n&&e)},_equals:function(t){return this._closed===t._closed&&E.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),e&8){if(this._length=this._area=N,e&32)this._version++;else if(this._curves)for(var r=0,n=this._curves.length;r<n;r++)this._curves[r]._changed()}else e&64&&(this._bounds=N)},getStyle:function(){var t=this._parent;return(t instanceof he?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),r=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=N,r){var n=t[r-1];typeof n=="boolean"&&(this.setClosed(n),r--),this._add(At.readList(t,0,{},r))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var r=this._countCurves();t=this._curves=new Array(r);for(var n=0;n<r;n++)t[n]=new lt(this,e[n],e[n+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new lt(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var r=this._segments,n=r.length,s=new W(e),a=new Array(6),h=!0,o,l,f,g,m,p,d,S,y=[];function w(x,c){if(x._transformCoordinates(t,a),o=a[0],l=a[1],h)y.push("M"+s.pair(o,l)),h=!1;else if(m=a[2],p=a[3],m===o&&p===l&&d===f&&S===g){if(!c){var b=o-f,P=l-g;y.push(b===0?"v"+s.number(P):P===0?"h"+s.number(b):"l"+s.pair(b,P))}}else y.push("c"+s.pair(d-f,S-g)+" "+s.pair(m-f,p-g)+" "+s.pair(o-f,l-g));f=o,g=l,d=a[4],S=a[5]}if(!n)return"";for(var v=0;v<n;v++)w(r[v]);return this._closed&&n>0&&(w(r[0],!0),y.push("z")),y.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,r=new Array(6),n=0,s=e.length;n<s;n++)e[n]._transformCoordinates(t,r,!0);return!0},_add:function(t,h){for(var r=this._segments,n=this._curves,s=t.length,a=h==null,h=a?r.length:h,o=0;o<s;o++){var l=t[o];l._path&&(l=t[o]=l.clone()),l._path=this,l._index=h+o,l._selection&&this._updateSelection(l,0,l._selection)}if(a)E.push(r,t);else{r.splice.apply(r,[h,0].concat(t));for(var o=h+s,f=r.length;o<f;o++)r[o]._index=o}if(n){var g=this._countCurves(),m=h>0&&h+s-1===g?h-1:h,p=m,d=Math.min(m+s,g);t._curves&&(n.splice.apply(n,[m,0].concat(t._curves)),p+=t._curves.length);for(var o=p;o<d;o++)n.splice(o,0,new lt(this,null,null));this._adjustCurves(m,d)}return this._changed(41),t},_adjustCurves:function(t,e){for(var r=this._segments,n=this._curves,s,a=t;a<e;a++)s=n[a],s._path=this,s._segment1=r[a],s._segment2=r[a+1]||r[0],s._changed();(s=n[this._closed&&!t?r.length-1:t-1])&&(s._segment2=r[t]||r[0],s._changed()),(s=n[e])&&(s._segment1=r[e],s._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&typeof t!="number"?this._add(At.readList(e)):this._add([At.read(e)])[0]},insert:function(t,e){var r=arguments;return r.length>2&&typeof e!="number"?this._add(At.readList(r,1),t):this._add([At.read(r,1)],t)[0]},addSegment:function(){return this._add([At.read(arguments)])[0]},insertSegment:function(t){return this._add([At.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(At.readList(t))},insertSegments:function(t,e){return this._add(At.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,r){t=t||0,e=E.pick(e,this._segments.length);var n=this._segments,s=this._curves,a=n.length,h=n.splice(t,e-t),o=h.length;if(!o)return h;for(var l=0;l<o;l++){var f=h[l];f._selection&&this._updateSelection(f,f._selection,0),f._index=f._path=null}for(var l=t,g=n.length;l<g;l++)n[l]._index=l;if(s){for(var m=t>0&&e===a+(this._closed?1:0)?t-1:t,s=s.splice(m,o),l=s.length-1;l>=0;l--)s[l]._path=null;r&&(h._curves=s.slice(1)),this._adjustCurves(m,m)}return this._changed(41),h},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,r=t.length;e<r;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,r=t.length;e<r;e++)t[e].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),e=0,r=0,n=t.length;r<n;r++)e+=t[r].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(t==null){var e=this._segments,r=this._closed;t=0;for(var n=0,s=e.length;n<s;n++){var a=n+1===s;t+=lt.getArea(lt.getValues(e[n],e[a?0:n+1],null,a&&!r))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){e&1||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,r=e.length,n=t?7:0;this._segmentSelection=n*r;for(var s=0;s<r;s++)e[s]._selection=n},_updateSelection:function(t,e,r){t._selection=r;var n=this._segmentSelection+=r-e;n>0&&this.setSelected(!0)},divideAt:function(t){var e=this.getLocationAt(t),r;return e&&(r=e.getCurve().divideAt(e.getCurveOffset()))?r._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),r=e&&e.index,n=e&&e.time,s=1e-8,a=1-s;n>a&&(r++,n=0);var h=this.getCurves();if(r>=0&&r<h.length){n>=s&&h[r++].divideAtTime(n);var o=this.removeSegments(r,this._segments.length,!0),l;return this._closed?(this.setClosed(!1),l=this):(l=new Ft(k.NO_INSERT),l.insertAbove(this),l.copyAttributes(this)),l._add(o,0),this.addSegment(o[0]),l}return null},split:function(t,e){var r,n=e===N?t:(r=this.getCurves()[t])&&r.getLocationAtTime(e);return n!=null?this.splitAt(n):null},join:function(t,e){var r=e||0;if(t&&t!==this){var n=t._segments,s=this.getLastSegment(),a=t.getLastSegment();if(!a)return this;s&&s._point.isClose(a._point,r)&&t.reverse();var h=t.getFirstSegment();if(s&&s._point.isClose(h._point,r))s.setHandleOut(h._handleOut),this._add(n.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(h._point,r)&&t.reverse(),a=t.getLastSegment(),o&&o._point.isClose(a._point,r)?(o.setHandleIn(a._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}t._closed&&this._add([n[0]]),t.remove()}var l=this.getFirstSegment(),f=this.getLastSegment();return l!==f&&l._point.isClose(f._point,r)&&(l.setHandleIn(f._handleIn),f.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),r=t&&t.simplify,n=r?1e-7:0,s=e.length-1;s>=0;s--){var a=e[s];!a.hasHandles()&&(!a.hasLength(n)||r&&a.isCollinear(a.getNext()))&&a.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var r=this._segments[t],n=r._handleIn;r._handleIn=r._handleOut,r._handleOut=n,r._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new Mi(this,t||.25,256,!0),r=e.parts,n=r.length,s=[],a=0;a<n;a++)s.push(new At(r[a].curve.slice(0,2)));!this._closed&&n>0&&s.push(new At(r[n-1].curve.slice(6))),this.setSegments(s)},simplify:function(t){var e=new He(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,r=t||{},n=r.type||"asymmetric",s=this._segments,a=s.length,h=this._closed;function o(xt,Pt){var kt=xt&&xt.index;if(kt!=null){var Ot=xt.path;if(Ot&&Ot!==e)throw new Error(xt._class+" "+kt+" of "+Ot+" is not part of "+e);Pt&&xt instanceof lt&&kt++}else kt=typeof xt=="number"?xt:Pt;return Math.min(kt<0&&h?kt%a:kt<0?kt+a:kt,a-1)}var l=h&&r.from===N&&r.to===N,f=o(r.from,0),g=o(r.to,a-1);if(f>g)if(h)f-=a;else{var m=f;f=g,g=m}if(/^(?:asymmetric|continuous)$/.test(n)){var p=n==="asymmetric",d=Math.min,S=g-f+1,y=S-1,w=l?d(S,4):1,v=w,x=w,c=[];if(h||(v=d(1,f),x=d(1,a-g-1)),y+=v+x,y<=1)return;for(var b=0,P=f-v;b<=y;b++,P++)c[b]=s[(P<0?P+a:P)%a]._point;for(var A=c[0]._x+2*c[1]._x,C=c[0]._y+2*c[1]._y,T=2,L=y-1,M=[A],F=[C],O=[T],B=[],q=[],b=1;b<y;b++){var H=b<L,j=H||p?1:2,Z=H?4:p?2:7,ut=H?4:p?3:8,ot=H?2:p?0:1,ft=j/T;T=O[b]=Z-ft,A=M[b]=ut*c[b]._x+ot*c[b+1]._x-ft*A,C=F[b]=ut*c[b]._y+ot*c[b+1]._y-ft*C}B[L]=M[L]/O[L],q[L]=F[L]/O[L];for(var b=y-2;b>=0;b--)B[b]=(M[b]-B[b+1])/O[b],q[b]=(F[b]-q[b+1])/O[b];B[y]=(3*c[y]._x-B[L])/2,q[y]=(3*c[y]._y-q[L])/2;for(var b=v,mt=y-x,P=f;b<=mt;b++,P++){var et=s[P<0?P+a:P],it=et._point,ct=B[b]-it._x,yt=q[b]-it._y;(l||b<mt)&&et.setHandleOut(ct,yt),(l||b>v)&&et.setHandleIn(-ct,-yt)}}else for(var b=f;b<=g;b++)s[b<0?b+a:b].smooth(r,!l&&b===f,!l&&b===g)},toShape:function(t){if(!this._closed)return null;var e=this._segments,r,n,s,a;function h(p,d){var S=e[p],y=S.getNext(),w=e[d],v=w.getNext();return S._handleOut.isZero()&&y._handleIn.isZero()&&w._handleOut.isZero()&&v._handleIn.isZero()&&y._point.subtract(S._point).isCollinear(v._point.subtract(w._point))}function o(p){var d=e[p],S=d.getPrevious(),y=d.getNext();return S._handleOut.isZero()&&d._handleIn.isZero()&&d._handleOut.isZero()&&y._handleIn.isZero()&&d._point.subtract(S._point).isOrthogonal(y._point.subtract(d._point))}function l(p){var d=e[p],S=d.getNext(),y=d._handleOut,w=S._handleIn,v=.5522847498307936;if(y.isOrthogonal(w)){var x=d._point,c=S._point,b=new Wt(x,y,!0).intersect(new Wt(c,w,!0),!0);return b&&$.isZero(y.getLength()/b.subtract(x).getLength()-v)&&$.isZero(w.getLength()/b.subtract(c).getLength()-v)}return!1}function f(p,d){return e[p]._point.getDistance(e[d]._point)}if(!this.hasHandles()&&e.length===4&&h(0,2)&&h(1,3)&&o(1)?(r=ne.Rectangle,n=new nt(f(0,3),f(0,1)),a=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&l(0)&&l(2)&&l(4)&&l(6)&&h(1,5)&&h(3,7)?(r=ne.Rectangle,n=new nt(f(1,6),f(0,3)),s=n.subtract(new nt(f(0,7),f(1,2))).divide(2),a=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&l(0)&&l(1)&&l(2)&&l(3)&&($.isZero(f(0,2)-f(1,3))?(r=ne.Circle,s=f(0,2)/2):(r=ne.Ellipse,s=new nt(f(2,0)/2,f(3,1)/2)),a=e[1]._point),r){var g=this.getPosition(!0),m=new r({center:g,size:n,radius:s,insert:!1});return m.copyAttributes(this,!0),m._matrix.prepend(this._matrix),m.rotate(a.subtract(g).getAngle()+90),(t===N||t)&&m.insertAbove(this),m}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof he)return t.base.call(this,e);var r=this.getCurves(),n=e.getCurves(),s=r.length,a=n.length;if(!s||!a)return s==a;for(var h=r[0].getValues(),o=[],l=0,f,g=0,m,p=0;p<a;p++){var w=n[p].getValues();o.push(w);var d=lt.getOverlaps(h,w);if(d){f=!p&&d[0][0]>0?a-1:p,m=d[0][1];break}}for(var S=Math.abs,y=1e-8,w=o[f],v;h&&w;){var d=lt.getOverlaps(h,w);if(d){var x=d[0][0];if(S(x-g)<y){g=d[1][0],g===1&&(h=++l<s?r[l].getValues():null,g=0);var c=d[0][1];if(S(c-m)<y){if(v||(v=[f,c]),m=d[1][1],m===1&&(++f>=a&&(f=0),w=o[f]||n[f].getValues(),m=0),!h)return v[0]===f&&v[1]===m;continue}}}break}return!1},_hitTestSelf:function(t,e,r,n){var s=this,a=this.getStyle(),h=this._segments,o=h.length,l=this._closed,f=e._tolerancePadding,g=f,m,p,d,S,y,w,v=e.stroke&&a.hasStroke(),x=e.fill&&a.hasFill(),c=e.curves,b=v?a.getStrokeWidth()/2:x&&e.tolerance>0||c?0:null;b!==null&&(b>0?(m=a.getStrokeJoin(),p=a.getStrokeCap(),d=a.getMiterLimit(),g=g.add(Ft._getStrokePadding(b,n))):m=p="round");function P(B,q){return t.subtract(B).divide(q).length<=1}function A(B,q,H){if(!e.selected||q.isSelected()){var j=B._point;if(q!==j&&(q=q.add(j)),P(q,g))return new Ae(H,s,{segment:B,point:q})}}function C(B,q){return(q||e.segments)&&A(B,B._point,"segment")||!q&&e.handles&&(A(B,B._handleIn,"handle-in")||A(B,B._handleOut,"handle-out"))}function T(B){S.add(B)}function L(B){var q=l||B._index>0&&B._index<o-1;if((q?m:p)==="round")return P(B._point,g);if(S=new Ft({internal:!0,closed:!0}),q?B.isSmooth()||Ft._addBevelJoin(B,m,b,d,null,n,T,!0):p==="square"&&Ft._addSquareCap(B,p,b,null,n,T,!0),!S.isEmpty()){var H;return S.contains(t)||(H=S.getNearestLocation(t))&&P(H.getPoint(),f)}}if(e.ends&&!e.segments&&!l){if(w=C(h[0],!0)||C(h[o-1],!0))return w}else if(e.segments||e.handles){for(var M=0;M<o;M++)if(w=C(h[M]))return w}if(b!==null){if(y=this.getNearestLocation(t),y){var F=y.getTime();F===0||F===1&&o>1?L(y.getSegment())||(y=null):P(y.getPoint(),g)||(y=null)}if(!y&&m==="miter"&&o>1)for(var M=0;M<o;M++){var O=h[M];if(t.getDistance(O._point)<=d*b&&L(O)){y=O.getLocation();break}}}return!y&&x&&this._contains(t)||y&&!v&&!c?new Ae("fill",this):y?new Ae(v?"stroke":"curve",this,{location:y,point:y.getPoint()}):null}},E.each(lt._evaluateMethods,function(t){this[t+"At"]=function(e){var r=this.getLocationAt(e);return r&&r[t]()}},{beans:!1,getLocationOf:function(){for(var t=z.read(arguments),e=this.getCurves(),r=0,n=e.length;r<n;r++){var s=e[r].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var e=this.getCurves(),r=0,n=0,s=e.length;n<s;n++){var a=r,h=e[n];if(r+=h.getLength(),r>t)return h.getLocationAt(t-a)}if(e.length>0&&t<=this.getLength())return new Se(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=z.read(arguments);if(t.isZero())return[];for(var e=[],r=0,n=this.getCurves(),s=0,a=n.length;s<a;s++){for(var h=n[s],o=h.getTimesWithTangent(t),l=0,f=o.length;l<f;l++){var g=r+h.getOffsetAtTime(o[l]);e.indexOf(g)<0&&e.push(g)}r+=h.length}return e}}),new function(){function t(r,n,s,a){if(a<=0)return;var h=a/2,o=a-2,l=h-1,f=new Array(6),g,m;function p(x){var c=f[x],b=f[x+1];(g!=c||m!=b)&&(r.beginPath(),r.moveTo(g,m),r.lineTo(c,b),r.stroke(),r.beginPath(),r.arc(c,b,h,0,Math.PI*2,!0),r.fill())}for(var d=0,S=n.length;d<S;d++){var y=n[d],w=y._selection;if(y._transformCoordinates(s,f),g=f[0],m=f[1],w&2&&p(2),w&4&&p(4),r.fillRect(g-h,m-h,a,a),o>0&&!(w&1)){var v=r.fillStyle;r.fillStyle="#ffffff",r.fillRect(g-l,m-l,o,o),r.fillStyle=v}}}function e(r,n,s){var a=n._segments,h=a.length,o=new Array(6),l=!0,f,g,m,p,d,S,y,w;function v(c){if(s)c._transformCoordinates(s,o),f=o[0],g=o[1];else{var b=c._point;f=b._x,g=b._y}if(l)r.moveTo(f,g),l=!1;else{if(s)d=o[2],S=o[3];else{var P=c._handleIn;d=f+P._x,S=g+P._y}d===f&&S===g&&y===m&&w===p?r.lineTo(f,g):r.bezierCurveTo(y,w,d,S,f,g)}if(m=f,p=g,s)y=o[4],w=o[5];else{var P=c._handleOut;y=m+P._x,w=p+P._y}}for(var x=0;x<h;x++)v(a[x]);n._closed&&h>0&&v(a[0])}return{_draw:function(r,n,s,a){var h=n.dontStart,o=n.dontFinish||n.clip,l=this.getStyle(),f=l.hasFill(),g=l.hasStroke(),m=l.getDashArray(),p=!Bt.support.nativeDash&&g&&m&&m.length;h||r.beginPath(),(f||g&&!p||o)&&(e(r,this,a),this._closed&&r.closePath());function d(c){return m[(c%p+p)%p]}if(!o&&(f||g)&&(this._setStyles(r,n,s),f&&(r.fill(l.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),g)){if(p){h||r.beginPath();for(var S=new Mi(this,.25,32,!1,a),y=S.length,w=-l.getDashOffset(),v,x=0;w>0;)w-=d(x--)+d(x--);for(;w<y;)v=w+d(x++),(w>0||v>0)&&S.drawPart(r,Math.max(w,0),Math.max(v,0)),w=v+d(x++)}r.stroke()}},_drawSelected:function(r,n){r.beginPath(),e(r,this,n),r.stroke(),t(r,this._segments,n,Bt.settings.handleSize)}}},new function(){function t(e){var r=e._segments;if(!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new At(z.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new At(z.read(arguments))])},cubicCurveTo:function(){var e=arguments,r=z.read(e),n=z.read(e),s=z.read(e),a=t(this);a.setHandleOut(r.subtract(a._point)),this._add([new At(s,n.subtract(s))])},quadraticCurveTo:function(){var e=arguments,r=z.read(e),n=z.read(e),s=t(this)._point;this.cubicCurveTo(r.add(s.subtract(r).multiply(1/3)),r.add(n.subtract(r).multiply(1/3)),n)},curveTo:function(){var e=arguments,r=z.read(e),n=z.read(e),s=E.pick(E.read(e),.5),a=1-s,h=t(this)._point,o=r.subtract(h.multiply(a*a)).subtract(n.multiply(s*s)).divide(2*s*a);if(o.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(o,n)},arcTo:function(){var e=arguments,r=Math.abs,n=Math.sqrt,s=t(this),a=s._point,h=z.read(e),o,l=E.peek(e),f=E.pick(l,!0),g,m,p,d;if(typeof f=="boolean")var S=a.add(h).divide(2),o=S.add(S.subtract(a).rotate(f?-90:90));else if(E.remain(e)<=2)o=h,h=z.read(e);else if(!a.equals(h)){var y=nt.read(e),w=$.isZero;if(w(y.width)||w(y.height))return this.lineTo(h);var v=E.read(e),f=!!E.read(e),x=!!E.read(e),S=a.add(h).divide(2),c=a.subtract(S).rotate(-v),b=c.x,P=c.y,A=r(y.width),C=r(y.height),T=A*A,L=C*C,M=b*b,F=P*P,O=n(M/T+F/L);if(O>1&&(A*=O,C*=O,T=A*A,L=C*C),O=(T*L-T*F-L*M)/(T*F+L*M),r(O)<1e-12&&(O=0),O<0)throw new Error("Cannot create an arc with the given arguments");g=new z(A*P/C,-C*b/A).multiply((x===f?-1:1)*n(O)).rotate(v).add(S),d=new St().translate(g).rotate(v).scale(A,C),p=d._inverseTransform(a),m=p.getDirectedAngle(d._inverseTransform(h)),!f&&m>0?m-=360:f&&m<0&&(m+=360)}if(o){var B=new Wt(a.add(o).divide(2),o.subtract(a).rotate(90),!0),q=new Wt(o.add(h).divide(2),h.subtract(o).rotate(90),!0),H=new Wt(a,h),j=H.getSide(o);if(g=B.intersect(q,!0),!g){if(!j)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}p=a.subtract(g),m=p.getDirectedAngle(h.subtract(g));var Z=H.getSide(g,!0);Z===0?m=j*r(m):j===Z&&(m+=m<0?360:-360)}if(m){for(var ut=1e-5,ot=r(m),ft=ot>=360?4:Math.ceil((ot-ut)/90),mt=m/ft,et=mt*Math.PI/360,it=4/3*Math.sin(et)/(1+Math.cos(et)),ct=[],yt=0;yt<=ft;yt++){var c=h,xt=null;if(yt<ft&&(xt=p.rotate(90).multiply(it),d?(c=d._transformPoint(p),xt=d._transformPoint(p.add(xt)).subtract(c)):c=g.add(p)),!yt)s.setHandleOut(xt);else{var Pt=p.rotate(-90).multiply(it);d&&(Pt=d._transformPoint(p.add(Pt)).subtract(c)),ct.push(new At(c,Pt,xt))}p=p.rotate(mt)}this._add(ct)}},lineBy:function(){var e=z.read(arguments),r=t(this)._point;this.lineTo(r.add(e))},curveBy:function(){var e=arguments,r=z.read(e),n=z.read(e),s=E.read(e),a=t(this)._point;this.curveTo(a.add(r),a.add(n),s)},cubicCurveBy:function(){var e=arguments,r=z.read(e),n=z.read(e),s=z.read(e),a=t(this)._point;this.cubicCurveTo(a.add(r),a.add(n),a.add(s))},quadraticCurveBy:function(){var e=arguments,r=z.read(e),n=z.read(e),s=t(this)._point;this.quadraticCurveTo(s.add(r),s.add(n))},arcBy:function(){var e=arguments,r=t(this)._point,n=r.add(z.read(e)),s=E.pick(E.peek(e),!0);typeof s=="boolean"?this.arcTo(n,s):this.arcTo(n,r.add(z.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(t,e){var r=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return Ft[r](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,r,n,s,a){var h=t[0];if(!h)return new gt;var o=new Array(6),l=h._transformCoordinates(n,new Array(6)),f=l.slice(0,2),g=f.slice(),m=new Array(2);function p(y){y._transformCoordinates(n,o);for(var w=0;w<2;w++)lt._addBounds(l[w],l[w+4],o[w+2],o[w],w,a?a[w]:0,f,g,m);var v=l;l=o,o=v}for(var d=1,S=t.length;d<S;d++)p(t[d]);return e&&p(h),new gt(f[0],f[1],g[0]-f[0],g[1]-f[1])},getStrokeBounds:function(t,e,r,n,s){var a=r.getStyle(),h=a.hasStroke(),o=a.getStrokeWidth(),l=h&&r._getStrokeMatrix(n,s),f=h&&Ft._getStrokePadding(o,l),g=Ft.getBounds(t,e,r,n,s,f);if(!h)return g;var m=o/2,p=a.getStrokeJoin(),d=a.getStrokeCap(),S=a.getMiterLimit(),y=new gt(new nt(f));function w(A){g=g.include(A)}function v(A){g=g.unite(y.setCenter(A._point.transform(n)))}function x(A,C){C==="round"||A.isSmooth()?v(A):Ft._addBevelJoin(A,C,m,S,n,l,w)}function c(A,C){C==="round"?v(A):Ft._addSquareCap(A,C,m,n,l,w)}var b=t.length-(e?0:1);if(b>0){for(var P=1;P<b;P++)x(t[P],p);e?x(t[0],p):(c(t[0],d),c(t[t.length-1],d))}return g},_getStrokePadding:function(t,e){if(!e)return[t,t];var r=new z(t,0).transform(e),n=new z(0,t).transform(e),s=r.getAngleInRadians(),a=r.getLength(),h=n.getLength(),o=Math.sin(s),l=Math.cos(s),f=Math.tan(s),g=Math.atan2(h*f,a),m=Math.atan2(h,f*a);return[Math.abs(a*Math.cos(g)*l+h*Math.sin(g)*o),Math.abs(h*Math.sin(m)*l+a*Math.cos(m)*o)]},_addBevelJoin:function(t,e,r,n,s,a,h,o){var l=t.getCurve(),f=l.getPrevious(),g=l.getPoint1().transform(s),m=f.getNormalAtTime(1).multiply(r).transform(a),p=l.getNormalAtTime(0).multiply(r).transform(a),d=m.getDirectedAngle(p);if((d<0||d>=180)&&(m=m.negate(),p=p.negate()),o&&h(g),h(g.add(m)),e==="miter"){var S=new Wt(g.add(m),new z(-m.y,m.x),!0).intersect(new Wt(g.add(p),new z(-p.y,p.x),!0),!0);S&&g.getDistance(S)<=n*r&&h(S)}h(g.add(p))},_addSquareCap:function(t,e,r,n,s,a,h){var o=t._point.transform(n),l=t.getLocation(),f=l.getNormal().multiply(l.getTime()===0?r:-r).transform(s);e==="square"&&(h&&(a(o.subtract(f)),a(o.add(f))),o=o.add(f.rotate(-90))),a(o.add(f)),a(o.subtract(f))},getHandleBounds:function(t,e,r,n,s){var a=r.getStyle(),h=s.stroke&&a.hasStroke(),o,l;if(h){var f=r._getStrokeMatrix(n,s),g=a.getStrokeWidth()/2,m=g;a.getStrokeJoin()==="miter"&&(m=g*a.getMiterLimit()),a.getStrokeCap()==="square"&&(m=Math.max(m,g*Math.SQRT2)),o=Ft._getStrokePadding(g,f),l=Ft._getStrokePadding(m,f)}for(var p=new Array(6),d=1/0,S=-d,y=d,w=S,v=0,x=t.length;v<x;v++){var c=t[v];c._transformCoordinates(n,p);for(var b=0;b<6;b+=2){var P=b?o:l,A=P?P[0]:0,C=P?P[1]:0,T=p[b],L=p[b+1],M=T-A,F=T+A,O=L-C,B=L+C;M<d&&(d=M),F>S&&(S=F),O<y&&(y=O),B>w&&(w=B)}}return new gt(d,y,S-d,w-y)}}});Ft.inject({statics:new function(){var t=.5522847498307936,e=[new At([-1,0],[0,t],[0,-t]),new At([0,-1],[-t,0],[t,0]),new At([1,0],[0,-t],[0,t]),new At([0,1],[t,0],[-t,0])];function r(s,a,h){var o=E.getNamed(h),l=new Ft(o&&(o.insert==!0?k.INSERT:o.insert==!1?k.NO_INSERT:null));return l._add(s),l._closed=a,l.set(o,k.INSERT)}function n(s,a,h){for(var o=new Array(4),l=0;l<4;l++){var f=e[l];o[l]=new At(f._point.multiply(a).add(s),f._handleIn.multiply(a),f._handleOut.multiply(a))}return r(o,!0,h)}return{Line:function(){var s=arguments;return r([new At(z.readNamed(s,"from")),new At(z.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,a=z.readNamed(s,"center"),h=E.readNamed(s,"radius");return n(a,new nt(h),s)},Rectangle:function(){var s=arguments,a=gt.readNamed(s,"rectangle"),h=nt.readNamed(s,"radius",0,{readNull:!0}),o=a.getBottomLeft(!0),l=a.getTopLeft(!0),f=a.getTopRight(!0),g=a.getBottomRight(!0),m;if(!h||h.isZero())m=[new At(o),new At(l),new At(f),new At(g)];else{h=nt.min(h,a.getSize(!0).divide(2));var p=h.width,d=h.height,S=p*t,y=d*t;m=[new At(o.add(p,0),null,[-S,0]),new At(o.subtract(0,d),[0,y]),new At(l.add(0,d),null,[0,-y]),new At(l.add(p,0),[-S,0],null),new At(f.subtract(p,0),null,[S,0]),new At(f.add(0,d),[0,-y],null),new At(g.subtract(0,d),null,[0,y]),new At(g.subtract(p,0),[S,0])]}return r(m,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,a=ne._readEllipse(s);return n(a.center,a.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,a=z.readNamed(s,"from"),h=z.readNamed(s,"through"),o=z.readNamed(s,"to"),l=E.getNamed(s),f=new Ft(l&&l.insert==!1&&k.NO_INSERT);return f.moveTo(a),f.arcTo(h,o),f.set(l)},RegularPolygon:function(){for(var s=arguments,a=z.readNamed(s,"center"),h=E.readNamed(s,"sides"),o=E.readNamed(s,"radius"),l=360/h,f=h%3===0,g=new z(0,f?-o:o),m=f?-1:.5,p=new Array(h),d=0;d<h;d++)p[d]=new At(a.add(g.rotate((d+m)*l)));return r(p,!0,s)},Star:function(){for(var s=arguments,a=z.readNamed(s,"center"),h=E.readNamed(s,"points")*2,o=E.readNamed(s,"radius1"),l=E.readNamed(s,"radius2"),f=360/h,g=new z(0,-1),m=new Array(h),p=0;p<h;p++)m[p]=new At(a.add(g.rotate(f*p).multiply(p%2?l:o)));return r(m,!0,s)}}}});var he=Fe.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function t(e,r){var n=r,s=n[0];s&&typeof s[0]=="number"&&(n=[n]);for(var a=r.length-1;a>=0;a--){var h=n[a];n===r&&!(h instanceof Ft)&&(n=E.slice(n)),Array.isArray(h)?n[a]=new Ft({segments:h,insert:!1}):h instanceof he&&(n.splice.apply(n,[a,1].concat(h.removeChildren())),h.remove())}return t.base.call(this,e,n)},reduce:function t(e){for(var r=this._children,n=r.length-1;n>=0;n--){var s=r[n].reduce(e);s.isEmpty()&&s.remove()}if(!r.length){var s=new Ft(k.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,r=t.length;e<r;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,r=0,n=e.length;r<n;r++)e[r].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],r=0,n=t.length;r<n;r++)E.push(e,t[r].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,r=0,n=t.length;r<n;r++)e+=t[r].getArea();return e},getLength:function(){for(var t=this._children,e=0,r=0,n=t.length;r<n;r++)e+=t[r].getLength();return e},getPathData:function(t,e){for(var r=this._children,n=[],s=0,a=r.length;s<a;s++){var h=r[s],o=h._matrix;n.push(h.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return n.join("")},_hitTestChildren:function t(e,r,n){return t.base.call(this,e,r.class===Ft||r.type==="path"?r:E.set({},r,{fill:!1}),n)},_draw:function(t,e,r,n){var s=this._children;if(s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var a=0,h=s.length;a<h;a++)s[a].draw(t,e,n);if(!e.clip){this._setStyles(t,e,r);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,r){for(var n=this._children,s=0,a=n.length;s<a;s++){var h=n[s],o=h._matrix;r[h._id]||h._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function t(e,r){var n=e._children;if(r&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return E.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var r=t(this,!0);r[e].apply(r,arguments)}},{moveTo:function(){var e=t(this),r=e&&e.isEmpty()?e:new Ft(k.NO_INSERT);r!==e&&this.addChild(r),r.moveTo.apply(r,arguments)},moveBy:function(){var e=t(this,!0),r=e&&e.getLastSegment(),n=z.read(arguments);this.moveTo(r?n.add(r._point):n)},closePath:function(e){t(this,!0).closePath(e)}})},E.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var r=this._children,n,s=0,a=r.length;s<a;s++)n=r[s][t](e)||n;return n}},{}));Fe.inject(new function(){var t=Math.min,e=Math.max,r=Math.abs,n={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(v){return v._children||[v]}function a(v,x){var c=v.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(x){for(var b=s(c),P=0,A=b.length;P<A;P++){var v=b[P];!v._closed&&!v.isEmpty()&&(v.closePath(1e-12),v.getFirstSegment().setHandleIn(0,0),v.getLastSegment().setHandleOut(0,0))}c=c.resolveCrossings().reorient(c.getFillRule()==="nonzero",!0)}return c}function h(v,x,c,b,P){var A=new he(k.NO_INSERT);return A.addChildren(v,!0),A=A.reduce({simplify:x}),P&&P.insert==!1||A.insertAbove(b&&c.isSibling(b)&&c.getIndex()<b.getIndex()?b:c),A.copyAttributes(c,!0),A}function o(v){return v.hasOverlap()||v.isCrossing()}function l(v,x,c,b){if(b&&(b.trace==!1||b.stroke)&&/^(subtract|intersect)$/.test(c))return f(v,x,c);var P=a(v,!0),A=x&&v!==x&&a(x,!0),C=n[c];C[c]=!0,A&&(C.subtract||C.exclude)^(A.isClockwise()^P.isClockwise())&&A.reverse();var T=d(Se.expand(P.getIntersections(A,o))),L=s(P),M=A&&s(A),F=[],O=[],B;function q(xt){for(var Pt=0,kt=xt.length;Pt<kt;Pt++){var Ot=xt[Pt];E.push(F,Ot._segments),E.push(O,Ot.getCurves()),Ot._overlapsOnly=!0}}function H(xt){for(var Pt=[],kt=0,Ot=xt&&xt.length;kt<Ot;kt++)Pt.push(O[xt[kt]]);return Pt}if(T.length){q(L),M&&q(M);for(var j=new Array(O.length),Z=0,ut=O.length;Z<ut;Z++)j[Z]=O[Z].getValues();for(var ot=X.findCurveBoundsCollisions(j,j,0,!0),ft={},Z=0;Z<O.length;Z++){var mt=O[Z],et=mt._path._id,it=ft[et]=ft[et]||{};it[mt.getIndex()]={hor:H(ot[Z].hor),ver:H(ot[Z].ver)}}for(var Z=0,ut=T.length;Z<ut;Z++)y(T[Z]._segment,P,A,ft,C);for(var Z=0,ut=F.length;Z<ut;Z++){var ct=F[Z],yt=ct._intersection;ct._winding||y(ct,P,A,ft,C),yt&&yt._overlap||(ct._path._overlapsOnly=!1)}B=w(F,C)}else B=p(M?L.concat(M):L.slice(),function(xt){return!!C[xt]});return h(B,!0,v,x,b)}function f(v,x,c){var b=a(v),P=a(x),A=b.getIntersections(P,o),C=c==="subtract",T=c==="divide",L={},M=[];function F(q){if(!L[q._id]&&(T||P.contains(q.getPointAt(q.getLength()/2))^C))return M.unshift(q),L[q._id]=!0}for(var O=A.length-1;O>=0;O--){var B=A[O].split();B&&(F(B)&&B.getFirstSegment().setHandleIn(0,0),b.getLastSegment().setHandleOut(0,0))}return F(b),h(M,!1,v,x)}function g(v,x){for(var c=v;c;){if(c===x)return;c=c._previous}for(;v._next&&v._next!==x;)v=v._next;if(!v._next){for(;x._previous;)x=x._previous;v._next=x,x._previous=v}}function m(v){for(var x=v.length-1;x>=0;x--)v[x].clearHandles()}function p(v,x,c){var b=v&&v.length;if(b){var P=E.each(v,function(ot,ft){this[ot._id]={container:null,winding:ot.isClockwise()?1:-1,index:ft}},{}),A=v.slice().sort(function(ot,ft){return r(ft.getArea())-r(ot.getArea())}),C=A[0],T=X.findItemBoundsCollisions(A,null,$.GEOMETRIC_EPSILON);c==null&&(c=C.isClockwise());for(var L=0;L<b;L++){var M=A[L],F=P[M._id],O=0,B=T[L];if(B){for(var q=null,H=B.length-1;H>=0;H--)if(B[H]<L){q=q||M.getInteriorPoint();var j=A[B[H]];if(j.contains(q)){var Z=P[j._id];O=Z.winding,F.winding+=O,F.container=Z.exclude?Z.container:j;break}}}if(x(F.winding)===x(O))F.exclude=!0,v[F.index]=null;else{var ut=F.container;M.setClockwise(ut?!ut.isClockwise():c)}}}return v}function d(v,x,c){var b=x&&[],P=1e-8,A=1-P,C=!1,T=c||[],L=c&&{},M,F,O;function B(Pt){return Pt._path._id+"."+Pt._segment1._index}for(var q=(c&&c.length)-1;q>=0;q--){var H=c[q];H._path&&(L[B(H)]=!0)}for(var q=v.length-1;q>=0;q--){var j=v[q],Z=j._time,ut=Z,ot=x&&!x(j),H=j._curve,ft;if(H&&(H!==F?(C=!H.hasHandles()||L&&L[B(H)],M=[],O=null,F=H):O>=P&&(Z/=O)),ot){M&&M.push(j);continue}else x&&b.unshift(j);if(O=ut,Z<P)ft=H._segment1;else if(Z>A)ft=H._segment2;else{var mt=H.divideAtTime(Z,!0);C&&T.push(H,mt),ft=mt._segment1;for(var et=M.length-1;et>=0;et--){var it=M[et];it._time=(it._time-Z)/(1-Z)}}j._setSegment(ft);var ct=ft._intersection,yt=j._intersection;if(ct){g(ct,yt);for(var xt=ct;xt;)g(xt._intersection,ct),xt=xt._next}else ft._intersection=yt}return c||m(T),b||v}function S(v,x,c,b,P){var A=Array.isArray(x)?x:x[c?"hor":"ver"],C=c?1:0,T=C^1,L=[v.x,v.y],M=L[C],F=L[T],O=1e-9,B=1e-6,q=M-O,H=M+O,j=0,Z=0,ut=0,ot=0,ft=!1,mt=!1,et=1,it=[],ct,yt;function xt(qt){var Gt=qt[T+0],_e=qt[T+6];if(!(F<t(Gt,_e)||F>e(Gt,_e))){var ae=qt[C+0],ye=qt[C+2],Ve=qt[C+4],Pe=qt[C+6];if(Gt===_e){(ae<H&&Pe>q||Pe<H&&ae>q)&&(ft=!0);return}var be=F===Gt?0:F===_e||q>e(ae,ye,Ve,Pe)||H<t(ae,ye,Ve,Pe)?1:lt.solveCubic(qt,T,F,it,0,1)>0?it[0]:1,ve=be===0?ae:be===1?Pe:lt.getPoint(qt,be)[c?"y":"x"],me=Gt>_e?1:-1,ce=ct[T]>ct[T+6]?1:-1,$t=ct[C+6];return F!==Gt?(ve<q?ut+=me:ve>H?ot+=me:ft=!0,ve>M-B&&ve<M+B&&(et/=2)):(me!==ce?ae<q?ut+=me:ae>H&&(ot+=me):ae!=$t&&($t<H&&ve>H?(ot+=me,ft=!0):$t>q&&ve<q&&(ut+=me,ft=!0)),et/=4),ct=qt,!P&&ve>q&&ve<H&&lt.getTangent(qt,be)[c?"x":"y"]===0&&S(v,x,!c,b,!0)}}function Pt(qt){var Gt=qt[T+0],_e=qt[T+2],ae=qt[T+4],ye=qt[T+6];if(F<=e(Gt,_e,ae,ye)&&F>=t(Gt,_e,ae,ye)){for(var Ve=qt[C+0],Pe=qt[C+2],be=qt[C+4],ve=qt[C+6],me=q>e(Ve,Pe,be,ve)||H<t(Ve,Pe,be,ve)?[qt]:lt.getMonoCurves(qt,c),ce,$t=0,ci=me.length;$t<ci;$t++)if(ce=xt(me[$t]))return ce}}for(var kt=0,Ot=A.length;kt<Ot;kt++){var Rt=A[kt],Tt=Rt._path,ee=Rt.getValues(),re;if((!kt||A[kt-1]._path!==Tt)&&(ct=null,Tt._closed||(yt=lt.getValues(Tt.getLastCurve().getSegment2(),Rt.getSegment1(),null,!b),yt[T]!==yt[T+6]&&(ct=yt)),!ct)){ct=ee;for(var fe=Tt.getLastCurve();fe&&fe!==Rt;){var dt=fe.getValues();if(dt[T]!==dt[T+6]){ct=dt;break}fe=fe.getPrevious()}}if(re=Pt(ee))return re;if(kt+1===Ot||A[kt+1]._path!==Tt){if(yt&&(re=Pt(yt)))return re;ft&&!ut&&!ot&&(ut=ot=Tt.isClockwise(b)^c?1:-1),j+=ut,Z+=ot,ut=ot=0,ft&&(mt=!0,ft=!1),yt=null}}return j=r(j),Z=r(Z),{winding:e(j,Z),windingL:j,windingR:Z,quality:et,onPath:mt}}function y(v,x,c,b,P){var A=[],C=v,T=0,O;do{var L=v.getCurve();if(L){var M=L.getLength();A.push({segment:v,curve:L,length:M}),T+=M}v=v.getNext()}while(v&&!v._intersection&&v!==C);for(var F=[.5,.25,.75],O={winding:0,quality:-1},B=.001,q=1-B,H=0;H<F.length&&O.quality<.5;H++)for(var M=T*F[H],j=0,Z=A.length;j<Z;j++){var ut=A[j],ot=ut.length;if(M<=ot){var L=ut.curve,ft=L._path,mt=ft._parent,et=mt instanceof he?mt:ft,it=$.clamp(L.getTimeAt(M),B,q),ct=L.getPointAtTime(it),yt=r(L.getTangentAtTime(it).y)<Math.SQRT1_2,xt=null;if(P.subtract&&c){var Pt=et===x?c:x,kt=Pt._getWinding(ct,yt,!0);if(et===x&&kt.winding||et===c&&!kt.winding){if(kt.quality<1)continue;xt={winding:0,quality:1}}}xt=xt||S(ct,b[ft._id][L.getIndex()],yt,!0),xt.quality>O.quality&&(O=xt);break}M-=ot}for(var j=A.length-1;j>=0;j--)A[j].segment._winding=O}function w(v,x){var c=[],b;function P(Ot){var Rt;return!!(Ot&&!Ot._visited&&(!x||x[(Rt=Ot._winding||{}).winding]&&!(x.unite&&Rt.winding===2&&Rt.windingL&&Rt.windingR)))}function A(Ot){if(Ot){for(var Rt=0,Tt=b.length;Rt<Tt;Rt++)if(Ot===b[Rt])return!0}return!1}function C(Ot){for(var Rt=Ot._segments,Tt=0,ee=Rt.length;Tt<ee;Tt++)Rt[Tt]._visited=!0}function T(Ot,Rt){var Tt=Ot._intersection,ee=Tt,re=[];Rt&&(b=[Ot]);function fe(dt,qt){for(;dt&&dt!==qt;){var Gt=dt._segment,_e=Gt&&Gt._path;if(_e){var ae=Gt.getNext()||_e.getFirstSegment(),ye=ae._intersection;Gt!==Ot&&(A(Gt)||A(ae)||ae&&P(Gt)&&(P(ae)||ye&&P(ye._segment)))&&re.push(Gt),Rt&&b.push(Gt)}dt=dt._next}}if(Tt){for(fe(Tt);Tt&&Tt._previous;)Tt=Tt._previous;fe(Tt,ee)}return re}v.sort(function(Ot,Rt){var Tt=Ot._intersection,ee=Rt._intersection,re=!!(Tt&&Tt._overlap),fe=!!(ee&&ee._overlap),dt=Ot._path,qt=Rt._path;return re^fe?re?1:-1:!Tt^!ee?Tt?1:-1:dt!==qt?dt._id-qt._id:Ot._index-Rt._index});for(var L=0,M=v.length;L<M;L++){var F=v[L],O=P(F),B=null,q=!1,H=!0,j=[],Z,ut,ot;if(O&&F._path._overlapsOnly){var ft=F._path,mt=F._intersection._segment._path;ft.compare(mt)&&(ft.getArea()&&c.push(ft.clone(!1)),C(ft),C(mt),O=!1)}for(;O;){var et=!B,it=T(F,et),ct=it.shift(),q=!et&&(A(F)||A(ct)),yt=!q&&ct;if(et&&(B=new Ft(k.NO_INSERT),Z=null),q){(F.isFirst()||F.isLast())&&(H=F._path._closed),F._visited=!0;break}if(yt&&Z&&(j.push(Z),Z=null),Z||(yt&&it.push(F),Z={start:B._segments.length,crossings:it,visited:ut=[],handleIn:ot}),yt&&(F=ct),!P(F)){B.removeSegments(Z.start);for(var xt=0,Pt=ut.length;xt<Pt;xt++)ut[xt]._visited=!1;ut.length=0;do F=Z&&Z.crossings.shift(),(!F||!F._path)&&(F=null,Z=j.pop(),Z&&(ut=Z.visited,ot=Z.handleIn));while(Z&&!P(F));if(!F)break}var kt=F.getNext();B.add(new At(F._point,ot,kt&&F._handleOut)),F._visited=!0,ut.push(F),F=kt||F._path.getFirstSegment(),ot=kt&&kt._handleIn}q&&(H&&(B.getFirstSegment().setHandleIn(ot),B.setClosed(H)),B.getArea()!==0&&c.push(B))}return c}return{_getWinding:function(v,x,c){return S(v,this.getCurves(),x,c)},unite:function(v,x){return l(this,v,"unite",x)},intersect:function(v,x){return l(this,v,"intersect",x)},subtract:function(v,x){return l(this,v,"subtract",x)},exclude:function(v,x){return l(this,v,"exclude",x)},divide:function(v,x){return x&&(x.trace==!1||x.stroke)?f(this,v,"divide"):h([this.subtract(v,x),this.intersect(v,x)],!0,this,v,x)},resolveCrossings:function(){var v=this._children,x=v||[this];function c(Z,ut){var ot=Z&&Z._intersection;return ot&&ot._overlap&&ot._path===ut}var b=!1,P=!1,A=this.getIntersections(null,function(Z){return Z.hasOverlap()&&(b=!0)||Z.isCrossing()&&(P=!0)}),C=b&&P&&[];if(A=Se.expand(A),b)for(var T=d(A,function(Z){return Z.hasOverlap()},C),L=T.length-1;L>=0;L--){var M=T[L],F=M._path,O=M._segment,B=O.getPrevious(),q=O.getNext();c(B,F)&&c(q,F)&&(O.remove(),B._handleOut._set(0,0),q._handleIn._set(0,0),B!==O&&!B.getCurve().hasLength()&&(q._handleIn.set(B._handleIn),B.remove()))}P&&(d(A,b&&function(Z){var ut=Z.getCurve(),ot=Z.getSegment(),ft=Z._intersection,mt=ft._curve,et=ft._segment;if(ut&&mt&&ut._path&&mt._path)return!0;ot&&(ot._intersection=null),et&&(et._intersection=null)},C),C&&m(C),x=w(E.each(x,function(Z){E.push(this,Z._segments)},[])));var H=x.length,j;return H>1&&v?(x!==v&&this.setChildren(x),j=this):H===1&&!v&&(x[0]!==this&&this.setSegments(x[0].removeSegments()),j=this),j||(j=new he(k.NO_INSERT),j.addChildren(x),j=j.reduce(),j.copyAttributes(this),this.replaceWith(j)),j},reorient:function(v,x){var c=this._children;return c&&c.length?this.setChildren(p(this.removeChildren(),function(b){return!!(v?b:b&1)},x)):x!==N&&this.setClockwise(x),this},getInteriorPoint:function(){var v=this.getBounds(),x=v.getCenter(!0);if(!this.contains(x)){for(var c=this.getCurves(),b=x.y,P=[],A=[],C=0,T=c.length;C<T;C++){var L=c[C].getValues(),M=L[1],F=L[3],O=L[5],B=L[7];if(b>=t(M,F,O,B)&&b<=e(M,F,O,B))for(var q=lt.getMonoCurves(L),H=0,j=q.length;H<j;H++){var Z=q[H],ut=Z[1],ot=Z[7];if(ut!==ot&&(b>=ut&&b<=ot||b>=ot&&b<=ut)){var ft=b===ut?Z[0]:b===ot?Z[6]:lt.solveCubic(Z,1,b,A,0,1)===1?lt.getPoint(Z,A[0]).x:(Z[0]+Z[6])/2;P.push(ft)}}}P.length>1&&(P.sort(function(mt,et){return mt-et}),x.x=(P[0]+P[1])/2)}return x}}});var Mi=E.extend({_class:"PathFlattener",initialize:function(t,e,r,n,s){var a=[],h=[],o=0,l=1/(r||32),f=t._segments,g=f[0],m;function p(w,v){var x=lt.getValues(w,v,s);a.push(x),d(x,w._index,0,1)}function d(w,v,x,c){if(c-x>l&&!(n&&lt.isStraight(w))&&!lt.isFlatEnough(w,e||.25)){var b=lt.subdivide(w,.5),P=(x+c)/2;d(b[0],v,x,P),d(b[1],v,P,c)}else{var A=w[6]-w[0],C=w[7]-w[1],T=Math.sqrt(A*A+C*C);T>0&&(o+=T,h.push({offset:o,curve:w,index:v,time:c}))}}for(var S=1,y=f.length;S<y;S++)m=f[S],p(g,m),g=m;t._closed&&p(m||g,f[0]),this.curves=a,this.parts=h,this.length=o,this.index=0},_get:function(t){for(var e=this.parts,r=e.length,n,s=this.index;n=s,!(!s||e[--s].offset<t););for(;n<r;n++){var a=e[n];if(a.offset>=t){this.index=n;var h=e[n-1],o=h&&h.index===a.index?h.time:0,l=h?h.offset:0;return{index:a.index,time:o+(a.time-o)*(t-l)/(a.offset-l)}}}return{index:e[r-1].index,time:1}},drawPart:function(t,e,r){for(var n=this._get(e),s=this._get(r),a=n.index,h=s.index;a<=h;a++){var o=lt.getPart(this.curves[a],a===n.index?n.time:0,a===s.index?s.time:1);a===n.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},E.each(lt._evaluateMethods,function(t){this[t+"At"]=function(e){var r=this._get(e);return lt[t](this.curves[r.index],r.time)}},{})),He=E.extend({initialize:function(t){for(var e=this.points=[],r=t._segments,n=t._closed,s=0,a,h=r.length;s<h;s++){var o=r[s].point;(!a||!a.equals(o))&&e.push(a=o.clone())}n&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=n},fit:function(t){var e=this.points,r=e.length,n=null;return r>0&&(n=[new At(e[0])],r>1&&(this.fitCubic(n,t,0,r-1,e[1].subtract(e[0]),e[r-2].subtract(e[r-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(t,e,r,n,s,a){var h=this.points;if(n-r===1){var o=h[r],l=h[n],f=o.getDistance(l)/3;this.addCurve(t,[o,o.add(s.normalize(f)),l.add(a.normalize(f)),l]);return}for(var g=this.chordLengthParameterize(r,n),m=Math.max(e,e*e),p,d=!0,S=0;S<=4;S++){var y=this.generateBezier(r,n,g,s,a),w=this.findMaxError(r,n,y,g);if(w.error<e&&d){this.addCurve(t,y);return}if(p=w.index,w.error>=m)break;d=this.reparameterize(r,n,g,y),m=w.error}var v=h[p-1].subtract(h[p+1]);this.fitCubic(t,e,r,p,s,v),this.fitCubic(t,e,p,n,v.negate(),a)},addCurve:function(t,e){var r=t[t.length-1];r.setHandleOut(e[1].subtract(e[0])),t.push(new At(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,r,n,s){for(var a=1e-12,h=Math.abs,o=this.points,l=o[t],f=o[e],g=[[0,0],[0,0]],m=[0,0],p=0,d=e-t+1;p<d;p++){var S=r[p],y=1-S,w=3*S*y,v=y*y*y,x=w*y,c=w*S,b=S*S*S,P=n.normalize(x),A=s.normalize(c),C=o[t+p].subtract(l.multiply(v+x)).subtract(f.multiply(c+b));g[0][0]+=P.dot(P),g[0][1]+=P.dot(A),g[1][0]=g[0][1],g[1][1]+=A.dot(A),m[0]+=P.dot(C),m[1]+=A.dot(C)}var T=g[0][0]*g[1][1]-g[1][0]*g[0][1],L,M;if(h(T)>a){var F=g[0][0]*m[1]-g[1][0]*m[0],O=m[0]*g[1][1]-m[1]*g[0][1];L=O/T,M=F/T}else{var B=g[0][0]+g[0][1],q=g[1][0]+g[1][1];L=M=h(B)>a?m[0]/B:h(q)>a?m[1]/q:0}var H=f.getDistance(l),j=a*H,Z,ut;if(L<j||M<j)L=M=H/3;else{var ot=f.subtract(l);Z=n.normalize(L),ut=s.normalize(M),Z.dot(ot)-ut.dot(ot)>H*H&&(L=M=H/3,Z=ut=null)}return[l,l.add(Z||n.normalize(L)),f.add(ut||s.normalize(M)),f]},reparameterize:function(t,e,r,n){for(var s=t;s<=e;s++)r[s-t]=this.findRoot(n,this.points[s],r[s-t]);for(var s=1,a=r.length;s<a;s++)if(r[s]<=r[s-1])return!1;return!0},findRoot:function(t,e,r){for(var n=[],s=[],a=0;a<=2;a++)n[a]=t[a+1].subtract(t[a]).multiply(3);for(var a=0;a<=1;a++)s[a]=n[a+1].subtract(n[a]).multiply(2);var h=this.evaluate(3,t,r),o=this.evaluate(2,n,r),l=this.evaluate(1,s,r),f=h.subtract(e),g=o.dot(o)+f.dot(l);return $.isMachineZero(g)?r:r-f.dot(o)/g},evaluate:function(t,e,r){for(var n=e.slice(),s=1;s<=t;s++)for(var a=0;a<=t-s;a++)n[a]=n[a].multiply(1-r).add(n[a+1].multiply(r));return n[0]},chordLengthParameterize:function(t,e){for(var r=[0],n=t+1;n<=e;n++)r[n-t]=r[n-t-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,s=e-t;n<=s;n++)r[n]/=r[s];return r},findMaxError:function(t,e,r,n){for(var s=Math.floor((e-t+1)/2),a=0,h=t+1;h<e;h++){var o=this.evaluate(3,r,n[h-t]),l=o.subtract(this.points[h]),f=l.x*l.x+l.y*l.y;f>=a&&(a=f,s=h)}return{error:a,index:s}}}),ze=k.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var r=e&&E.isPlainObject(e)&&e.x===N&&e.y===N;this._initialize(r&&e,!r&&z.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),xi=ze.extend({_class:"PointText",initialize:function(){ze.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new pt(t.x,t.y,this,"setPoint")},setPoint:function(){var t=z.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,r){if(this._content){this._setStyles(t,e,r);var n=this._lines,s=this._style,a=s.hasFill(),h=s.hasStroke(),o=s.getLeading(),l=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var f=0,g=n.length;f<g;f++){t.shadowColor=l;var m=n[f];a&&(t.fillText(m,0,0),t.shadowColor="rgba(0,0,0,0)"),h&&t.strokeText(m,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var r=this._style,n=this._lines,s=n.length,a=r.getJustification(),h=r.getLeading(),o=this.getView().getTextWidth(r.getFontStyle(),n),l=0;a!=="left"&&(l-=o/(a==="center"?2:1));var f=new gt(l,s?-.75*h:0,o,s*h);return t?t._transformBounds(f,f):f}}),Qt=E.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},r={transparent:[0,0,0,0]},n;function s(o){var l=o.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||o.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),f="rgb",g;if(l){var m=l[4]?4:3;g=new Array(m);for(var p=0;p<m;p++){var d=l[p+1];g[p]=parseInt(d.length==1?d+d:d,16)/255}}else if(l=o.match(/^(rgb|hsl)a?\((.*)\)$/)){f=l[1],g=l[2].trim().split(/[,\s]+/g);for(var S=f==="hsl",p=0,y=Math.min(g.length,4);p<y;p++){var w=g[p],d=parseFloat(w);if(S)if(p===0){var v=w.match(/([a-z]*)$/)[1];d*={turn:360,rad:180/Math.PI,grad:.9}[v]||1}else p<3&&(d/=100);else p<3&&(d/=/%$/.test(w)?100:255);g[p]=d}}else{var x=r[o];if(!x)if(G){n||(n=te.getContext(1,1,{willReadFrequently:!0}),n.globalCompositeOperation="copy"),n.fillStyle="rgba(0,0,0,0)",n.fillStyle=o,n.fillRect(0,0,1,1);var c=n.getImageData(0,0,1,1).data;x=r[o]=[c[0]/255,c[1]/255,c[2]/255]}else x=[0,0,0];g=x.slice()}return[f,g]}var a=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],h={"rgb-hsb":function(o,l,f){var g=Math.max(o,l,f),m=Math.min(o,l,f),p=g-m,d=p===0?0:(g==o?(l-f)/p+(l<f?6:0):g==l?(f-o)/p+2:(o-l)/p+4)*60;return[d,g===0?0:p/g,g]},"hsb-rgb":function(o,l,f){o=(o/60%6+6)%6;var m=Math.floor(o),g=o-m,m=a[m],p=[f,f*(1-l),f*(1-l*g),f*(1-l*(1-g))];return[p[m[0]],p[m[1]],p[m[2]]]},"rgb-hsl":function(o,l,f){var g=Math.max(o,l,f),m=Math.min(o,l,f),p=g-m,d=p===0,S=d?0:(g==o?(l-f)/p+(l<f?6:0):g==l?(f-o)/p+2:(o-l)/p+4)*60,y=(g+m)/2,w=d?0:y<.5?p/(g+m):p/(2-g-m);return[S,w,y]},"hsl-rgb":function(o,l,f){if(o=(o/360%1+1)%1,l===0)return[f,f,f];for(var g=[o+1/3,o,o-1/3],m=f<.5?f*(1+l):f+l-f*l,p=2*f-m,d=[],S=0;S<3;S++){var y=g[S];y<0&&(y+=1),y>1&&(y-=1),d[S]=6*y<1?p+(m-p)*6*y:2*y<1?m:3*y<2?p+(m-p)*(2/3-y)*6:p}return d},"rgb-gray":function(o,l,f){return[o*.2989+l*.587+f*.114]},"gray-rgb":function(o){return[o,o,o]},"gray-hsb":function(o){return[0,0,o]},"gray-hsl":function(o){return[0,0,o]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return E.each(t,function(o,l){e[l]=[],E.each(o,function(f,g){var m=E.capitalize(f),p=/^(hue|saturation)$/.test(f),d=e[l][g]=l==="gradient"?f==="gradient"?function(S){var y=this._components[0];return S=Qe.read(Array.isArray(S)?S:arguments,0,{readNull:!0}),y!==S&&(y&&y._removeOwner(this),S&&S._addOwner(this)),S}:function(){return z.read(arguments,0,{readNull:f==="highlight",clone:!0})}:function(S){return S==null||isNaN(S)?0:+S};this["get"+m]=function(){return this._type===l||p&&/^hs[bl]$/.test(this._type)?this._components[g]:this._convert(l)[g]},this["set"+m]=function(S){this._type!==l&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(l),this._properties=t[l],this._type=l),this._components[g]=d.call(this,S),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function o(l){var f=arguments,g=this.__read,m=0,p,d,S,y;Array.isArray(l)&&(f=l,l=f[0]);var w=l!=null&&typeof l;if(w==="string"&&l in t&&(p=l,l=f[1],Array.isArray(l)?(d=l,S=f[2]):(g&&(m=1),f=E.slice(f,1),w=typeof l)),!d){if(y=w==="number"?f:w==="object"&&l.length!=null?l:null,y){p||(p=y.length>=3?"rgb":"gray");var v=t[p].length;S=y[v],g&&(m+=y===arguments?v+(S!=null?1:0):1),y.length>v&&(y=E.slice(y,0,v))}else if(w==="string"){var x=s(l);p=x[0],d=x[1],d.length===4&&(S=d[3],d.length--)}else if(w==="object")if(l.constructor===o){if(p=l._type,d=l._components.slice(),S=l._alpha,p==="gradient")for(var c=1,b=d.length;c<b;c++){var P=d[c];P&&(d[c]=P.clone())}}else if(l.constructor===Qe)p="gradient",y=f;else{p="hue"in l?"lightness"in l?"hsl":"hsb":"gradient"in l||"stops"in l||"radial"in l?"gradient":"gray"in l?"gray":"rgb";var A=t[p],C=e[p];this._components=d=[];for(var c=0,b=A.length;c<b;c++){var T=l[A[c]];T==null&&!c&&p==="gradient"&&"stops"in l&&(T={stops:l.stops,radial:l.radial}),T=C[c].call(this,T),T!=null&&(d[c]=T)}S=l.alpha}g&&p&&(m=1)}if(this._type=p||"rgb",!d){this._components=d=[];for(var C=e[this._type],c=0,b=C.length;c<b;c++){var T=C[c].call(this,y&&y[c]);T!=null&&(d[c]=T)}}return this._components=d,this._properties=t[this._type],this._alpha=S,g&&(this.__read=m),this},set:"#initialize",_serialize:function(o,l){var f=this.getComponents();return E.serialize(/^(gray|rgb)$/.test(this._type)?f:[this._type].concat(f),o,!0,l)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(o){var l;return this._type===o?this._components.slice():(l=h[this._type+"-"+o])?l.apply(this,this._components):h["rgb-"+o].apply(this,h[this._type+"-rgb"].apply(this,this._components))},convert:function(o){return new Qt(o,this._convert(o),this._alpha)},getType:function(){return this._type},setType:function(o){this._components=this._convert(o),this._properties=t[o],this._type=o},getComponents:function(){var o=this._components.slice();return this._alpha!=null&&o.push(this._alpha),o},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(o){this._alpha=o==null?null:Math.min(Math.max(o,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(o){var l=E.isPlainValue(o,!0)?Qt.read(arguments):o;return l===this||l&&this._class===l._class&&this._type===l._type&&this.getAlpha()===l.getAlpha()&&E.equals(this._components,l._components)||!1},toString:function(){for(var o=this._properties,l=[],f=this._type==="gradient",g=W.instance,m=0,p=o.length;m<p;m++){var d=this._components[m];d!=null&&l.push(o[m]+": "+(f?d:g.number(d)))}return this._alpha!=null&&l.push("alpha: "+g.number(this._alpha)),"{ "+l.join(", ")+" }"},toCSS:function(o){var l=this._convert("rgb"),f=o||this._alpha==null?1:this._alpha;function g(m){return Math.round((m<0?0:m>1?1:m)*255)}return l=[g(l[0]),g(l[1]),g(l[2])],f<1&&l.push(f<0?0:f),o?"#"+((1<<24)+(l[0]<<16)+(l[1]<<8)+l[2]).toString(16).slice(1):(l.length==4?"rgba(":"rgb(")+l.join(",")+")"},toCanvasStyle:function(o,l){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var f=this._components,g=f[0],m=g._stops,p=f[1],d=f[2],S=f[3],y=l&&l.inverted(),w;if(y&&(p=y._transformPoint(p),d=y._transformPoint(d),S&&(S=y._transformPoint(S))),g._radial){var v=d.getDistance(p);if(S){var x=S.subtract(p);x.getLength()>v&&(S=p.add(x.normalize(v-.1)))}var c=S||p;w=o.createRadialGradient(c.x,c.y,0,p.x,p.y,v)}else w=o.createLinearGradient(p.x,p.y,d.x,d.y);for(var b=0,P=m.length;b<P;b++){var A=m[b],C=A._offset;w.addColorStop(C??b/(P-1),A._color.toCanvasStyle())}return this._canvasStyle=w},transform:function(o){if(this._type==="gradient"){for(var l=this._components,f=1,g=l.length;f<g;f++){var m=l[f];o._transformPoint(m,m,!0)}this._changed()}},statics:{_types:t,random:function(){var o=Math.random;return new Qt(o(),o(),o())},_setOwner:function(o,l,f){return o&&(o._owner&&l&&o._owner!==l&&(o=o.clone()),!o._owner^!l&&(o._owner=l||null,o._setter=f||null)),o}}})},new function(){var t={add:function(e,r){return e+r},subtract:function(e,r){return e-r},multiply:function(e,r){return e*r},divide:function(e,r){return e/r}};return E.each(t,function(e,r){this[r]=function(n){n=Qt.read(arguments);for(var s=this._type,a=this._components,h=n._convert(s),o=0,l=a.length;o<l;o++)h[o]=e(a[o],h[o]);return new Qt(s,h,this._alpha!=null?e(this._alpha,n.getAlpha()):null)}},{})}),Qe=E.extend({_class:"Gradient",initialize:function(e,r){this._id=st.get(),e&&E.isPlainObject(e)&&(this.set(e),e=r=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof r=="string"&&r==="radial"||r||!1)},_serialize:function(t,e){return e.add(this,function(){return E.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=N))},clone:function(){for(var t=[],e=0,r=this._stops.length;e<r;e++)t[e]=this._stops[e].clone();return new Qe(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var r=0,n=e.length;r<n;r++)e[r]._owner=N;e=this._stops=yi.readList(t,0,{clone:!0});for(var r=0,n=e.length;r<n;r++)e[r]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,r=t._stops,n=e.length;if(n===r.length){for(var s=0;s<n;s++)if(!e[s].equals(r[s]))return!1;return!0}}return!1}}),yi=E.extend({_class:"GradientStop",initialize:function(e,r){var n=e,s=r;typeof e=="object"&&r===N&&(Array.isArray(e)&&typeof e[0]!="number"?(n=e[0],s=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(n=e.color,s=e.offset||e.rampPoint||0)),this.setColor(n),this.setOffset(s)},clone:function(){return new yi(this._color.clone(),this._offset)},_serialize:function(t,e){var r=this._color,n=this._offset;return E.serialize(n==null?[r]:[r,n],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Qt._setOwner(this._color,null),this._color=Qt._setOwner(Qt.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),bi=E.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new z,selectedColor:null},e=E.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),r=E.set({},e,{fillColor:new Qt}),n={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},a={_class:"Style",beans:!0,initialize:function(o,l,f){this._values={},this._owner=l,this._project=l&&l._project||f||Bt.project,this._defaults=!l||l instanceof jt?e:l instanceof ze?r:t,o&&this.set(o)}};return E.each(e,function(h,o){var l=/Color$/.test(o),f=o==="shadowOffset",g=E.capitalize(o),m=n[o],p="set"+g,d="get"+g;a[p]=function(S){var y=this._owner,w=y&&y._children,v=w&&w.length>0&&!(y instanceof he);if(v)for(var x=0,c=w.length;x<c;x++)w[x]._style[p](S);if((o==="selectedColor"||!v)&&o in this._defaults){var b=this._values[o];b!==S&&(l&&(b&&(Qt._setOwner(b,null),b._canvasStyle=null),S&&S.constructor===Qt&&(S=Qt._setOwner(S,y,v&&p))),this._values[o]=S,y&&y._changed(m||129))}},a[d]=function(S){var y=this._owner,w=y&&y._children,v=w&&w.length>0&&!(y instanceof he),x;if(v&&!S)for(var c=0,b=w.length;c<b;c++){var P=w[c]._style[d]();if(!c)x=P;else if(!E.equals(x,P))return N}else if(o in this._defaults){var x=this._values[o];if(x===N)x=this._defaults[o],x&&x.clone&&(x=x.clone());else{var A=l?Qt:f?z:null;A&&!(x&&x.constructor===A)&&(this._values[o]=x=A.read([x],0,{readNull:!0,clone:!0}))}}return x&&l&&(x=Qt._setOwner(x,y,v&&p)),x},s[d]=function(S){return this._style[d](S)},s[p]=function(S){this._style[p](S)}}),E.each({Font:"FontFamily",WindingRule:"FillRule"},function(h,o){var l="get"+o,f="set"+o;a[l]=s[l]="#get"+h,a[f]=s[f]="#set"+h}),k.inject(s),a},{set:function(t){var e=t instanceof bi,r=e?t._values:t;if(r){for(var n in r)if(n in this._defaults){var s=r[n];this[n]=s&&e&&s.clone?s.clone():s}}},equals:function(t){function e(r,n,s){var a=r._values,h=n._values,o=n._defaults;for(var l in a){var f=a[l],g=h[l];if(!(s&&l in h)&&!E.equals(f,g===N?o[l]:g))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),r=this.getFontSize();return/pt|em|%|px/.test(r)&&(r=this.getView().getPixelSize(r)),e??r*1.2}}),Xt=new function(){function t(e,r,n,s){for(var a=["","webkit","moz","Moz","ms","o"],h=r[0].toUpperCase()+r.substring(1),o=0;o<6;o++){var l=a[o],f=l?l+h:r;if(f in e){if(n)e[f]=s;else return e[f];break}}}return{getStyles:function(e){var r=e&&e.nodeType!==9?e.ownerDocument:e,n=r&&r.defaultView;return n&&n.getComputedStyle(e,"")},getBounds:function(e,r){var n=e.ownerDocument,s=n.body,a=n.documentElement,h;try{h=e.getBoundingClientRect()}catch{h={left:0,top:0,width:0,height:0}}var o=h.left-(a.clientLeft||s.clientLeft||0),l=h.top-(a.clientTop||s.clientTop||0);if(!r){var f=n.defaultView;o+=f.pageXOffset||a.scrollLeft||s.scrollLeft,l+=f.pageYOffset||a.scrollTop||s.scrollTop}return new gt(o,l,h.width,h.height)},getViewportBounds:function(e){var r=e.ownerDocument,n=r.defaultView,s=r.documentElement;return new gt(0,0,n.innerWidth||s.clientWidth,n.innerHeight||s.clientHeight)},getOffset:function(e,r){return Xt.getBounds(e,r).getPoint()},getSize:function(e){return Xt.getBounds(e,!0).getSize()},isInvisible:function(e){return Xt.getSize(e).equals(new nt(0,0))},isInView:function(e){return!Xt.isInvisible(e)&&Xt.getViewportBounds(e).intersects(Xt.getBounds(e,!0))},isInserted:function(e){return Q.body.contains(e)},getPrefixed:function(e,r){return e&&t(e,r)},setPrefixed:function(e,r,n){if(typeof r=="object")for(var s in r)t(e,s,!0,r[s]);else t(e,r,!0,n)}}},Zt={add:function(t,e){if(t)for(var r in e)for(var n=e[r],s=r.split(/[\s,]+/g),a=0,h=s.length;a<h;a++){var o=s[a],l=t===Q&&(o==="touchstart"||o==="touchmove")?{passive:!1}:!1;t.addEventListener(o,n,l)}},remove:function(t,e){if(t)for(var r in e)for(var n=e[r],s=r.split(/[\s,]+/g),a=0,h=s.length;a<h;a++)t.removeEventListener(s[a],n,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new z(e.pageX||e.clientX+Q.documentElement.scrollLeft,e.pageY||e.clientY+Q.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Zt.getPoint(t).subtract(Xt.getOffset(e||Zt.getTarget(t)))}};Zt.requestAnimationFrame=new function(){var t=Xt.getPrefixed(G,"requestAnimationFrame"),e=!1,r=[],n;function s(){var a=r;r=[];for(var h=0,o=a.length;h<o;h++)a[h]();e=t&&r.length,e&&t(s)}return function(a){r.push(a),t?e||(t(s),e=!0):n||(n=setInterval(s,1e3/60))}};var Yt=E.extend(at,{_class:"View",initialize:function t(e,r){function n(m){return r[m]||parseInt(r.getAttribute(m),10)}function s(){var m=Xt.getSize(r);return m.isNaN()||m.isZero()?new nt(n("width"),n("height")):m}var a;if(G&&r){this._id=r.getAttribute("id"),this._id==null&&r.setAttribute("id",this._id="paper-view-"+t._id++),Zt.add(r,this._viewEvents);var h="none";if(Xt.setPrefixed(r.style,{userDrag:h,userSelect:h,touchCallout:h,contentZooming:h,tapHighlightColor:"rgba(0,0,0,0)"}),D.hasAttribute(r,"resize")){var o=this;Zt.add(G,this._windowEvents={resize:function(){o.setViewSize(s())}})}if(a=s(),D.hasAttribute(r,"stats")&&typeof Stats<"u"){this._stats=new Stats;var l=this._stats.domElement,f=l.style,g=Xt.getOffset(r);f.position="absolute",f.left=g.x+"px",f.top=g.y+"px",Q.body.appendChild(l)}}else a=new nt(r),r=null;this._project=e,this._scope=e._scope,this._element=r,this._pixelRatio||(this._pixelRatio=G&&G.devicePixelRatio||1),this._setElementSize(a.width,a.height),this._viewSize=a,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new St)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Bt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Yt._focused===this&&(Yt._focused=null),Yt._views.splice(Yt._views.indexOf(this),1),delete Yt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Zt.remove(this._element,this._viewEvents),Zt.remove(G,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:E.each(k._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Zt.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;(!Xt.getPrefixed(Q,"hidden")||D.getAttribute(e,"keepalive")==="true")&&Xt.isInView(e)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Bt=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new E({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var r=this._frameItems;e?(r[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete r[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var r=this._frameItems[e];r.item.emit("frame",new E(t,{time:r.time+=t.delta,count:r.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=N},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new Ct(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=nt.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var r=this._element;r&&(r.width!==t&&(r.width=t),r.height!==e&&(r.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new gt(new z,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Xt.isInView(this._element)},isInserted:function(){return Xt.isInserted(this._element)},getPixelSize:function(t){var e=this._element,r;if(e){var n=e.parentNode,s=Q.createElement("div");s.style.fontSize=t,n.appendChild(s),r=parseFloat(Xt.getStyles(s).fontSize),n.removeChild(s)}else r=parseFloat(r);return r},getTextWidth:function(t,e){return 0}},E.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var r=arguments,n=(e?E:z).read(r),s=z.read(r,0,{readNull:!0});return this.transform(new St()[t](n,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new St;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=z.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new St().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();e!=null&&t!=null&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new pt(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=z.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(z.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(z.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(z.read(arguments))},getEventPoint:function(t){return this.viewToProject(Zt.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){Q&&typeof e=="string"&&(e=Q.getElementById(e));var r=G?zi:Yt;return new r(t,e)}}},new function(){if(!G)return;var t,e,r=!1,n=!1;function s(O){var B=Zt.getTarget(O);return B.getAttribute&&Yt._viewsById[B.getAttribute("id")]}function a(){var O=Yt._focused;if(!O||!O.isVisible()){for(var B=0,q=Yt._views.length;B<q;B++)if((O=Yt._views[B]).isVisible()){Yt._focused=e=O;break}}}function h(O,B,q){O._handleMouseEvent("mousemove",B,q)}var o=G.navigator,l,f,g;o.pointerEnabled||o.msPointerEnabled?(l="pointerdown MSPointerDown",f="pointermove MSPointerMove",g="pointerup pointercancel MSPointerUp MSPointerCancel"):(l="touchstart",f="touchmove",g="touchend touchcancel","ontouchstart"in G&&o.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(l+=" mousedown",f+=" mousemove",g+=" mouseup"));var m={},p={mouseout:function(O){var B=Yt._focused,q=Zt.getRelatedTarget(O);if(B&&(!q||q.nodeName==="HTML")){var H=Zt.getOffset(O,B._element),j=H.x,Z=Math.abs,ut=Z(j),ot=1<<25,ft=ut-ot;H.x=Z(ft)<ut?ft*(j<0?-1:1):j,h(B,O,B.viewToProject(H))}},scroll:a};m[l]=function(O){var B=Yt._focused=s(O);r||(r=!0,B._handleMouseEvent("mousedown",O))},p[f]=function(O){var B=Yt._focused;if(!n){var q=s(O);q?B!==q&&(B&&h(B,O),t||(t=B),B=Yt._focused=e=q):e&&e===B&&(t&&!t.isInserted()&&(t=null),B=Yt._focused=t,t=null,a())}B&&h(B,O)},p[l]=function(){n=!0},p[g]=function(O){var B=Yt._focused;B&&r&&B._handleMouseEvent("mouseup",O),n=r=!1},Zt.add(Q,p),Zt.add(G,{load:a});var d=!1,S=!1,y={doubleclick:"click",mousedrag:"mousemove"},w=!1,v,x,c,b,P,A,C,T;function L(O,B,q,H,j,Z,ut){var ot=!1,ft;function mt(et,it){if(et.responds(it)){if(ft||(ft=new Bi(it,H,j,B||et,Z?j.subtract(Z):null)),et.emit(it,ft)&&(d=!0,ft.prevented&&(S=!0),ft.stopped))return ot=!0}else{var ct=y[it];if(ct)return mt(et,ct)}}for(;O&&O!==ut&&!mt(O,q);)O=O._parent;return ot}function M(O,B,q,H,j,Z){return O._project.removeOn(q),S=d=!1,P&&L(P,null,q,H,j,Z)||B&&B!==P&&!B.isDescendant(P)&&L(B,null,q==="mousedrag"?"mousemove":q,H,j,Z,P)||L(O,P||B||O,q,H,j,Z)}var F={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:m,_handleMouseEvent:function(O,B,q){var H=this._itemEvents,j=H.native[O],Z=O==="mousemove",ut=this._scope.tool,ot=this;function ft(Pt){return H.virtual[Pt]||ot.responds(Pt)||ut&&ut.responds(Pt)}Z&&r&&ft("mousedrag")&&(O="mousedrag"),q||(q=this.getEventPoint(B));var mt=this.getBounds().contains(q),et=j&&mt&&ot._project.hitTest(q,{tolerance:0,fill:!0,stroke:!0}),it=et&&et.item||null,ct=!1,yt={};if(yt[O.substr(5)]=!0,j&&it!==b&&(b&&L(b,null,"mouseleave",B,q),it&&L(it,null,"mouseenter",B,q),b=it),w^mt&&(L(this,null,mt?"mouseenter":"mouseleave",B,q),ct=!0),(mt||yt.drag)&&!q.equals(x)&&(M(this,it,Z?O:"mousemove",B,q,x),ct=!0),w=mt,yt.down&&mt||yt.up&&v){if(M(this,it,O,B,q,v),yt.down){if(T=it===A&&Date.now()-C<300,c=A=it,!S&&it){for(var xt=it;xt&&!xt.responds("mousedrag");)xt=xt._parent;xt&&(P=it)}v=q}else yt.up&&(!S&&it===c&&(C=Date.now(),M(this,it,T?"doubleclick":"click",B,q,v),T=!1),c=P=null);w=!1,ct=!0}x=q,ct&&ut&&(d=ut._handleMouseEvent(O,B,q,yt)||d),B.cancelable!==!1&&(d&&!yt.move||yt.down&&ft("mouseup"))&&B.preventDefault()},_handleKeyEvent:function(O,B,q,H){var j=this._scope,Z=j.tool,ut;function ot(ft){ft.responds(O)&&(Bt=j,ft.emit(O,ut=ut||new Vi(O,B,q,H)))}this.isVisible()&&(ot(this),Z&&Z.responds(O)&&ot(Z))},_countItemEvent:function(O,B){var q=this._itemEvents,H=q.native,j=q.virtual;for(var Z in F)H[Z]=(H[Z]||0)+(F[Z][O]||0)*B;j[O]=(j[O]||0)+B},statics:{updateFocus:a,_resetState:function(){r=n=d=w=!1,t=e=v=x=c=b=P=A=C=T=null}}}}),zi=Yt.extend({_class:"CanvasView",initialize:function(e,r){if(!(r instanceof G.HTMLCanvasElement)){var n=nt.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+E.slice(arguments,1));r=te.getCanvas(n)}var s=this._context=r.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(D.getAttribute(r,"hidpi"))){var a=G.devicePixelRatio||1,h=Xt.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=a/h}Yt.call(this,e,r),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,r){var n=this._pixelRatio;if(t.base.call(this,e*n,r*n),n!==1){var s=this._element,a=this._context;if(!D.hasAttribute(s,"resize")){var h=s.style;h.width=e+"px",h.height=r+"px"}a.restore(),a.save(),a.scale(n,n)}},getContext:function(){return this._context},getPixelSize:function t(e){var r=Bt.agent,n;if(r&&r.firefox)n=t.base.call(this,e);else{var s=this._context,a=s.font;s.font=e+" serif",n=parseFloat(s.font),s.font=a}return n},getTextWidth:function(t,e){var r=this._context,n=r.font,s=0;r.font=t;for(var a=0,h=e.length;a<h;a++)s=Math.max(s,r.measureText(e[a]).width);return r.font=n,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,r=this._viewSize;return e.clearRect(0,0,r.width+1,r.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Je=E.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return fi.modifiers}}),Vi=Je.extend({_class:"KeyEvent",initialize:function(e,r,n,s){this.type=e,this.event=r,this.key=n,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),fi=new function(){var t={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},r={},n={},s,a,h=new E({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var f=Bt&&Bt.agent;return f&&f.mac?this.meta:this.control}}});function o(f){var g=f.key||f.keyIdentifier;return g=/^U\+/.test(g)?String.fromCharCode(parseInt(g.substr(2),16)):/^Arrow[A-Z]/.test(g)?g.substr(5):g==="Unidentified"||g===N?String.fromCharCode(f.keyCode):g,t[g]||(g.length>1?E.hyphenate(g):g.toLowerCase())}function l(f,g,m,p){var d=Yt._focused,S;if(r[g]=f,f?n[g]=m:delete n[g],g.length>1&&(S=E.camelize(g))in h){h[S]=f;var y=Bt&&Bt.agent;if(S==="meta"&&y&&y.mac)if(f)s={};else{for(var w in s)w in n&&l(!1,w,s[w],p);s=null}}else f&&s&&(s[g]=m);d&&d._handleKeyEvent(f?"keydown":"keyup",p,g,m)}return Zt.add(Q,{keydown:function(f){var g=o(f),m=Bt&&Bt.agent;g.length>1||m&&m.chrome&&(f.altKey||m.mac&&f.metaKey||!m.mac&&f.ctrlKey)?l(!0,g,e[g]||(g.length>1?"":g),f):a=g},keypress:function(f){if(a){var g=o(f),m=f.charCode,p=m>=32?String.fromCharCode(m):g.length>1?"":g;g!==a&&(g=p.toLowerCase()),l(!0,g,p,f),a=null}},keyup:function(f){var g=o(f);g in n&&l(!1,g,n[g],f)}}),Zt.add(G,{blur:function(f){for(var g in n)l(!1,g,n[g],f)}}),{modifiers:h,isDown:function(f){return!!r[f]}}},Bi=Je.extend({_class:"MouseEvent",initialize:function(e,r,n,s,a){this.type=e,this.event=r,this.point=n,this.target=s,this.delta=a},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),$e=Je.extend({_class:"ToolEvent",_item:null,initialize:function(e,r,n){this.tool=e,this.type=r,this.event=n},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,r=e._parent;/^(Group|CompoundPath)$/.test(r._class);)e=r,r=r._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),wi=J.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){J.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,r,n){Bt=this._scope,n.drag&&!this.responds(t)&&(t="mousemove");var s=n.move||n.drag,a=this.responds(t),h=!1,o=this;function l(g,m){var p=r,d=s?o._point:o._downPoint||p;if(s){if(o._moveCount>=0&&p.equals(d))return!1;if(d&&(g!=null||m!=null)){var S=p.subtract(d),y=S.getLength();if(y<(g||0))return!1;m&&(p=d.add(S.normalize(Math.min(y,m))))}o._moveCount++}return o._point=p,o._lastPoint=d||p,n.down&&(o._moveCount=-1,o._downPoint=p,o._downCount++),!0}function f(){a&&(h=o.emit(t,new $e(o,t,e))||h)}if(n.down)l(),f();else if(n.up)l(null,this._maxDistance),f();else if(a)for(;l(this._minDistance,this._maxDistance);)f();return h}}),Ci=E.extend(at,{_class:"Tween",statics:{easings:new E({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,r,n,s,a,h){this.object=e;var o=typeof a,l=o==="function";this.type=l?o:o==="string"?a:"linear",this.easing=l?a:t.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var f=r||n;this._keys=f?Object.keys(f):[],this._parsedKeys=this._parseKeys(this._keys),this._from=f&&this._getState(r),this._to=f&&this._getState(n),h!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),r=this._keys,n=function(g){return typeof g=="function"?g(e,t):g},s=0,a=r&&r.length;s<a;s++){var h=r[s],o=n(this._from[h]),l=n(this._to[h]),f=o&&l&&o.__add&&l.__add?l.__subtract(o).__multiply(e).__add(o):(l-o)*e+o;this._setProperty(this._parsedKeys[h],f)}this.responds("update")&&this.emit("update",new E({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,r=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(r)},_getState:function(t){for(var e=this._keys,r={},n=0,s=e.length;n<s;n++){var a=e[n],h=this._parsedKeys[a],o=this._getProperty(h),l;if(t){var f=this._resolveValue(o,t[a]);this._setProperty(h,f),l=this._getProperty(h),l=l&&l.clone?l.clone():l,this._setProperty(h,o)}else l=o&&o.clone?o.clone():o;r[a]=l}return r},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&e.length===2){var r=e[0];return r&&r.match&&r.match(/^[+\-\*\/]=/)?this._calculate(t,r[0],e[1]):e}else if(typeof e=="string"){var n=e.match(/^[+\-*/]=(.*)/);if(n){var s=JSON.parse(n[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],s)}}}return e},_calculate:function(t,e,r){return Bt.PaperScript.calculateBinary(t,e,r)},_parseKeys:function(t){for(var e={},r=0,n=t.length;r<n;r++){var s=t[r],a=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[s]=a.split("/")}return e},_getProperty:function(t,e){for(var r=this.object,n=0,s=t.length-(e||0);n<s&&r;n++)r=r[t[n]];return r},_setProperty:function(t,e){var r=this._getProperty(t,1);r&&(r[t[t.length-1]]=e)}}),ti={request:function(t){var e=new vt.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,E.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var r=e.status;r===0||r===200?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var r=e.status,n='Could not load "'+t.url+'" (Status: '+r+")";if(t.onError)t.onError(n,r);else throw new Error(n)},e.send(null)}},te=E.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,r){if(!G)return null;var n,s=!0;typeof t=="object"&&(e=t.height,t=t.width),this.canvases.length?n=this.canvases.pop():(n=Q.createElement("canvas"),s=!1);var a=n.getContext("2d",r||{});if(!a)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===t&&n.height===e?s&&a.clearRect(0,0,t+1,e+1):(n.width=t,n.height=e),a.save(),n},getContext:function(t,e,r){var n=this.getCanvas(t,e,r);return n?n.getContext("2d",r||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},ke=new function(){var t=Math.min,e=Math.max,r=Math.abs,n,s,a,h,o,l,f,g,m,p,d;function S(P,A,C){return .2989*P+.587*A+.114*C}function y(P,A,C,M){var L=M-S(P,A,C);m=P+L,p=A+L,d=C+L;var M=S(m,p,d),F=t(m,p,d),O=e(m,p,d);if(F<0){var B=M-F;m=M+(m-M)*M/B,p=M+(p-M)*M/B,d=M+(d-M)*M/B}if(O>255){var q=255-M,H=O-M;m=M+(m-M)*q/H,p=M+(p-M)*q/H,d=M+(d-M)*q/H}}function w(P,A,C){return e(P,A,C)-t(P,A,C)}function v(P,A,C,T){var L=[P,A,C],M=e(P,A,C),F=t(P,A,C),O;F=F===P?0:F===A?1:2,M=M===P?0:M===A?1:2,O=t(F,M)===0?e(F,M)===1?2:1:0,L[M]>L[F]?(L[O]=(L[O]-L[F])*T/(L[M]-L[F]),L[M]=T):L[O]=L[M]=0,L[F]=0,m=L[0],p=L[1],d=L[2]}var x={multiply:function(){m=o*n/255,p=l*s/255,d=f*a/255},screen:function(){m=o+n-o*n/255,p=l+s-l*s/255,d=f+a-f*a/255},overlay:function(){m=o<128?2*o*n/255:255-2*(255-o)*(255-n)/255,p=l<128?2*l*s/255:255-2*(255-l)*(255-s)/255,d=f<128?2*f*a/255:255-2*(255-f)*(255-a)/255},"soft-light":function(){var P=n*o/255;m=P+o*(255-(255-o)*(255-n)/255-P)/255,P=s*l/255,p=P+l*(255-(255-l)*(255-s)/255-P)/255,P=a*f/255,d=P+f*(255-(255-f)*(255-a)/255-P)/255},"hard-light":function(){m=n<128?2*n*o/255:255-2*(255-n)*(255-o)/255,p=s<128?2*s*l/255:255-2*(255-s)*(255-l)/255,d=a<128?2*a*f/255:255-2*(255-a)*(255-f)/255},"color-dodge":function(){m=o===0?0:n===255?255:t(255,255*o/(255-n)),p=l===0?0:s===255?255:t(255,255*l/(255-s)),d=f===0?0:a===255?255:t(255,255*f/(255-a))},"color-burn":function(){m=o===255?255:n===0?0:e(0,255-(255-o)*255/n),p=l===255?255:s===0?0:e(0,255-(255-l)*255/s),d=f===255?255:a===0?0:e(0,255-(255-f)*255/a)},darken:function(){m=o<n?o:n,p=l<s?l:s,d=f<a?f:a},lighten:function(){m=o>n?o:n,p=l>s?l:s,d=f>a?f:a},difference:function(){m=o-n,m<0&&(m=-m),p=l-s,p<0&&(p=-p),d=f-a,d<0&&(d=-d)},exclusion:function(){m=o+n*(255-o-o)/255,p=l+s*(255-l-l)/255,d=f+a*(255-f-f)/255},hue:function(){v(n,s,a,w(o,l,f)),y(m,p,d,S(o,l,f))},saturation:function(){v(o,l,f,w(n,s,a)),y(m,p,d,S(o,l,f))},luminosity:function(){y(o,l,f,S(n,s,a))},color:function(){y(n,s,a,S(o,l,f))},add:function(){m=t(o+n,255),p=t(l+s,255),d=t(f+a,255)},subtract:function(){m=e(o-n,0),p=e(l-s,0),d=e(f-a,0)},average:function(){m=(o+n)/2,p=(l+s)/2,d=(f+a)/2},negation:function(){m=255-r(255-n-o),p=255-r(255-s-l),d=255-r(255-a-f)}},c=this.nativeModes=E.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(P){this[P]=!0},{}),b=te.getContext(1,1,{willReadFrequently:!0});b&&(E.each(x,function(P,A){var C=A==="darken",T=!1;b.save();try{b.fillStyle=C?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=A,b.globalCompositeOperation===A&&(b.fillStyle=C?"#a00":"#300",b.fillRect(0,0,1,1),T=b.getImageData(0,0,1,1).data[0]!==C?170:51)}catch{}b.restore(),c[A]=T}),te.release(b)),this.process=function(P,A,C,T,L){var M=A.canvas,F=P==="normal";if(F||c[P])C.save(),C.setTransform(1,0,0,1,0,0),C.globalAlpha=T,F||(C.globalCompositeOperation=P),C.drawImage(M,L.x,L.y),C.restore();else{var O=x[P];if(!O)return;for(var B=C.getImageData(L.x,L.y,M.width,M.height),q=B.data,H=A.getImageData(0,0,M.width,M.height).data,j=0,Z=q.length;j<Z;j+=4){n=H[j],o=q[j],s=H[j+1],l=q[j+1],a=H[j+2],f=q[j+2],h=H[j+3],g=q[j+3],O();var ut=h*T/255,ot=1-ut;q[j]=ut*m+ot*o,q[j+1]=ut*p+ot*l,q[j+2]=ut*d+ot*f,q[j+3]=h*T+ot*g}C.putImageData(B,L.x,L.y)}}},Jt=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",r="http://www.w3.org/1999/xlink",n={href:r,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function s(o,l,f){return h(Q.createElementNS(t,o),l,f)}function a(o,l){var f=n[l],g=f?o.getAttributeNS(f,l):o.getAttribute(l);return g==="null"?null:g}function h(o,l,f){for(var g in l){var m=l[g],p=n[g];typeof m=="number"&&f&&(m=f.number(m)),p?o.setAttributeNS(p,g,m):o.setAttribute(g,m)}return o}return{svg:t,xmlns:e,xlink:r,create:s,get:a,set:h}},Si=E.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof Fe||t instanceof ne||t instanceof ze)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var r=E.capitalize(e),n=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:n,fromSVG:n&&E.each(n,function(s,a){this[s]=a},{}),exportFilter:t[3],get:"get"+r,set:"set"+r}},{});new function(){var t;function e(x,c,b){var P=new E,A=x.getTranslation();if(c){var C;x.isInvertible()?(x=x._shiftless(),C=x._inverseTransform(A),A=null):C=new z,P[b?"cx":"x"]=C.x,P[b?"cy":"y"]=C.y}if(!x.isIdentity()){var T=x.decompose();if(T){var L=[],M=T.rotation,F=T.scaling,O=T.skewing;A&&!A.isZero()&&L.push("translate("+t.point(A)+")"),M&&L.push("rotate("+t.number(M)+")"),(!$.isZero(F.x-1)||!$.isZero(F.y-1))&&L.push("scale("+t.point(F)+")"),O.x&&L.push("skewX("+t.number(O.x)+")"),O.y&&L.push("skewY("+t.number(O.y)+")"),P.transform=L.join(" ")}else P.transform="matrix("+x.getValues().join(",")+")"}return P}function r(x,c){for(var b=e(x._matrix),P=x._children,A=Jt.create("g",b,t),C=0,T=P.length;C<T;C++){var L=P[C],M=w(L,c);if(M)if(L.isClipMask()){var F=Jt.create("clipPath");F.appendChild(M),S(L,F,"clip"),Jt.set(A,{"clip-path":"url(#"+F.id+")"})}else A.appendChild(M)}return A}function n(x,c){var b=e(x._matrix,!0),P=x.getSize(),A=x.getImage();return b.x-=P.width/2,b.y-=P.height/2,b.width=P.width,b.height=P.height,b.href=c.embedImages==!1&&A&&A.src||x.toDataURL(),Jt.create("image",b,t)}function s(x,c){var b=c.matchShapes;if(b){var P=x.toShape(!1);if(P)return a(P)}var A=x._segments,C=A.length,T,L=e(x._matrix);if(b&&C>=2&&!x.hasHandles())if(C>2){T=x._closed?"polygon":"polyline";for(var M=[],F=0;F<C;F++)M.push(t.point(A[F]._point));L.points=M.join(" ")}else{T="line";var O=A[0]._point,B=A[1]._point;L.set({x1:O.x,y1:O.y,x2:B.x,y2:B.y})}else T="path",L.d=x.getPathData(null,c.precision);return Jt.create(T,L,t)}function a(x){var c=x._type,b=x._radius,P=e(x._matrix,!0,c!=="rectangle");if(c==="rectangle"){c="rect";var A=x._size,C=A.width,T=A.height;P.x-=C/2,P.y-=T/2,P.width=C,P.height=T,b.isZero()&&(b=null)}return b&&(c==="circle"?P.r=b:(P.rx=b.width,P.ry=b.height)),Jt.create(c,P,t)}function h(x,c){var b=e(x._matrix),P=x.getPathData(null,c.precision);return P&&(b.d=P),Jt.create("path",b,t)}function o(x,c){var b=e(x._matrix,!0),P=x._definition,A=d(P,"symbol"),C=P._item,T=C.getStrokeBounds();return A||(A=Jt.create("symbol",{viewBox:t.rectangle(T)}),A.appendChild(w(C,c)),S(P,A,"symbol")),b.href="#"+A.id,b.x+=T.x,b.y+=T.y,b.width=T.width,b.height=T.height,b.overflow="visible",Jt.create("use",b,t)}function l(x){var c=d(x,"color");if(!c){var b=x.getGradient(),P=b._radial,A=x.getOrigin(),C=x.getDestination(),T;if(P){T={cx:A.x,cy:A.y,r:A.getDistance(C)};var L=x.getHighlight();L&&(T.fx=L.x,T.fy=L.y)}else T={x1:A.x,y1:A.y,x2:C.x,y2:C.y};T.gradientUnits="userSpaceOnUse",c=Jt.create((P?"radial":"linear")+"Gradient",T,t);for(var M=b._stops,F=0,O=M.length;F<O;F++){var B=M[F],q=B._color,H=q.getAlpha(),j=B._offset;T={offset:j??F/(O-1)},q&&(T["stop-color"]=q.toCSS(!0)),H<1&&(T["stop-opacity"]=H),c.appendChild(Jt.create("stop",T,t))}S(x,c,"color")}return"url(#"+c.id+")"}function f(x){var c=Jt.create("text",e(x._matrix,!0),t);return c.textContent=x._content,c}var g={Group:r,Layer:r,Raster:n,Path:s,Shape:a,CompoundPath:h,SymbolItem:o,PointText:f};function m(x,c,b,P){var A={},C=!P&&x.getParent(),T=[];return x._name!=null&&(A.id=x._name),E.each(Si,function(L){var M=L.get,F=L.type,O=x[M]();if(L.exportFilter?L.exportFilter(x,O):b.reduceAttributes==!1||!C||!E.equals(C[M](),O)){if(F==="color"&&O!=null){var B=O.getAlpha();B<1&&(A[L.attribute+"-opacity"]=B)}F==="style"?T.push(L.attribute+": "+O):A[L.attribute]=O==null?"none":F==="color"?O.gradient?l(O):O.toCSS(!0):F==="array"?O.join(","):F==="lookup"?L.toSVG[O]:O}}),T.length&&(A.style=T.join(";")),A.opacity===1&&delete A.opacity,x._visible||(A.visibility="hidden"),Jt.set(c,A,t)}var p;function d(x,c){return p||(p={ids:{},svgs:{}}),x&&p.svgs[c+"-"+(x._id||x.__id||(x.__id=st.get("svg")))]}function S(x,c,b){p||d();var P=p.ids[b]=(p.ids[b]||0)+1;c.id=b+"-"+P,p.svgs[b+"-"+(x._id||x.__id)]=c}function y(x,c){var b=x,P=null;if(p){b=x.nodeName.toLowerCase()==="svg"&&x;for(var A in p.svgs)P||(b||(b=Jt.create("svg"),b.appendChild(x)),P=b.insertBefore(Jt.create("defs"),b.firstChild)),P.appendChild(p.svgs[A]);p=null}return c.asString?new vt.XMLSerializer().serializeToString(b):b}function w(x,c,b){var P=g[x._class],A=P&&P(x,c);if(A){var C=c.onExport;C&&(A=C(x,A,c)||A);var T=JSON.stringify(x._data);T&&T!=="{}"&&T!=="null"&&A.setAttribute("data-paper-data",T)}return A&&m(x,A,c,b)}function v(x){return x||(x={}),t=new W(x.precision),x}k.inject({exportSVG:function(x){return x=v(x),y(w(this,x,!0),x)}}),It.inject({exportSVG:function(x){x=v(x);var c=this._children,b=this.getView(),P=E.pick(x.bounds,"view"),A=x.matrix||P==="view"&&b._matrix,C=A&&St.read([A]),T=P==="view"?new gt([0,0],b.getViewSize()):P==="content"?k._getBounds(c,C,{stroke:!0}).rect:gt.read([P],0,{readNull:!0}),L={version:"1.1",xmlns:Jt.svg,"xmlns:xlink":Jt.xlink};T&&(L.width=T.width,L.height=T.height,(T.x||T.x===0||T.y||T.y===0)&&(L.viewBox=t.rectangle(T)));var M=Jt.create("svg",L,t),F=M;C&&!C.isIdentity()&&(F=M.appendChild(Jt.create("g",e(C),t)));for(var O=0,B=c.length;O<B;O++)F.appendChild(w(c[O],x,!0));return y(M,x)}})},new function(){var t={},e;function r(c,b,P,A,C,T){var L=Jt.get(c,b)||T,M=L==null?A?null:P?"":0:P?L:parseFloat(L);return/%\s*$/.test(L)?M/100*(C?1:e[/x|^width/.test(b)?"width":"height"]):M}function n(c,b,P,A,C,T,L){return b=r(c,b||"x",!1,A,C,T),P=r(c,P||"y",!1,A,C,L),A&&(b==null||P==null)?null:new z(b,P)}function s(c,b,P,A,C){return b=r(c,b||"width",!1,A,C),P=r(c,P||"height",!1,A,C),A&&(b==null||P==null)?null:new nt(b,P)}function a(c,b,P){return c==="none"?null:b==="number"?parseFloat(c):b==="array"?c?c.split(/[\s,]+/g).map(parseFloat):[]:b==="color"?w(c)||c:b==="lookup"?P[c]:c}function h(c,b,P,A){var C=c.childNodes,T=b==="clippath",L=b==="defs",M=new jt,F=M._project,O=F._currentStyle,B=[];if(!T&&!L&&(M=y(M,c,A),F._currentStyle=M._style.clone()),A)for(var q=c.querySelectorAll("defs"),H=0,j=q.length;H<j;H++)v(q[H],P,!1);for(var H=0,j=C.length;H<j;H++){var Z=C[H],ut;Z.nodeType===1&&!/^defs$/i.test(Z.nodeName)&&(ut=v(Z,P,!1))&&!(ut instanceof se)&&B.push(ut)}return M.addChildren(B),T&&(M=y(M.reduce(),c,A)),F._currentStyle=O,(T||L)&&(M.remove(),M=null),M}function o(c,b){for(var P=c.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),A=[],C=0,T=P.length;C<T;C+=2)A.push(new z(parseFloat(P[C]),parseFloat(P[C+1])));var L=new Ft(A);return b==="polygon"&&L.closePath(),L}function l(c){return Fe.create(c.getAttribute("d"))}function f(c,b){var P=(r(c,"href",!0)||"").substring(1),A=b==="radialgradient",C;if(P)C=t[P].getGradient(),C._radial^A&&(C=C.clone(),C._radial=A);else{for(var T=c.childNodes,L=[],M=0,F=T.length;M<F;M++){var O=T[M];O.nodeType===1&&L.push(y(new yi,O))}C=new Qe(L,A)}var B,q,H,j=r(c,"gradientUnits",!0)!=="userSpaceOnUse";A?(B=n(c,"cx","cy",!1,j,"50%","50%"),q=B.add(r(c,"r",!1,!1,j,"50%"),0),H=n(c,"fx","fy",!0,j)):(B=n(c,"x1","y1",!1,j,"0%","0%"),q=n(c,"x2","y2",!1,j,"100%","0%"));var Z=y(new Qt(C,B,q,H),c);return Z._scaleToBounds=j,null}var g={"#document":function(c,b,P,A){for(var C=c.childNodes,T=0,L=C.length;T<L;T++){var M=C[T];if(M.nodeType===1)return v(M,P,A)}},g:h,svg:h,clippath:h,polygon:o,polyline:o,path:l,lineargradient:f,radialgradient:f,image:function(c){var b=new Ge(r(c,"href",!0));return b.on("load",function(){var P=s(c);this.setSize(P);var A=n(c).add(P.divide(2));this._matrix.append(new St().translate(A))}),b},symbol:function(c,b,P,A){return new se(h(c,b,P,A),!0)},defs:h,use:function(c){var b=(r(c,"href",!0)||"").substring(1),P=t[b],A=n(c);return P?P instanceof se?P.place(A):P.clone().translate(A):null},circle:function(c){return new ne.Circle(n(c,"cx","cy"),r(c,"r"))},ellipse:function(c){return new ne.Ellipse({center:n(c,"cx","cy"),radius:s(c,"rx","ry")})},rect:function(c){return new ne.Rectangle(new gt(n(c),s(c)),s(c,"rx","ry"))},line:function(c){return new Ft.Line(n(c,"x1","y1"),n(c,"x2","y2"))},text:function(c){var b=new xi(n(c).add(n(c,"dx","dy")));return b.setContent(c.textContent.trim()||""),b},switch:h};function m(c,b,P,A){if(c.transform){for(var C=(A.getAttribute(P)||"").split(/\)\s*/g),T=new St,L=0,M=C.length;L<M;L++){var F=C[L];if(!F)break;for(var O=F.split(/\(\s*/),B=O[0].trim(),q=O[1].split(/[\s,]+/g),H=0,j=q.length;H<j;H++)q[H]=parseFloat(q[H]);switch(B){case"matrix":T.append(new St(q[0],q[1],q[2],q[3],q[4],q[5]));break;case"rotate":T.rotate(q[0],q[1]||0,q[2]||0);break;case"translate":T.translate(q[0],q[1]||0);break;case"scale":T.scale(q);break;case"skewX":T.skew(q[0],0);break;case"skewY":T.skew(0,q[0]);break}}c.transform(T)}}function p(c,b,P){var A=P==="fill-opacity"?"getFillColor":"getStrokeColor",C=c[A]&&c[A]();C&&C.setAlpha(parseFloat(b))}var d=E.set(E.each(Si,function(c){this[c.attribute]=function(b,P){if(b[c.set]&&(b[c.set](a(P,c.type,c.fromSVG)),c.type==="color")){var A=b[c.get]();if(A&&A._scaleToBounds){var C=b.getBounds();A.transform(new St().translate(C.getPoint()).scale(C.getSize()))}}}},{}),{id:function(c,b){t[b]=c,c.setName&&c.setName(b)},"clip-path":function(c,b){var P=w(b);if(P)if(P=P.clone(),P.setClipMask(!0),c instanceof jt)c.insertChild(0,P);else return new jt(P,c)},gradientTransform:m,transform:m,"fill-opacity":p,"stroke-opacity":p,visibility:function(c,b){c.setVisible&&c.setVisible(b==="visible")},display:function(c,b){c.setVisible&&c.setVisible(b!==null)},"stop-color":function(c,b){c.setColor&&c.setColor(b)},"stop-opacity":function(c,b){c._color&&c._color.setAlpha(parseFloat(b))},offset:function(c,b){if(c.setOffset){var P=b.match(/(.*)%$/);c.setOffset(P?P[1]/100:parseFloat(b))}},viewBox:function(c,b,P,A,C){var T=new gt(a(b,"array")),L=s(A,null,null,!0),M,F;if(c instanceof jt){var O=L?L.divide(T.getSize()):1,F=new St().scale(O).translate(T.getPoint().negate());M=c}else c instanceof se&&(L&&T.setSize(L),M=c._item);if(M){if(S(A,"overflow",C)!=="visible"){var B=new ne.Rectangle(T);B.setClipMask(!0),M.addChild(B)}F&&M.transform(F)}}});function S(c,b,P){var A=c.attributes[b],C=A&&A.value;if(!C&&c.style){var T=E.camelize(b);C=c.style[T],!C&&P.node[T]!==P.parent[T]&&(C=P.node[T])}return C?C==="none"?null:C:N}function y(c,b,P){var A=b.parentNode,C={node:Xt.getStyles(b)||{},parent:!P&&!/^defs$/i.test(A.tagName)&&Xt.getStyles(A)||{}};return E.each(d,function(T,L){var M=S(b,L,C);c=M!==N&&T(c,M,L,b,C)||c}),c}function w(c){var b=c&&c.match(/\((?:["'#]*)([^"')]+)/),P=b&&b[1],A=P&&t[G?P.replace(G.location.href.split("#")[0]+"#",""):P];return A&&A._scaleToBounds&&(A=A.clone(),A._scaleToBounds=!0),A}function v(c,b,P){var A=c.nodeName.toLowerCase(),C=A!=="#document",T=Q.body,L,M,F;P&&C&&(e=Bt.getView().getSize(),e=s(c,null,null,!0)||e,L=Jt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),M=c.parentNode,F=c.nextSibling,L.appendChild(c),T.appendChild(L));var O=Bt.settings,B=O.applyMatrix,q=O.insertItems;O.applyMatrix=!1,O.insertItems=!1;var H=g[A],j=H&&H(c,A,b,P)||null;if(O.insertItems=q,O.applyMatrix=B,j){C&&!(j instanceof jt)&&(j=y(j,c,P));var Z=b.onImport,ut=C&&c.getAttribute("data-paper-data");Z&&(j=Z(c,j,b)||j),b.expandShapes&&j instanceof ne&&(j.remove(),j=j.toPath()),ut&&(j._data=JSON.parse(ut))}return L&&(T.removeChild(L),M&&(F?M.insertBefore(c,F):M.appendChild(c))),P&&(t={},j&&E.pick(b.applyMatrix,B)&&j.matrix.apply(!0,!0)),j}function x(c,b,P){if(!c)return null;b=typeof b=="function"?{onLoad:b}:b||{};var A=Bt,C=null;function T(O){try{var B=typeof O=="object"?O:new vt.DOMParser().parseFromString(O.trim(),"image/svg+xml");if(!B.nodeName)throw B=null,new Error("Unsupported SVG source: "+c);Bt=A,C=v(B,b,!0),(!b||b.insert!==!1)&&P._insertItem(N,C);var q=b.onLoad;q&&q(C,O)}catch(H){L(H)}}function L(O,B){var q=b.onError;if(q)q(O,B);else throw new Error(O)}if(typeof c=="string"&&!/^[\s\S]*</.test(c)){var M=Q.getElementById(c);M?T(M):ti.request({url:c,async:!0,onLoad:T,onError:L})}else if(typeof File<"u"&&c instanceof File){var F=new FileReader;return F.onload=function(){T(F.result)},F.onerror=function(){L(F.error)},F.readAsText(c)}else T(c);return C}k.inject({importSVG:function(c,b){return x(c,b,this)}}),It.inject({importSVG:function(c,b){return this.activate(),x(c,b,this)}})},E.exports.PaperScript=(function(){var t=this,e=t.acorn;if(!e&&typeof fs<"u")try{e=ps()}catch{}if(!e){var r,n;e=r=n={},function(y,w){if(typeof r=="object"&&typeof n=="object")return w(r);if(typeof N=="function"&&N.amd)return N(["exports"],w);w(y.acorn||(y.acorn={}))}(this,function(y){y.version="0.5.0";var w,v,x,c;y.parse=function(V,U){return v=String(V),x=v.length,P(U),Rr(),zn(w.program)};var b=y.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function P(V){w=V||{};for(var U in b)Object.prototype.hasOwnProperty.call(w,U)||(w[U]=b[U]);c=w.sourceFile||null}var A=y.getLineInfo=function(V,U){for(var tt=1,rt=0;;){pi.lastIndex=rt;var Et=pi.exec(V);if(Et&&Et.index<U)++tt,rt=Et.index+Et[0].length;else break}return{line:tt,column:U-rt}};y.tokenize=function(V,U){v=String(V),x=v.length,P(U),Rr();var tt={};function rt(Et){return ut=L,ai(Et),tt.start=T,tt.end=L,tt.startLoc=M,tt.endLoc=F,tt.type=O,tt.value=B,tt}return rt.jumpTo=function(Et,Nt){if(C=Et,w.locations){H=1,j=pi.lastIndex=0;for(var Mt;(Mt=pi.exec(v))&&Mt.index<Et;)++H,j=Mt.index+Mt[0].length}q=Nt,gi()},rt};var C,T,L,M,F,O,B,q,H,j,Z,ut,ot,ft,mt,et;function it(V,U){var tt=A(v,V);U+=" ("+tt.line+":"+tt.column+")";var rt=new SyntaxError(U);throw rt.pos=V,rt.loc=tt,rt.raisedAt=C,rt}var ct=[],yt={type:"num"},xt={type:"regexp"},Pt={type:"string"},kt={type:"name"},Ot={type:"eof"},Rt={keyword:"break"},Tt={keyword:"case",beforeExpr:!0},ee={keyword:"catch"},re={keyword:"continue"},fe={keyword:"debugger"},dt={keyword:"default"},qt={keyword:"do",isLoop:!0},Gt={keyword:"else",beforeExpr:!0},_e={keyword:"finally"},ae={keyword:"for",isLoop:!0},ye={keyword:"function"},Ve={keyword:"if"},Pe={keyword:"return",beforeExpr:!0},be={keyword:"switch"},ve={keyword:"throw",beforeExpr:!0},me={keyword:"try"},ce={keyword:"var"},$t={keyword:"while",isLoop:!0},ci={keyword:"with"},ki={keyword:"new",beforeExpr:!0},Fi={keyword:"this"},Di={keyword:"null",atomValue:null},qi={keyword:"true",atomValue:!0},Ui={keyword:"false",atomValue:!1},De={keyword:"in",binop:7,beforeExpr:!0},di={break:Rt,case:Tt,catch:ee,continue:re,debugger:fe,default:dt,do:qt,else:Gt,finally:_e,for:ae,function:ye,if:Ve,return:Pe,switch:be,throw:ve,try:me,var:ce,while:$t,with:ci,null:Di,true:qi,false:Ui,new:ki,in:De,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Fi,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},ei={type:"[",beforeExpr:!0},ii={type:"]"},Le={type:"{",beforeExpr:!0},zt={type:"}"},Ee={type:"(",beforeExpr:!0},we={type:")"},Te={type:",",beforeExpr:!0},Ie={type:";",beforeExpr:!0},We={type:":",beforeExpr:!0},Pi={type:"."},Ii={type:"?",beforeExpr:!0},i={binop:10,beforeExpr:!0},u={isAssign:!0,beforeExpr:!0},_={isAssign:!0,beforeExpr:!0},I={postfix:!0,prefix:!0,isUpdate:!0},R={prefix:!0,beforeExpr:!0},K={binop:1,beforeExpr:!0},Y={binop:2,beforeExpr:!0},ht={binop:3,beforeExpr:!0},_t={binop:4,beforeExpr:!0},Vt={binop:5,beforeExpr:!0},Lt={binop:6,beforeExpr:!0},ue={binop:7,beforeExpr:!0},qe={binop:8,beforeExpr:!0},ri={binop:9,prefix:!0,beforeExpr:!0},je={binop:10,beforeExpr:!0};y.tokTypes={bracketL:ei,bracketR:ii,braceL:Le,braceR:zt,parenL:Ee,parenR:we,comma:Te,semi:Ie,colon:We,dot:Pi,question:Ii,slash:i,eq:u,name:kt,eof:Ot,num:yt,regexp:xt,string:Pt};for(var ni in di)y.tokTypes["_"+ni]=di[ni];function Oe(V){V=V.split(" ");var U="",tt=[];t:for(var rt=0;rt<V.length;++rt){for(var Et=0;Et<tt.length;++Et)if(tt[Et][0].length==V[rt].length){tt[Et].push(V[rt]);continue t}tt.push([V[rt]])}function Nt(Ht){if(Ht.length==1)return U+="return str === "+JSON.stringify(Ht[0])+";";U+="switch(str){";for(var Re=0;Re<Ht.length;++Re)U+="case "+JSON.stringify(Ht[Re])+":";U+="return true}return false;"}if(tt.length>3){tt.sort(function(Ht,Re){return Re.length-Ht.length}),U+="switch(str.length){";for(var rt=0;rt<tt.length;++rt){var Mt=tt[rt];U+="case "+Mt[0].length+":",Nt(Mt)}U+="}"}else Nt(V);return new Function("str",U)}var Ke=Oe("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),xn=Oe("class enum extends super const export import"),Tr=Oe("implements interface let package private protected public static yield"),Gi=Oe("eval arguments"),yn=Oe("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),bn=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Or="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",wn="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",Lr=new RegExp("["+Or+"]"),Cn=new RegExp("["+Or+wn+"]"),Hi=/[\n\r\u2028\u2029]/,pi=/\r\n|[\n\r\u2028\u2029]/g,Wi=y.isIdentifierStart=function(V){return V<65?V===36:V<91?!0:V<97?V===95:V<123?!0:V>=170&&Lr.test(String.fromCharCode(V))},Nr=y.isIdentifierChar=function(V){return V<48?V===36:V<58?!0:V<65?!1:V<91?!0:V<97?V===95:V<123?!0:V>=170&&Cn.test(String.fromCharCode(V))};function si(){this.line=H,this.column=C-j}function Rr(){H=1,C=j=0,q=!0,gi()}function de(V,U){L=C,w.locations&&(F=new si),O=V,gi(),B=U,q=V.beforeExpr}function Sn(){var V=w.onComment&&w.locations&&new si,U=C,tt=v.indexOf("*/",C+=2);if(tt===-1&&it(C-2,"Unterminated comment"),C=tt+2,w.locations){pi.lastIndex=U;for(var rt;(rt=pi.exec(v))&&rt.index<C;)++H,j=rt.index+rt[0].length}w.onComment&&w.onComment(!0,v.slice(U+2,tt),U,C,V,w.locations&&new si)}function tr(){for(var V=C,U=w.onComment&&w.locations&&new si,tt=v.charCodeAt(C+=2);C<x&&tt!==10&&tt!==13&&tt!==8232&&tt!==8233;)++C,tt=v.charCodeAt(C);w.onComment&&w.onComment(!1,v.slice(V+2,C),V,C,U,w.locations&&new si)}function gi(){for(;C<x;){var V=v.charCodeAt(C);if(V===32)++C;else if(V===13){++C;var U=v.charCodeAt(C);U===10&&++C,w.locations&&(++H,j=C)}else if(V===10||V===8232||V===8233)++C,w.locations&&(++H,j=C);else if(V>8&&V<14)++C;else if(V===47){var U=v.charCodeAt(C+1);if(U===42)Sn();else if(U===47)tr();else break}else if(V===160)++C;else if(V>=5760&&bn.test(String.fromCharCode(V)))++C;else break}}function kn(){var V=v.charCodeAt(C+1);return V>=48&&V<=57?zr(!0):(++C,de(Pi))}function Pn(){var V=v.charCodeAt(C+1);return q?(++C,Mr()):V===61?pe(_,2):pe(i,1)}function In(){var V=v.charCodeAt(C+1);return V===61?pe(_,2):pe(je,1)}function An(V){var U=v.charCodeAt(C+1);return U===V?pe(V===124?K:Y,2):U===61?pe(_,2):pe(V===124?ht:Vt,1)}function En(){var V=v.charCodeAt(C+1);return V===61?pe(_,2):pe(_t,1)}function Tn(V){var U=v.charCodeAt(C+1);return U===V?U==45&&v.charCodeAt(C+2)==62&&Hi.test(v.slice(ut,C))?(C+=3,tr(),gi(),ai()):pe(I,2):U===61?pe(_,2):pe(ri,1)}function On(V){var U=v.charCodeAt(C+1),tt=1;return U===V?(tt=V===62&&v.charCodeAt(C+2)===62?3:2,v.charCodeAt(C+tt)===61?pe(_,tt+1):pe(qe,tt)):U==33&&V==60&&v.charCodeAt(C+2)==45&&v.charCodeAt(C+3)==45?(C+=4,tr(),gi(),ai()):(U===61&&(tt=v.charCodeAt(C+2)===61?3:2),pe(ue,tt))}function Ln(V){var U=v.charCodeAt(C+1);return U===61?pe(Lt,v.charCodeAt(C+2)===61?3:2):pe(V===61?u:R,1)}function Nn(V){switch(V){case 46:return kn();case 40:return++C,de(Ee);case 41:return++C,de(we);case 59:return++C,de(Ie);case 44:return++C,de(Te);case 91:return++C,de(ei);case 93:return++C,de(ii);case 123:return++C,de(Le);case 125:return++C,de(zt);case 58:return++C,de(We);case 63:return++C,de(Ii);case 48:var U=v.charCodeAt(C+1);if(U===120||U===88)return Rn();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return zr(!1);case 34:case 39:return Mn(V);case 47:return Pn();case 37:case 42:return In();case 124:case 38:return An(V);case 94:return En();case 43:case 45:return Tn(V);case 60:case 62:return On(V);case 61:case 33:return Ln(V);case 126:return pe(R,1)}return!1}function ai(V){if(V?C=T+1:T=C,w.locations&&(M=new si),V)return Mr();if(C>=x)return de(Ot);var U=v.charCodeAt(C);if(Wi(U)||U===92)return Br();var tt=Nn(U);if(tt===!1){var rt=String.fromCharCode(U);if(rt==="\\"||Lr.test(rt))return Br();it(C,"Unexpected character '"+rt+"'")}return tt}function pe(V,U){var tt=v.slice(C,C+U);C+=U,de(V,tt)}function Mr(){for(var Et="",V,U,tt=C;;){C>=x&&it(tt,"Unterminated regular expression");var rt=v.charAt(C);if(Hi.test(rt)&&it(tt,"Unterminated regular expression"),V)V=!1;else{if(rt==="[")U=!0;else if(rt==="]"&&U)U=!1;else if(rt==="/"&&!U)break;V=rt==="\\"}++C}var Et=v.slice(tt,C);++C;var Nt=Vr();Nt&&!/^[gmsiy]*$/.test(Nt)&&it(tt,"Invalid regexp flag");try{var Mt=new RegExp(Et,Nt)}catch(Ht){Ht instanceof SyntaxError&&it(tt,Ht.message),it(Ht)}return de(xt,Mt)}function Ai(V,U){for(var tt=C,rt=0,Et=0,Nt=U??1/0;Et<Nt;++Et){var Mt=v.charCodeAt(C),Ht;if(Mt>=97?Ht=Mt-97+10:Mt>=65?Ht=Mt-65+10:Mt>=48&&Mt<=57?Ht=Mt-48:Ht=1/0,Ht>=V)break;++C,rt=rt*V+Ht}return C===tt||U!=null&&C-tt!==U?null:rt}function Rn(){C+=2;var V=Ai(16);return V==null&&it(T+2,"Expected hexadecimal number"),Wi(v.charCodeAt(C))&&it(C,"Identifier directly after number"),de(yt,V)}function zr(V){var U=C,tt=!1,rt=v.charCodeAt(C)===48;!V&&Ai(10)===null&&it(U,"Invalid number"),v.charCodeAt(C)===46&&(++C,Ai(10),tt=!0);var Et=v.charCodeAt(C);(Et===69||Et===101)&&(Et=v.charCodeAt(++C),(Et===43||Et===45)&&++C,Ai(10)===null&&it(U,"Invalid number"),tt=!0),Wi(v.charCodeAt(C))&&it(C,"Identifier directly after number");var Nt=v.slice(U,C),Mt;return tt?Mt=parseFloat(Nt):!rt||Nt.length===1?Mt=parseInt(Nt,10):/[89]/.test(Nt)||et?it(U,"Invalid number"):Mt=parseInt(Nt,8),de(yt,Mt)}function Mn(V){C++;for(var U="";;){C>=x&&it(T,"Unterminated string constant");var tt=v.charCodeAt(C);if(tt===V)return++C,de(Pt,U);if(tt===92){tt=v.charCodeAt(++C);var rt=/^[0-7]+/.exec(v.slice(C,C+3));for(rt&&(rt=rt[0]);rt&&parseInt(rt,8)>255;)rt=rt.slice(0,-1);if(rt==="0"&&(rt=null),++C,rt)et&&it(C-2,"Octal literal in strict mode"),U+=String.fromCharCode(parseInt(rt,8)),C+=rt.length-1;else switch(tt){case 110:U+=`
`;break;case 114:U+="\r";break;case 120:U+=String.fromCharCode(ji(2));break;case 117:U+=String.fromCharCode(ji(4));break;case 85:U+=String.fromCharCode(ji(8));break;case 116:U+="	";break;case 98:U+="\b";break;case 118:U+="\v";break;case 102:U+="\f";break;case 48:U+="\0";break;case 13:v.charCodeAt(C)===10&&++C;case 10:w.locations&&(j=C,++H);break;default:U+=String.fromCharCode(tt);break}}else(tt===13||tt===10||tt===8232||tt===8233)&&it(T,"Unterminated string constant"),U+=String.fromCharCode(tt),++C}}function ji(V){var U=Ai(16,V);return U===null&&it(T,"Bad character escape sequence"),U}var _i;function Vr(){_i=!1;for(var V,U=!0,tt=C;;){var rt=v.charCodeAt(C);if(Nr(rt))_i&&(V+=v.charAt(C)),++C;else if(rt===92){_i||(V=v.slice(tt,C)),_i=!0,v.charCodeAt(++C)!=117&&it(C,"Expecting Unicode escape sequence \\uXXXX"),++C;var Et=ji(4),Nt=String.fromCharCode(Et);Nt||it(C-1,"Invalid Unicode escape"),(U?Wi(Et):Nr(Et))||it(C-4,"Invalid Unicode escape"),V+=Nt}else break;U=!1}return _i?V:v.slice(tt,C)}function Br(){var V=Vr(),U=kt;return!_i&&yn(V)&&(U=di[V]),de(U,V)}function Ut(){Z=T,ut=L,ot=F,ai()}function er(V){if(et=V,C=T,w.locations)for(;C<j;)j=v.lastIndexOf(`
`,j-2)+1,--H;gi(),ai()}function Fr(){this.type=null,this.start=T,this.end=null}function Dr(){this.start=M,this.end=null,c!==null&&(this.source=c)}function ge(){var V=new Fr;return w.locations&&(V.loc=new Dr),w.directSourceFile&&(V.sourceFile=w.directSourceFile),w.ranges&&(V.range=[T,0]),V}function Xe(V){var U=new Fr;return U.start=V.start,w.locations&&(U.loc=new Dr,U.loc.start=V.loc.start),w.ranges&&(U.range=[V.range[0],0]),U}function Dt(V,U){return V.type=U,V.end=ut,w.locations&&(V.loc.end=ot),w.ranges&&(V.range[1]=ut),V}function ir(V){return w.ecmaVersion>=5&&V.type==="ExpressionStatement"&&V.expression.type==="Literal"&&V.expression.value==="use strict"}function ie(V){if(O===V)return Ut(),!0}function Ki(){return!w.strictSemicolons&&(O===Ot||O===zt||Hi.test(v.slice(ut,T)))}function ui(){!ie(Ie)&&!Ki()&&Ue()}function le(V){O===V?Ut():Ue()}function Ue(){it(T,"Unexpected token")}function Xi(V){V.type!=="Identifier"&&V.type!=="MemberExpression"&&it(V.start,"Assigning to rvalue"),et&&V.type==="Identifier"&&Gi(V.name)&&it(V.start,"Assigning to "+V.name+" in strict mode")}function zn(V){Z=ut=C,w.locations&&(ot=new si),ft=et=null,mt=[],ai();var U=V||ge(),tt=!0;for(V||(U.body=[]);O!==Ot;){var rt=Ne();U.body.push(rt),tt&&ir(rt)&&er(!0),tt=!1}return Dt(U,"Program")}var rr={kind:"loop"},Vn={kind:"switch"};function Ne(){(O===i||O===_&&B=="/=")&&ai(!0);var V=O,U=ge();switch(V){case Rt:case re:Ut();var tt=V===Rt;ie(Ie)||Ki()?U.label=null:O!==kt?Ue():(U.label=Ze(),ui());for(var rt=0;rt<mt.length;++rt){var Et=mt[rt];if((U.label==null||Et.name===U.label.name)&&(Et.kind!=null&&(tt||Et.kind==="loop")||U.label&&tt))break}return rt===mt.length&&it(U.start,"Unsyntactic "+V.keyword),Dt(U,tt?"BreakStatement":"ContinueStatement");case fe:return Ut(),ui(),Dt(U,"DebuggerStatement");case qt:return Ut(),mt.push(rr),U.body=Ne(),mt.pop(),le($t),U.test=Ei(),ui(),Dt(U,"DoWhileStatement");case ae:if(Ut(),mt.push(rr),le(Ee),O===Ie)return nr(U,null);if(O===ce){var Nt=ge();return Ut(),Ur(Nt,!0),Dt(Nt,"VariableDeclaration"),Nt.declarations.length===1&&ie(De)?qr(U,Nt):nr(U,Nt)}var Nt=xe(!1,!0);return ie(De)?(Xi(Nt),qr(U,Nt)):nr(U,Nt);case ye:return Ut(),hr(U,!0);case Ve:return Ut(),U.test=Ei(),U.consequent=Ne(),U.alternate=ie(Gt)?Ne():null,Dt(U,"IfStatement");case Pe:return!ft&&!w.allowReturnOutsideFunction&&it(T,"'return' outside of function"),Ut(),ie(Ie)||Ki()?U.argument=null:(U.argument=xe(),ui()),Dt(U,"ReturnStatement");case be:Ut(),U.discriminant=Ei(),U.cases=[],le(Le),mt.push(Vn);for(var Mt,Ht;O!=zt;)if(O===Tt||O===dt){var Re=O===Tt;Mt&&Dt(Mt,"SwitchCase"),U.cases.push(Mt=ge()),Mt.consequent=[],Ut(),Re?Mt.test=xe():(Ht&&it(Z,"Multiple default clauses"),Ht=!0,Mt.test=null),le(We)}else Mt||Ue(),Mt.consequent.push(Ne());return Mt&&Dt(Mt,"SwitchCase"),Ut(),mt.pop(),Dt(U,"SwitchStatement");case ve:return Ut(),Hi.test(v.slice(ut,T))&&it(ut,"Illegal newline after throw"),U.argument=xe(),ui(),Dt(U,"ThrowStatement");case me:if(Ut(),U.block=Ti(),U.handler=null,O===ee){var oi=ge();Ut(),le(Ee),oi.param=Ze(),et&&Gi(oi.param.name)&&it(oi.param.start,"Binding "+oi.param.name+" in strict mode"),le(we),oi.guard=null,oi.body=Ti(),U.handler=Dt(oi,"CatchClause")}return U.guardedHandlers=ct,U.finalizer=ie(_e)?Ti():null,!U.handler&&!U.finalizer&&it(U.start,"Missing catch or finally clause"),Dt(U,"TryStatement");case ce:return Ut(),Ur(U),ui(),Dt(U,"VariableDeclaration");case $t:return Ut(),U.test=Ei(),mt.push(rr),U.body=Ne(),mt.pop(),Dt(U,"WhileStatement");case ci:return et&&it(T,"'with' in strict mode"),Ut(),U.object=Ei(),U.body=Ne(),Dt(U,"WithStatement");case Le:return Ti();case Ie:return Ut(),Dt(U,"EmptyStatement");default:var fr=B,Zi=xe();if(V===kt&&Zi.type==="Identifier"&&ie(We)){for(var rt=0;rt<mt.length;++rt)mt[rt].name===fr&&it(Zi.start,"Label '"+fr+"' is already declared");var Gn=O.isLoop?"loop":O===be?"switch":null;return mt.push({name:fr,kind:Gn}),U.body=Ne(),mt.pop(),U.label=Zi,Dt(U,"LabeledStatement")}else return U.expression=Zi,ui(),Dt(U,"ExpressionStatement")}}function Ei(){le(Ee);var V=xe();return le(we),V}function Ti(V){var U=ge(),tt=!0,rt=!1,Et;for(U.body=[],le(Le);!ie(zt);){var Nt=Ne();U.body.push(Nt),tt&&V&&ir(Nt)&&(Et=rt,er(rt=!0)),tt=!1}return rt&&!Et&&er(!1),Dt(U,"BlockStatement")}function nr(V,U){return V.init=U,le(Ie),V.test=O===Ie?null:xe(),le(Ie),V.update=O===we?null:xe(),le(we),V.body=Ne(),mt.pop(),Dt(V,"ForStatement")}function qr(V,U){return V.left=U,V.right=xe(),le(we),V.body=Ne(),mt.pop(),Dt(V,"ForInStatement")}function Ur(V,U){for(V.declarations=[],V.kind="var";;){var tt=ge();if(tt.id=Ze(),et&&Gi(tt.id.name)&&it(tt.id.start,"Binding "+tt.id.name+" in strict mode"),tt.init=ie(u)?xe(!0,U):null,V.declarations.push(Dt(tt,"VariableDeclarator")),!ie(Te))break}return V}function xe(V,U){var tt=sr(U);if(!V&&O===Te){var rt=Xe(tt);for(rt.expressions=[tt];ie(Te);)rt.expressions.push(sr(U));return Dt(rt,"SequenceExpression")}return tt}function sr(V){var U=Bn(V);if(O.isAssign){var tt=Xe(U);return tt.operator=B,tt.left=U,Ut(),tt.right=sr(V),Xi(U),Dt(tt,"AssignmentExpression")}return U}function Bn(V){var U=Fn(V);if(ie(Ii)){var tt=Xe(U);return tt.test=U,tt.consequent=xe(!0),le(We),tt.alternate=xe(!0,V),Dt(tt,"ConditionalExpression")}return U}function Fn(V){return ar(ur(),-1,V)}function ar(V,U,tt){var rt=O.binop;if(rt!=null&&(!tt||O!==De)&&rt>U){var Et=Xe(V);Et.left=V,Et.operator=B;var Nt=O;Ut(),Et.right=ar(ur(),rt,tt);var Mt=Dt(Et,Nt===K||Nt===Y?"LogicalExpression":"BinaryExpression");return ar(Mt,U,tt)}return V}function ur(){if(O.prefix){var V=ge(),U=O.isUpdate;return V.operator=B,V.prefix=!0,q=!0,Ut(),V.argument=ur(),U?Xi(V.argument):et&&V.operator==="delete"&&V.argument.type==="Identifier"&&it(V.start,"Deleting local variable in strict mode"),Dt(V,U?"UpdateExpression":"UnaryExpression")}for(var tt=Dn();O.postfix&&!Ki();){var V=Xe(tt);V.operator=B,V.prefix=!1,V.argument=tt,Xi(tt),Ut(),tt=Dt(V,"UpdateExpression")}return tt}function Dn(){return Oi(or())}function Oi(V,U){if(ie(Pi)){var tt=Xe(V);return tt.object=V,tt.property=Ze(!0),tt.computed=!1,Oi(Dt(tt,"MemberExpression"),U)}else if(ie(ei)){var tt=Xe(V);return tt.object=V,tt.property=xe(),tt.computed=!0,le(ii),Oi(Dt(tt,"MemberExpression"),U)}else if(!U&&ie(Ee)){var tt=Xe(V);return tt.callee=V,tt.arguments=lr(we,!1),Oi(Dt(tt,"CallExpression"),U)}else return V}function or(){switch(O){case Fi:var rt=ge();return Ut(),Dt(rt,"ThisExpression");case kt:return Ze();case yt:case Pt:case xt:var rt=ge();return rt.value=B,rt.raw=v.slice(T,L),Ut(),Dt(rt,"Literal");case Di:case qi:case Ui:var rt=ge();return rt.value=O.atomValue,rt.raw=O.keyword,Ut(),Dt(rt,"Literal");case Ee:var V=M,U=T;Ut();var tt=xe();return tt.start=U,tt.end=L,w.locations&&(tt.loc.start=V,tt.loc.end=F),w.ranges&&(tt.range=[U,L]),le(we),tt;case ei:var rt=ge();return Ut(),rt.elements=lr(ii,!0,!0),Dt(rt,"ArrayExpression");case Le:return Un();case ye:var rt=ge();return Ut(),hr(rt,!1);case ki:return qn();default:Ue()}}function qn(){var V=ge();return Ut(),V.callee=Oi(or(),!0),ie(Ee)?V.arguments=lr(we,!1):V.arguments=ct,Dt(V,"NewExpression")}function Un(){var V=ge(),U=!0,tt=!1;for(V.properties=[],Ut();!ie(zt);){if(U)U=!1;else if(le(Te),w.allowTrailingCommas&&ie(zt))break;var rt={key:Gr()},Et=!1,Nt;if(ie(We)?(rt.value=xe(!0),Nt=rt.kind="init"):w.ecmaVersion>=5&&rt.key.type==="Identifier"&&(rt.key.name==="get"||rt.key.name==="set")?(Et=tt=!0,Nt=rt.kind=rt.key.name,rt.key=Gr(),O!==Ee&&Ue(),rt.value=hr(ge(),!1)):Ue(),rt.key.type==="Identifier"&&(et||tt))for(var Mt=0;Mt<V.properties.length;++Mt){var Ht=V.properties[Mt];if(Ht.key.name===rt.key.name){var Re=Nt==Ht.kind||Et&&Ht.kind==="init"||Nt==="init"&&(Ht.kind==="get"||Ht.kind==="set");Re&&!et&&Nt==="init"&&Ht.kind==="init"&&(Re=!1),Re&&it(rt.key.start,"Redefinition of property")}}V.properties.push(rt)}return Dt(V,"ObjectExpression")}function Gr(){return O===yt||O===Pt?or():Ze(!0)}function hr(V,U){O===kt?V.id=Ze():U?Ue():V.id=null,V.params=[];var tt=!0;for(le(Ee);!ie(we);)tt?tt=!1:le(Te),V.params.push(Ze());var rt=ft,Et=mt;if(ft=!0,mt=[],V.body=Ti(!0),ft=rt,mt=Et,et||V.body.body.length&&ir(V.body.body[0]))for(var Nt=V.id?-1:0;Nt<V.params.length;++Nt){var Mt=Nt<0?V.id:V.params[Nt];if((Tr(Mt.name)||Gi(Mt.name))&&it(Mt.start,"Defining '"+Mt.name+"' in strict mode"),Nt>=0)for(var Ht=0;Ht<Nt;++Ht)Mt.name===V.params[Ht].name&&it(Mt.start,"Argument name clash in strict mode")}return Dt(V,U?"FunctionDeclaration":"FunctionExpression")}function lr(V,U,tt){for(var rt=[],Et=!0;!ie(V);){if(Et)Et=!1;else if(le(Te),U&&w.allowTrailingCommas&&ie(V))break;tt&&O===Te?rt.push(null):rt.push(xe(!0))}return rt}function Ze(V){var U=ge();return V&&w.forbidReserved=="everywhere"&&(V=!1),O===kt?(!V&&(w.forbidReserved&&(w.ecmaVersion===3?Ke:xn)(B)||et&&Tr(B))&&v.slice(T,L).indexOf("\\")==-1&&it(T,"The keyword '"+B+"' is reserved"),U.name=B):V&&O.keyword?U.name=O.keyword:Ue(),q=!1,Ut(),Dt(U,"Identifier")}}),e.version||(e=null)}function s(y,w){return(t.acorn||e).parse(y,w)}var a={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},h={"-":"__negate","+":"__self"},o=E.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(y){this["__"+y]="#"+y},{__self:function(){return this}});z.inject(o),nt.inject(o),Qt.inject(o);function l(y,w,v){var x=a[w];if(y&&y[x]){var c=y[x](v);return w==="!="?!c:c}switch(w){case"+":return y+v;case"-":return y-v;case"*":return y*v;case"/":return y/v;case"%":return y%v;case"==":return y==v;case"!=":return y!=v}}function f(y,w){var v=h[y];if(w&&w[v])return w[v]();switch(y){case"+":return+w;case"-":return-w}}function g(y,w){if(!y)return"";w=w||{};var v=[];function x(et){for(var it=0,ct=v.length;it<ct;it++){var yt=v[it];if(yt[0]>=et)break;et+=yt[1]}return et}function c(et){return y.substring(x(et.range[0]),x(et.range[1]))}function b(et,it){return y.substring(x(et.range[1]),x(it.range[0]))}function P(et,it){for(var ct=x(et.range[0]),yt=x(et.range[1]),xt=0,Pt=v.length-1;Pt>=0;Pt--)if(ct>v[Pt][0]){xt=Pt+1;break}v.splice(xt,0,[ct,it.length-yt+ct]),y=y.substring(0,ct)+it+y.substring(yt)}function A(et,it){switch(et.type){case"UnaryExpression":if(et.operator in h&&et.argument.type!=="Literal"){var ct=c(et.argument);P(et,'$__("'+et.operator+'", '+ct+")")}break;case"BinaryExpression":if(et.operator in a&&et.left.type!=="Literal"){var yt=c(et.left),xt=c(et.right),Pt=b(et.left,et.right),kt=et.operator;P(et,"__$__("+yt+","+Pt.replace(new RegExp("\\"+kt),'"'+kt+'"')+", "+xt+")")}break;case"UpdateExpression":case"AssignmentExpression":var Ot=it&&it.type;if(!(Ot==="ForStatement"||Ot==="BinaryExpression"&&/^[=!<>]/.test(it.operator)||Ot==="MemberExpression"&&it.computed)){if(et.type==="UpdateExpression"){var ct=c(et.argument),Rt="__$__("+ct+', "'+et.operator[0]+'", 1)',Tt=ct+" = "+Rt;et.prefix?Tt="("+Tt+")":(Ot==="AssignmentExpression"||Ot==="VariableDeclarator"||Ot==="BinaryExpression")&&(c(it.left||it.id)===ct&&(Tt=Rt),Tt=ct+"; "+Tt),P(et,Tt)}else if(/^.=$/.test(et.operator)&&et.left.type!=="Literal"){var yt=c(et.left),xt=c(et.right),Rt=yt+" = __$__("+yt+', "'+et.operator[0]+'", '+xt+")";P(et,/^\(.*\)$/.test(c(et))?"("+Rt+")":Rt)}}break}}function C(et){switch(et.type){case"ExportDefaultDeclaration":P({range:[et.start,et.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var it=et.declaration,ct=et.specifiers;if(it){var yt=it.declarations;yt&&(yt.forEach(function(Pt){P(Pt,"module.exports."+c(Pt))}),P({range:[et.start,it.start+it.kind.length]},""))}else if(ct){var xt=ct.map(function(Pt){var kt=c(Pt);return"module.exports."+kt+" = "+kt+"; "}).join("");xt&&P(et,xt)}break}}function T(et,it,ct){if(et){for(var yt in et)if(yt!=="range"&&yt!=="loc"){var xt=et[yt];if(Array.isArray(xt))for(var Pt=0,kt=xt.length;Pt<kt;Pt++)T(xt[Pt],et,ct);else xt&&typeof xt=="object"&&T(xt,et,ct)}ct.operatorOverloading!==!1&&A(et,it),ct.moduleExports!==!1&&C(et)}}function L(et){var it="",ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(et=(Math.abs(et)<<1)+(et<0?1:0);et||!it;){var yt=et&31;et>>=5,et&&(yt|=32),it+=ct[yt]}return it}var M=w.url||"",F=w.sourceMaps,O=w.paperFeatures||{},B=w.source||y,q=w.offset||0,H=Bt.agent,j=H.versionNumber,Z=!1,ut=/\r\n|\n|\r/mg,ot;if(F&&(H.chrome&&j>=30||H.webkit&&j>=537.76||H.firefox&&j>=23||H.node)){if(H.node)q-=2;else if(G&&M&&!G.location.href.indexOf(M)){var ft=Q.getElementsByTagName("html")[0].innerHTML;q=ft.substr(0,ft.indexOf(y)+1).match(ut).length+1}Z=q>0&&!(H.chrome&&j>=36||H.safari&&j>=600||H.firefox&&j>=40||H.node);var mt=["AA"+L(Z?0:q)+"A"];mt.length=(y.match(ut)||[]).length+1+(Z?q:0),ot={version:3,file:M,names:[],mappings:mt.join(";AACA"),sourceRoot:"",sources:[M],sourcesContent:[B]}}return(O.operatorOverloading!==!1||O.moduleExports!==!1)&&T(s(y,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,O),ot&&(Z&&(y=new Array(q+1).join(`
`)+y),/^(inline|both)$/.test(F)&&(y+=`
//# sourceMappingURL=data:application/json;base64,`+vt.btoa(unescape(encodeURIComponent(JSON.stringify(ot))))),y+=`
//# sourceURL=`+(M||"paperscript")),{url:M,source:B,code:y,map:ot}}function m(y,w,v){Bt=w;var x=w.getView(),c=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(y)&&!/\bnew\s+Tool\b/.test(y)?new wi:null,b=c?c._events:[],P=["onFrame","onResize"].concat(b),A=[],C=[],T,L=typeof y=="object"?y:g(y,v);y=L.code;function M(j,Z){for(var ut in j)(Z||!/^_/.test(ut))&&new RegExp("([\\b\\s\\W]|^)"+ut.replace(/\$/g,"\\$")+"\\b").test(y)&&(A.push(ut),C.push(j[ut]))}M({__$__:l,$__:f,paper:w,tool:c},!0),M(w),y="var module = { exports: {} }; "+y;var q=E.each(P,function(j){new RegExp("\\s+"+j+"\\b").test(y)&&(A.push(j),this.push("module.exports."+j+" = "+j+";"))},[]).join(`
`);q&&(y+=`
`+q),y+=`
return module.exports;`;var F=Bt.agent;if(Q&&(F.chrome||F.firefox&&F.versionNumber<40)){var O=Q.createElement("script"),B=Q.head||Q.getElementsByTagName("head")[0];F.firefox&&(y=`
`+y),O.appendChild(Q.createTextNode("document.__paperscript__ = function("+A+") {"+y+`
}`)),B.appendChild(O),T=Q.__paperscript__,delete Q.__paperscript__,B.removeChild(O)}else T=Function(A,y);var q=T&&T.apply(w,C),H=q||{};return E.each(b,function(j){var Z=H[j];Z&&(c[j]=Z)}),x&&(H.onResize&&x.setOnResize(H.onResize),x.emit("resize",{size:x.size,delta:new z}),H.onFrame&&x.setOnFrame(H.onFrame),x.requestUpdate()),q}function p(y){if(/^text\/(?:x-|)paperscript$/.test(y.type)&&D.getAttribute(y,"ignore")!=="true"){var w=D.getAttribute(y,"canvas"),v=Q.getElementById(w),x=y.src||y.getAttribute("data-src"),c=D.hasAttribute(y,"async"),b="data-paper-scope";if(!v)throw new Error('Unable to find canvas with id "'+w+'"');var P=D.get(v.getAttribute(b))||new D().setup(v);return v.setAttribute(b,P._id),x?ti.request({url:x,async:c,mimeType:"text/plain",onLoad:function(A){m(A,P,x)}}):m(y.innerHTML,P,y.baseURI),y.setAttribute("data-paper-ignore","true"),P}}function d(){E.each(Q&&Q.getElementsByTagName("script"),p)}function S(y){return y?p(y):d()}return G&&(Q.readyState==="complete"?setTimeout(d):Zt.add(G,{load:d})),{compile:g,execute:m,load:S,parse:s,calculateBinary:l,calculateUnary:f}}).call(this);var Bt=new(D.inject(E.exports,{Base:E,Numerical:$,Key:fi,DomEvent:Zt,DomElement:Xt,document:Q,window:G,Symbol:se,PlacedSymbol:Ye}));return Bt.agent.node&&hn(Bt),typeof N=="function"&&N.amd?N("paper",Bt):wt&&(wt.exports=Bt),Bt}).call(oe,typeof self=="object"?self:null)})(mn);var gs=mn.exports;const _s=fn(gs),vs={class:"flex flex-col items-center"},ms={__name:"TopLogo",setup(wt){const{paper:vt}=_s;return jn(()=>{var N=document.getElementById("tsoop-logo");N.style.visibility="hidden",N.style.position="absolute";var G={width:N.getBBox().width,height:N.getBBox().width},Q={x:-G.width/2,y:-G.height/2},E=new vt.Project([G.width,G.height]);E.importSVG(N,{import:!1});var at=E.layers[0].children[0];at.parent.insertChildren(at.index,at.removeChildren()),at.remove(),E.layers[0].children[0].remove();var J=new Me.Illustration({element:".zdog-canvas",zoom:1,translate:{y:60,x:-10},onPrerender:function(bt){}}),X=4;let W=new Me.Anchor({addTo:J});E.layers[0].children.forEach(function(bt){var St=(bt.index-bt.parent.children.length/2)*X,Wt={Path(){var It=[];for(var k of bt.segments)k.index==0?It.push({x:k.point.x,y:k.point.y}):(It.push({bezier:[{x:k.previous.point.x+k.previous.handleOut.x,y:k.previous.point.y+k.previous.handleOut.y},{x:k.point.x+k.handleIn.x,y:k.point.y+k.handleIn.y},{x:k.point.x,y:k.point.y}]}),bt.closed&&k.index==bt.segments.length-1&&It.push({bezier:[{x:k.point.x+k.handleOut.x,y:k.point.y+k.handleOut.y},{x:k.next.point.x+k.next.handleIn.x,y:k.next.point.y+k.next.handleIn.y},{x:k.next.point.x,y:k.next.point.y}]}));new Me.Shape({addTo:W,path:It,closed:bt.closed,stroke:bt.strokeWidth,fill:bt.fillColor!=null,color:bt.strokeColor?bt.strokeColor.toCSS(!0):bt.fillColor.toCSS(!0),translate:{x:Q.x,y:Q.y,z:St}})},Shape(){var It={rectangle(){new Me.Rect({addTo:W,width:bt.size.width,height:bt.size.height,translate:{x:bt.position.x+Q.x,y:bt.position.y+Q.y,z:bt.index*X},fill:bt.fillColor!=null,stroke:bt.strokeWidth,color:bt.strokeColor?bt.strokeColor.toCSS(!0):bt.fillColor.toCSS(!0)})},ellipse(){new Me.Ellipse({addTo:W,width:bt.size.width,height:bt.size.height,translate:{x:bt.position.x+Q.x,y:bt.position.y+Q.y,z:St},fill:bt.fillColor!=null,stroke:bt.strokeWidth,color:bt.strokeColor?bt.strokeColor.toCSS(!0):bt.fillColor.toCSS(!0)})},circle(){new Me.Ellipse({addTo:W,diameter:bt.radius*2,translate:{x:bt.position.x+Q.x,y:bt.position.y+Q.y,z:St},fill:bt.fillColor!=null,stroke:bt.strokeWidth,color:bt.strokeColor?bt.strokeColor.toCSS(!0):bt.fillColor.toCSS(!0)})},default(){console.log(`Shape ${bt.type} not supported`)}};return(It[bt.type]||It.default)()},default(){console.log(`${bt.className} ${bt.type} not supported`)}};return(Wt[bt.className]||Wt.default)()});const $=Me.TAU;let st=new Me.Vector,z,pt;new Me.Dragger({startElement:".zdog-canvas",onDragStart:()=>{z=st.x,pt=st.y},onDragMove:function(bt,St,Wt){let It=Wt/J.width*$,k=St/J.width*$;st.x=z-It,st.y=pt-k}});let nt=0,Ct=200;function gt(){let bt=nt/Ct,St=Me.easeInOut(bt%3,20);J.rotate.y=St*Me.TAU,nt++,W.rotate.set(st),J.updateRenderGraph(),requestAnimationFrame(gt)}gt()}),(N,G)=>(Ni(),Ri("div",vs,G[0]||(G[0]=[Kt("svg",{id:"tsoop-logo",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"400",height:"108px",viewBox:"0 0 400 108",space:"preserve"},[Kt("line",{class:"st2",x1:"12.4",y1:"34.5",x2:"40.3",y2:"34.5"}),Kt("path",{class:"st2",d:"M26.4,8.9l-0.2,73.7c0,0,0,10.5,13.3,6.9"}),Kt("path",{class:"st2",d:"M51.8,78.7c6.6,14.2,39.3,13.6,40.3-2.8c1.2-20-38.7-10.1-38.2-27.8c0.4-15.7,26.9-19.2,38.1-5.4"}),Kt("circle",{class:"st2",cx:"129.7",cy:"62.1",r:"27.4"}),Kt("circle",{class:"st2",cx:"192.9",cy:"62.1",r:"27.4"}),Kt("line",{class:"st2",x1:"231",y1:"33.9",x2:"231",y2:"115.4"}),Kt("circle",{class:"st2",cx:"258.3",cy:"62.1",r:"27.4"}),Kt("line",{class:"st4",x1:"12.4",y1:"34.5",x2:"40.3",y2:"34.5"}),Kt("path",{class:"st4",d:"M26.4,8.9l-0.2,73.7c0,0,0,10.5,13.3,6.9"}),Kt("path",{class:"st4",d:"M51.8,78.7c6.6,14.2,39.3,13.6,40.3-2.8c1.2-20-38.7-10.1-38.2-27.8c0.4-15.7,26.9-19.2,38.1-5.4"}),Kt("circle",{class:"st4",cx:"129.7",cy:"62.1",r:"27.4"}),Kt("circle",{class:"st4",cx:"192.9",cy:"62.1",r:"27.4"}),Kt("line",{class:"st4",x1:"231",y1:"33.9",x2:"231",y2:"115.4"}),Kt("circle",{class:"st4",cx:"258.3",cy:"62.1",r:"27.4"}),Kt("line",{class:"st3",x1:"12.4",y1:"34.5",x2:"40.3",y2:"34.5"}),Kt("path",{class:"st3",d:"M26.4,8.9l-0.2,73.7c0,0,0,10.5,13.3,6.9"}),Kt("path",{class:"st3",d:"M51.8,78.7c6.6,14.2,39.3,13.6,40.3-2.8c1.2-20-38.7-10.1-38.2-27.8c0.4-15.7,26.9-19.2,38.1-5.4"}),Kt("circle",{class:"st3",cx:"129.7",cy:"62.1",r:"27.4"}),Kt("circle",{class:"st3",cx:"192.9",cy:"62.1",r:"27.4"}),Kt("line",{class:"st3",x1:"231",y1:"33.9",x2:"231",y2:"115.4"}),Kt("circle",{class:"st3",cx:"258.3",cy:"62.1",r:"27.4"})],-1),Kt("canvas",{class:"zdog-canvas",id:"tsoop",width:"360",height:"200"},null,-1)])))}},xs=Qi(ms,[["__scopeId","data-v-3fb20b7b"]]),ys={class:"row"};function bs(wt,vt){const N=xs;return Ni(),Ri("div",ys,[Li(N,{class:"flex-1"}),vt[0]||(vt[0]=Kt("div",{class:"title"},"live multimedia generation",-1))])}const ws={},Cs=Qi(ws,[["render",bs],["__scopeId","data-v-64c7c018"]]),As=JSON.parse('{"title":"live media generation","description":"","frontmatter":{"title":"live media generation","home":true,"mainLinks":{"instagram":"https://www.instagram.com/tsoop.music","bandcamp":"https://tsoop.bandcamp.com/","github":"https://github.com/tsoop-com","youtube":"https://www.youtube.com/@tsoop","spotify":"https://open.spotify.com/artist/0y3vCTnY6F5UROyBnOAPuF?si=TTC8BaneT0egl9Ek9Z11Hw","apple":"https://music.apple.com/us/artist/tsoop/1473343646"}},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":1755397092000}'),Ss={name:"index.md"},Es=Object.assign(Ss,{setup(wt){const{frontmatter:vt}=Kn();return(N,G)=>{const Q=Cs,E=is,at=Zn,D=Jn;return Ni(),Ri("div",null,[Li(Q),Li(E),Li(at,{color:"#709c65",class:"text-4xl py-16 row",links:Xn(vt).mainLinks},null,8,["links"]),Li(D,{class:"row"})])}}});export{As as __pageData,Es as default};
